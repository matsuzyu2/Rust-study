# Chapter 06: ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

> **ã“ã®ç« ã§å­¦ã¶ã“ã¨**: Vecã€HashMapã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ â€” ãƒ‡ãƒ¼ã‚¿ã®é›†åˆã‚’æ‰±ã†æ–¹æ³•

> ğŸ“– **è¨˜å·ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**: ã“ã®ç« ã§ã¯ `|x|`, `::`, `&`, `*` ãªã©ã®è¨˜å·ãŒé »ç¹ã«ç™»å ´ã—ã¾ã™ã€‚æ„å‘³ãŒã‚ã‹ã‚‰ãªããªã£ãŸã‚‰ [Chapter 11: è¨˜å·ãƒ»æ§‹æ–‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](11-syntax-reference.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ¯ ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ¦‚è¦

Rustã®ä¸»è¦ãªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å‹ï¼š

| å‹ | èª¬æ˜ | Pythonç›¸å½“ | JS/TSç›¸å½“ | ç‰¹å¾´ |
|---|------|-----------|----------|------|
| `Vec<T>` | å¯å¤‰é•·é…åˆ— | `list` | `Array` | æœ€é »å‡º |
| `HashMap<K, V>` | ã‚­ãƒ¼ãƒãƒªãƒ¥ãƒ¼ | `dict` | `Map`/`Object` | é«˜é€Ÿæ¤œç´¢ |
| `HashSet<T>` | é›†åˆ | `set` | `Set` | é‡è¤‡ãªã— |
| `VecDeque<T>` | ä¸¡ç«¯ã‚­ãƒ¥ãƒ¼ | `collections.deque` | â€” | å…ˆé ­/æœ«å°¾O(1) |
| `BTreeMap<K, V>` | é †åºä»˜ããƒãƒƒãƒ— | â€” | â€” | ã‚­ãƒ¼ã§ã‚½ãƒ¼ãƒˆ |

---

## Vec<T> â€” å¯å¤‰é•·é…åˆ—

æœ€ã‚‚ã‚ˆãä½¿ã†ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã€‚Pythonã®ãƒªã‚¹ãƒˆã€JavaScriptã®é…åˆ—ã«ç›¸å½“ã—ã¾ã™ã€‚

### ä½œæˆã¨åˆæœŸåŒ–

```rust
fn main() {
    // æ–¹æ³•1: ç©ºã®Vecã‚’ä½œæˆ
    let mut v1: Vec<i32> = Vec::new();
    
    // æ–¹æ³•2: ãƒã‚¯ãƒ­ã§åˆæœŸåŒ–ï¼ˆæœ€ã‚‚ä¸€èˆ¬çš„ï¼‰
    let v2 = vec![1, 2, 3, 4, 5];
    
    // æ–¹æ³•3: å®¹é‡ã‚’äº‹å‰ç¢ºä¿ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼‰
    let mut v3: Vec<i32> = Vec::with_capacity(100);
    
    // æ–¹æ³•4: åŒã˜å€¤ã§åŸ‹ã‚ã‚‹
    let v4 = vec![0; 10];  // [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
}
```

### å„è¡Œã‚’èª­ã¿è§£ã

```rust
let mut v1: Vec<i32> = Vec::new();
```
- `mut` = å¤‰æ›´å¯èƒ½ï¼ˆè¦ç´ ã®è¿½åŠ /å‰Šé™¤ã«å¿…è¦ï¼‰
- `Vec<i32>` = i32å‹ã®è¦ç´ ã‚’æŒã¤ãƒ™ã‚¯ã‚¿ãƒ¼
- `Vec::new()` = ç©ºã®ãƒ™ã‚¯ã‚¿ãƒ¼ã‚’ä½œæˆï¼ˆé–¢é€£é–¢æ•°ï¼‰

```rust
let v2 = vec![1, 2, 3, 4, 5];
```
- `vec!` = ãƒ™ã‚¯ã‚¿ãƒ¼ä½œæˆãƒã‚¯ãƒ­
- å‹ã¯è¦ç´ ã‹ã‚‰æ¨è«–ã•ã‚Œã‚‹ï¼ˆã“ã“ã§ã¯`Vec<i32>`ï¼‰

```rust
let mut v3: Vec<i32> = Vec::with_capacity(100);
```
- 100å€‹åˆ†ã®ãƒ¡ãƒ¢ãƒªã‚’äº‹å‰ç¢ºä¿
- è¦ç´ æ•°ãŒäºˆæ¸¬ã§ãã‚‹å ´åˆã«æœ‰åŠ¹ï¼ˆå†ã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é˜²ãï¼‰

ğŸ”„ **æ¯”è¼ƒ**:
```python
# Python
v1 = []
v2 = [1, 2, 3, 4, 5]
```

```typescript
// TypeScript
const v1: number[] = [];
const v2 = [1, 2, 3, 4, 5];
```

### è¦ç´ ã®è¿½åŠ ãƒ»å‰Šé™¤

```rust
fn main() {
    let mut v = vec![1, 2, 3];
    
    // æœ«å°¾ã«è¿½åŠ 
    v.push(4);           // [1, 2, 3, 4]
    
    // æœ«å°¾ã‚’å‰Šé™¤ï¼ˆOption<T>ã‚’è¿”ã™ï¼‰
    let last = v.pop();  // Some(4), v = [1, 2, 3]
    
    // æŒ‡å®šä½ç½®ã«æŒ¿å…¥
    v.insert(1, 10);     // [1, 10, 2, 3]
    
    // æŒ‡å®šä½ç½®ã‚’å‰Šé™¤
    v.remove(1);         // [1, 2, 3]
    
    // è¤‡æ•°è¿½åŠ 
    v.extend([4, 5, 6]); // [1, 2, 3, 4, 5, 6]
    
    // å…¨å‰Šé™¤
    v.clear();           // []
}
```

### è¦ç´ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];
    
    // æ–¹æ³•1: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆç¯„å›²å¤–ã§panicï¼‰
    let third = v[2];  // 3
    // let tenth = v[10];  // âš ï¸ panic!
    
    // æ–¹æ³•2: getãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆOptionã‚’è¿”ã™ã€å®‰å…¨ï¼‰
    let third: Option<&i32> = v.get(2);      // Some(&3)
    let tenth: Option<&i32> = v.get(10);     // None
    
    // æœ€åˆã¨æœ€å¾Œ
    let first = v.first();  // Some(&1)
    let last = v.last();    // Some(&5)
    
    // ç©ºã®ãƒ™ã‚¯ã‚¿ãƒ¼
    let empty: Vec<i32> = vec![];
    let first = empty.first();  // Noneï¼ˆpanicã—ãªã„ï¼‰
}
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  v[i] vs v.get(i) ã®ä½¿ã„åˆ†ã‘                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  v[i] ã‚’ä½¿ã†å ´é¢:                                                â”‚
â”‚  - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒç¢ºå®Ÿã«ç¯„å›²å†…ã¨åˆ†ã‹ã£ã¦ã„ã‚‹                       â”‚
â”‚  - ç¯„å›²å¤–ãªã‚‰ã€Œãƒã‚°ã€ã¨ã—ã¦panicã•ã›ãŸã„                          â”‚
â”‚                                                                 â”‚
â”‚  v.get(i) ã‚’ä½¿ã†å ´é¢:                                            â”‚
â”‚  - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒç¯„å›²å†…ã‹ä¸æ˜                                    â”‚
â”‚  - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ãªã©ã®å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã†                            â”‚
â”‚  - Noneã®å ´åˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä½¿ã„ãŸã„                            â”‚
â”‚                                                                 â”‚
â”‚  ä¾‹:                                                             â”‚
â”‚  let value = v.get(i).unwrap_or(&default);                      â”‚
â”‚  let value = v.get(i).copied().unwrap_or(0);                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¹ãƒ©ã‚¤ã‚¹ â€” ãƒ™ã‚¯ã‚¿ãƒ¼ã®ä¸€éƒ¨ã‚’å‚ç…§

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];
    
    let slice: &[i32] = &v[1..4];  // [2, 3, 4]ï¼ˆ1ä»¥ä¸Š4æœªæº€ï¼‰
    let all: &[i32] = &v[..];      // [1, 2, 3, 4, 5]
    let from_2: &[i32] = &v[2..];  // [3, 4, 5]
    let to_3: &[i32] = &v[..3];    // [1, 2, 3]
    
    // é–¢æ•°ã«ã‚¹ãƒ©ã‚¤ã‚¹ã‚’æ¸¡ã™
    print_slice(&v);          // Vecå…¨ä½“ã‚’ã‚¹ãƒ©ã‚¤ã‚¹ã¨ã—ã¦æ¸¡ã™
    print_slice(&v[1..4]);    // ä¸€éƒ¨ã‚’æ¸¡ã™
}

fn print_slice(slice: &[i32]) {
    for item in slice {
        println!("{}", item);
    }
}
```

ğŸ”„ **æ¯”è¼ƒï¼ˆPythonï¼‰**:
```python
v = [1, 2, 3, 4, 5]
slice = v[1:4]  # [2, 3, 4]ï¼ˆã‚³ãƒ”ãƒ¼ãŒä½œæˆã•ã‚Œã‚‹ï¼‰
```

**é‡è¦ãªé•ã„**: Pythonã®ã‚¹ãƒ©ã‚¤ã‚¹ã¯**ã‚³ãƒ”ãƒ¼**ã€Rustã®ã‚¹ãƒ©ã‚¤ã‚¹ã¯**å‚ç…§**ï¼ˆã‚³ãƒ”ãƒ¼ãªã—ã€é«˜é€Ÿï¼‰ã€‚

---

## HashMap<K, V> â€” ã‚­ãƒ¼ãƒãƒªãƒ¥ãƒ¼ãƒãƒƒãƒ—

è¾æ›¸å‹ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚

### ä½œæˆã¨åŸºæœ¬æ“ä½œ

```rust
use std::collections::HashMap;  // ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¿…è¦

fn main() {
    let mut scores = HashMap::new();
    
    // æŒ¿å…¥
    scores.insert(String::from("Blue"), 10);
    scores.insert(String::from("Yellow"), 50);
    
    // å–å¾—ï¼ˆOptionã‚’è¿”ã™ï¼‰
    let blue_score: Option<&i32> = scores.get("Blue");  // Some(&10)
    let red_score: Option<&i32> = scores.get("Red");    // None
    
    // å­˜åœ¨ç¢ºèª
    if scores.contains_key("Blue") {
        println!("Blueãƒãƒ¼ãƒ ã®ã‚¹ã‚³ã‚¢ãŒã‚ã‚Šã¾ã™");
    }
    
    // å‰Šé™¤
    scores.remove("Blue");
    
    // å…¨è¦ç´ ã‚’ã‚¤ãƒ†ãƒ¬ãƒ¼ãƒˆ
    for (key, value) in &scores {
        println!("{}: {}", key, value);
    }
}
```

ğŸ”„ **æ¯”è¼ƒ**:
```python
# Python
scores = {}
scores["Blue"] = 10
blue_score = scores.get("Blue")  # 10 or None
```

```typescript
// TypeScript
const scores = new Map<string, number>();
scores.set("Blue", 10);
const blueScore = scores.get("Blue");  // number | undefined
```

### Entry API â€” æ¡ä»¶ä»˜ãæŒ¿å…¥ãƒ»æ›´æ–°

HashMapã®æœ€ã‚‚å¼·åŠ›ãªæ©Ÿèƒ½ã§ã™ã€‚

```rust
use std::collections::HashMap;

fn main() {
    let mut scores = HashMap::new();
    
    // ã‚­ãƒ¼ãŒãªã‘ã‚Œã°æŒ¿å…¥ï¼ˆor_insertï¼‰
    scores.entry(String::from("Blue")).or_insert(50);
    scores.entry(String::from("Blue")).or_insert(100);  // æ—¢ã«ã‚ã‚‹ã®ã§ç„¡è¦–
    
    println!("{:?}", scores);  // {"Blue": 50}
}
```

### Entry APIã‚’èª­ã¿è§£ã

```rust
scores.entry(String::from("Blue")).or_insert(50);
```

```
scores.entry("Blue")
   â†“
Entryå‹ã‚’è¿”ã™ï¼ˆã‚­ãƒ¼ã®ã€Œã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã€ï¼‰

.or_insert(50)
   â†“
- ã‚­ãƒ¼ãŒãªã‘ã‚Œã° â†’ 50ã‚’æŒ¿å…¥ã—ã€ãã®å€¤ã¸ã®å¯å¤‰å‚ç…§ã‚’è¿”ã™
- ã‚­ãƒ¼ãŒã‚ã‚Œã° â†’ æ—¢å­˜ã®å€¤ã¸ã®å¯å¤‰å‚ç…§ã‚’è¿”ã™
```

### å®Ÿè·µä¾‹: ãƒ¯ãƒ¼ãƒ‰ã‚«ã‚¦ãƒ³ãƒˆ

```rust
use std::collections::HashMap;

fn main() {
    let text = "hello world wonderful world";
    let mut word_count = HashMap::new();
    
    for word in text.split_whitespace() {
        let count = word_count.entry(word).or_insert(0);
        *count += 1;  // å‚ç…§ã‚’é€šã˜ã¦å€¤ã‚’æ›´æ–°
    }
    
    println!("{:?}", word_count);
    // {"hello": 1, "world": 2, "wonderful": 1}
}
```

### å„è¡Œã‚’èª­ã¿è§£ã

```rust
let count = word_count.entry(word).or_insert(0);
```
- `entry(word)` = wordã«å¯¾å¿œã™ã‚‹ã‚¨ãƒ³ãƒˆãƒªã‚’å–å¾—
- `or_insert(0)` = ãªã‘ã‚Œã°0ã‚’æŒ¿å…¥ã€å€¤ã¸ã®`&mut`ã‚’è¿”ã™
- `count` = `&mut i32`å‹

```rust
*count += 1;
```
- `*count` = å‚ç…§ã‚’ã€Œãƒ‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã€ã—ã¦å€¤ã«ã‚¢ã‚¯ã‚»ã‚¹
- `+= 1` = å€¤ã‚’1å¢—ã‚„ã™

ğŸ”„ **æ¯”è¼ƒï¼ˆPythonï¼‰**:
```python
from collections import Counter
word_count = Counter(text.split())

# ã¾ãŸã¯
word_count = {}
for word in text.split():
    word_count[word] = word_count.get(word, 0) + 1
```

---

## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ â€” é…å»¶è©•ä¾¡ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å‡¦ç†

Rustã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯**é…å»¶è©•ä¾¡**ã§ã€ãƒã‚§ãƒ¼ãƒ³ã—ã¦ä½¿ã„ã¾ã™ã€‚

### ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¨ã¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®ç‰¹å¾´                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. é…å»¶è©•ä¾¡ï¼ˆLazyï¼‰                                             â”‚
â”‚     â†’ .map(), .filter() ã ã‘ã§ã¯ä½•ã‚‚å®Ÿè¡Œã•ã‚Œãªã„                  â”‚
â”‚     â†’ .collect(), .for_each() ãªã©ã§åˆã‚ã¦å®Ÿè¡Œ                   â”‚
â”‚                                                                 â”‚
â”‚  2. ãƒã‚§ãƒ¼ãƒ³å¯èƒ½                                                 â”‚
â”‚     â†’ .iter().filter(...).map(...).collect()                    â”‚
â”‚     â†’ ä¸­é–“ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‰ãªã„ï¼ˆãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒè‰¯ã„ï¼‰              â”‚
â”‚                                                                 â”‚
â”‚  3. ã‚¼ãƒ­ã‚³ã‚¹ãƒˆæŠ½è±¡åŒ–                                             â”‚
â”‚     â†’ forãƒ«ãƒ¼ãƒ—ã¨åŒç­‰ã®é€Ÿåº¦ã§å‹•ä½œ                                 â”‚
â”‚     â†’ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒæœ€é©åŒ–                                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];
    
    // forãƒ«ãƒ¼ãƒ—ï¼ˆæš—é»™çš„ã«ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ç”¨ï¼‰
    for x in &v {
        println!("{}", x);
    }
    
    // æ˜ç¤ºçš„ã«ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’å–å¾—
    let mut iter = v.iter();
    println!("{:?}", iter.next());  // Some(&1)
    println!("{:?}", iter.next());  // Some(&2)
    println!("{:?}", iter.next());  // Some(&3)
    println!("{:?}", iter.next());  // Some(&4)
    println!("{:?}", iter.next());  // Some(&5)
    println!("{:?}", iter.next());  // None
}
```

### 3ç¨®é¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ â€” æ‰€æœ‰æ¨©ã®è¦³ç‚¹ã‹ã‚‰

```rust
fn main() {
    let v = vec![String::from("a"), String::from("b")];
    
    // 1. iter() â€” ä¸å¤‰å‚ç…§ï¼ˆ&Tï¼‰ã‚’ç”Ÿæˆ
    for s in v.iter() {
        println!("{}", s);  // sã¯&String
    }
    println!("{:?}", v);  // âœ… vã¯ã¾ã ä½¿ãˆã‚‹
    
    // 2. iter_mut() â€” å¯å¤‰å‚ç…§ï¼ˆ&mut Tï¼‰ã‚’ç”Ÿæˆ
    let mut v = vec![1, 2, 3];
    for x in v.iter_mut() {
        *x *= 2;  // å„è¦ç´ ã‚’2å€ã«
    }
    println!("{:?}", v);  // [2, 4, 6]
    
    // 3. into_iter() â€” æ‰€æœ‰æ¨©ï¼ˆTï¼‰ã‚’å–å¾—
    let v = vec![String::from("a"), String::from("b")];
    for s in v.into_iter() {
        println!("{}", s);  // sã¯Stringï¼ˆæ‰€æœ‰æ¨©ã‚’æŒã¤ï¼‰
    }
    // println!("{:?}", v);  // âŒ vã¯ãƒ ãƒ¼ãƒ–ã•ã‚ŒãŸ
}
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3ç¨®é¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  .iter()      â†’ &T     èª­ã¿å–ã‚Šã®ã¿ã€å…ƒã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¿æŒ       â”‚
â”‚  .iter_mut()  â†’ &mut T å¤‰æ›´å¯èƒ½ã€å…ƒã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¿æŒ          â”‚
â”‚  .into_iter() â†’ T      æ‰€æœ‰æ¨©ã‚’å–å¾—ã€å…ƒã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¶ˆè²»       â”‚
â”‚                                                                 â”‚
â”‚  çœç•¥å½¢:                                                         â”‚
â”‚  for x in &v     = for x in v.iter()                            â”‚
â”‚  for x in &mut v = for x in v.iter_mut()                        â”‚
â”‚  for x in v      = for x in v.into_iter()                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚¢ãƒ€ãƒ—ã‚¿ â€” å¤‰æ›ãƒ¡ã‚½ãƒƒãƒ‰

ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’å¤‰æ›ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚**é…å»¶è©•ä¾¡**ãªã®ã§ã€æœ€å¾Œã«`collect()`ç­‰ã§æ¶ˆè²»ã™ã‚‹ã¾ã§å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚

### map â€” è¦ç´ ã‚’å¤‰æ›

```rust
fn main() {
    let v = vec![1, 2, 3];
    
    let doubled: Vec<i32> = v.iter()
        .map(|x| x * 2)
        .collect();
    
    println!("{:?}", doubled);  // [2, 4, 6]
}
```

### mapã‚’èª­ã¿è§£ã

```rust
v.iter()           // Vec<i32>ã‹ã‚‰Iterator<Item=&i32>ã‚’ä½œæˆ
    .map(|x| x * 2)  // å„è¦ç´ ã‚’2å€ã«å¤‰æ›ã™ã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã«å¤‰æ›
    .collect()       // çµæœã‚’Vec<i32>ã«åé›†
```

`|x| x * 2` ã¯ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ï¼ˆå¾Œè¿°ï¼‰ã§ã€å„è¦ç´ ã«é©ç”¨ã•ã‚Œã‚‹é–¢æ•°ã§ã™ã€‚

ğŸ”„ **æ¯”è¼ƒ**:
```python
# Python
doubled = [x * 2 for x in v]
doubled = list(map(lambda x: x * 2, v))
```

```typescript
// TypeScript
const doubled = v.map(x => x * 2);
```

### filter â€” æ¡ä»¶ã§çµã‚Šè¾¼ã¿

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5, 6];
    
    let evens: Vec<i32> = v.iter()
        .filter(|x| *x % 2 == 0)  // å¶æ•°ã ã‘
        .copied()                  // &i32 â†’ i32 ã«å¤‰æ›
        .collect();
    
    println!("{:?}", evens);  // [2, 4, 6]
}
```

### `*x`ã¨`.copied()`ã‚’èª­ã¿è§£ã

```rust
.filter(|x| *x % 2 == 0)
```
- `x`ã¯`&&i32`å‹ï¼ˆiter()ãŒ`&i32`ã‚’è¿”ã—ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒã•ã‚‰ã«å‚ç…§ã‚’å–ã‚‹ï¼‰
- `*x`ã§ãƒ‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã—ã¦`&i32`ã«ã—ã€`% 2`ã§æ¼”ç®—

```rust
.copied()
```
- `&i32` â†’ `i32` ã«å¤‰æ›ï¼ˆCopyå‹ã®ã¿ä½¿ç”¨å¯èƒ½ï¼‰
- ã“ã‚ŒãŒãªã„ã¨`Vec<&i32>`ã«ãªã£ã¦ã—ã¾ã†

### filter_map â€” ãƒ•ã‚£ãƒ«ã‚¿ + å¤‰æ›ã‚’åŒæ™‚ã«

```rust
fn main() {
    let strings = vec!["1", "two", "3", "four", "5"];
    
    let numbers: Vec<i32> = strings.iter()
        .filter_map(|s| s.parse().ok())  // ãƒ‘ãƒ¼ã‚¹æˆåŠŸã—ãŸã‚‚ã®ã ã‘
        .collect();
    
    println!("{:?}", numbers);  // [1, 3, 5]
}
```

`filter_map`ã¯ã€ŒSomeã‚’è¿”ã—ãŸã‚‚ã®ã ã‘æ®‹ã™ã€ã¨ã„ã†å‹•ä½œã‚’ã—ã¾ã™ã€‚

### fold â€” ç•³ã¿è¾¼ã¿ï¼ˆreduceï¼‰

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];
    
    // fold: åˆæœŸå€¤ã‚’æŒ‡å®šã—ã¦ç•³ã¿è¾¼ã¿
    let sum: i32 = v.iter().fold(0, |acc, x| acc + x);
    println!("Sum: {}", sum);  // 15
    
    // å°‚ç”¨ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ã‚ã‚‹
    let sum: i32 = v.iter().sum();
    let product: i32 = v.iter().product();  // 120
}
```

### foldã®å‹•ä½œ

```
fold(0, |acc, x| acc + x)

åˆæœŸå€¤: 0
  â†“
0 + 1 = 1
  â†“
1 + 2 = 3
  â†“
3 + 3 = 6
  â†“
6 + 4 = 10
  â†“
10 + 5 = 15
```

ğŸ”„ **æ¯”è¼ƒï¼ˆJavaScriptï¼‰**:
```javascript
const sum = v.reduce((acc, x) => acc + x, 0);
```

### ãã®ä»–ã®ä¾¿åˆ©ãªãƒ¡ã‚½ãƒƒãƒ‰

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];
    
    // take: æœ€åˆã®nå€‹
    let first_three: Vec<_> = v.iter().take(3).collect();  // [1, 2, 3]
    
    // skip: æœ€åˆã®nå€‹ã‚’ã‚¹ã‚­ãƒƒãƒ—
    let after_two: Vec<_> = v.iter().skip(2).collect();  // [3, 4, 5]
    
    // enumerate: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ã
    for (i, x) in v.iter().enumerate() {
        println!("{}: {}", i, x);  // 0: 1, 1: 2, ...
    }
    
    // zip: 2ã¤ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’çµåˆ
    let a = vec![1, 2, 3];
    let b = vec!["a", "b", "c"];
    let zipped: Vec<_> = a.iter().zip(b.iter()).collect();
    // [(1, "a"), (2, "b"), (3, "c")]
    
    // find: æ¡ä»¶ã«åˆã†æœ€åˆã®è¦ç´ 
    let first_even = v.iter().find(|x| *x % 2 == 0);  // Some(&2)
    
    // any / all: æ¡ä»¶åˆ¤å®š
    let has_even = v.iter().any(|x| x % 2 == 0);  // true
    let all_positive = v.iter().all(|x| *x > 0);  // true
    
    // count: è¦ç´ æ•°
    let even_count = v.iter().filter(|x| *x % 2 == 0).count();  // 2
    
    // max / min
    let max = v.iter().max();  // Some(&5)
    let min = v.iter().min();  // Some(&1)
}
```

---

## ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ â€” ç’°å¢ƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹ç„¡åé–¢æ•°

ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¯**ç’°å¢ƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã§ãã‚‹ç„¡åé–¢æ•°**ã§ã™ã€‚

### åŸºæœ¬æ§‹æ–‡

```rust
fn main() {
    let x = 4;
    
    // ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ï¼ˆxã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ï¼‰
    let add_x = |n| n + x;
    
    println!("{}", add_x(5));  // 9
}
```

### ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®æ§‹æ–‡ã‚’èª­ã¿è§£ã

```rust
let add_x = |n| n + x;
```

```
|n|         ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒªã‚¹ãƒˆï¼ˆå‹æ¨è«–ã•ã‚Œã‚‹ï¼‰
n + x       æœ¬ä½“ï¼ˆå˜ä¸€å¼ãªã‚‰{}ä¸è¦ï¼‰

â†“ æ˜ç¤ºçš„ã«æ›¸ãã¨
|n: i32| -> i32 { n + x }
```

ğŸ”„ **æ¯”è¼ƒ**:
```python
# Python
x = 4
add_x = lambda n: n + x
```

```typescript
// TypeScript
const x = 4;
const addX = (n: number) => n + x;
```

### è¤‡æ•°è¡Œã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£

```rust
fn main() {
    let complex = |x: i32| {
        let y = x * 2;
        let z = y + 1;
        z  // æœ€å¾Œã®å¼ãŒæˆ»ã‚Šå€¤
    };
    
    println!("{}", complex(5));  // 11
}
```

### ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®ã‚­ãƒ£ãƒ—ãƒãƒ£æ–¹æ³•

ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒç’°å¢ƒã‚’ã©ã†æ•æ‰ã™ã‚‹ã‹ã¯3ç¨®é¡ã‚ã‚Šã¾ã™ï¼š

```rust
fn main() {
    // 1. ä¸å¤‰å€Ÿç”¨ï¼ˆFnï¼‰â€” æœ€ã‚‚ä¸€èˆ¬çš„
    let s = String::from("hello");
    let print = || println!("{}", s);  // sã‚’ä¸å¤‰å€Ÿç”¨
    print();
    print();
    println!("{}", s);  // âœ… sã¯ã¾ã ä½¿ãˆã‚‹
    
    // 2. å¯å¤‰å€Ÿç”¨ï¼ˆFnMutï¼‰
    let mut s = String::from("hello");
    let mut append = || s.push_str(" world");  // sã‚’å¯å¤‰å€Ÿç”¨
    append();
    // println!("{}", s);  // âŒ appendãŒå¯å¤‰å€Ÿç”¨ä¸­ã¯ä½¿ãˆãªã„
    
    // appendã‚’ä½¿ã„çµ‚ã‚ã£ãŸå¾Œãªã‚‰
    println!("{}", s);  // âœ… "hello world"
    
    // 3. æ‰€æœ‰æ¨©ã®å–å¾—ï¼ˆFnOnceï¼‰
    let s = String::from("hello");
    let consume = move || println!("{}", s);  // moveã§sã®æ‰€æœ‰æ¨©ã‚’å–å¾—
    consume();
    // println!("{}", s);  // âŒ sã¯ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«ãƒ ãƒ¼ãƒ–ã•ã‚ŒãŸ
}
```

### `move`ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰

```rust
fn main() {
    let s = String::from("hello");
    
    // moveãªã—: å‚ç…§ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£
    let closure = || println!("{}", s);
    
    // moveã‚ã‚Š: æ‰€æœ‰æ¨©ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£
    let closure = move || println!("{}", s);
    // sã¯ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«ãƒ ãƒ¼ãƒ–ã•ã‚ŒãŸ
}
```

**moveãŒå¿…è¦ãªå ´é¢**:
- ã‚¹ãƒ¬ãƒƒãƒ‰ã«æ¸¡ã™ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£
- ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’è¿”ã™é–¢æ•°
- ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®å•é¡Œã‚’å›é¿

```rust
use std::thread;

fn main() {
    let s = String::from("hello");
    
    // ã‚¹ãƒ¬ãƒƒãƒ‰ã«æ¸¡ã™å ´åˆã¯moveãŒå¿…è¦
    let handle = thread::spawn(move || {
        println!("{}", s);
    });
    
    handle.join().unwrap();
}
```

---

## å®Ÿè·µãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ãƒã‚§ãƒ¼ãƒ³ã§å‡¦ç†

```rust
#[derive(Debug)]
struct User {
    name: String,
    age: u32,
    active: bool,
}

fn get_active_adult_names(users: &[User]) -> Vec<String> {
    users.iter()
        .filter(|u| u.active && u.age >= 18)
        .map(|u| u.name.clone())
        .collect()
}
```

ğŸ”„ **æ¯”è¼ƒï¼ˆPythonï¼‰**:
```python
def get_active_adult_names(users):
    return [u.name for u in users if u.active and u.age >= 18]
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°

```rust
use std::collections::HashMap;

fn group_by_age(users: &[User]) -> HashMap<u32, Vec<&User>> {
    let mut groups: HashMap<u32, Vec<&User>> = HashMap::new();
    
    for user in users {
        groups.entry(user.age).or_default().push(user);
    }
    
    groups
}
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³3: æ¡ä»¶ä»˜ãæœ€å¤§å€¤

```rust
fn main() {
    let numbers = vec![3, 1, 4, 1, 5, 9, 2, 6];
    
    let max = numbers.iter().max();           // Some(&9)
    let min = numbers.iter().min();           // Some(&1)
    
    // å¶æ•°ã®æœ€å¤§å€¤
    let max_even = numbers.iter()
        .filter(|x| *x % 2 == 0)
        .max();  // Some(&6)
    
    // ã‚«ã‚¹ã‚¿ãƒ æ¯”è¼ƒã§æœ€å¤§å€¤
    let users = vec![
        User { name: "Alice".into(), age: 30, active: true },
        User { name: "Bob".into(), age: 25, active: true },
    ];
    let oldest = users.iter().max_by_key(|u| u.age);
    // Some(&User { name: "Alice", age: 30, ... })
}
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³4: Result/Optionã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

```rust
fn parse_numbers(strings: Vec<&str>) -> Result<Vec<i32>, std::num::ParseIntError> {
    // ã™ã¹ã¦æˆåŠŸã—ãŸã‚‰Okã€1ã¤ã§ã‚‚å¤±æ•—ã—ãŸã‚‰Err
    strings.iter()
        .map(|s| s.parse::<i32>())
        .collect()  // Result<Vec<i32>, Error>ã«åé›†
}

fn main() {
    let ok = parse_numbers(vec!["1", "2", "3"]);     // Ok([1, 2, 3])
    let err = parse_numbers(vec!["1", "two", "3"]); // Err(ParseIntError)
}
```

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è€ƒæ…®

### ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯ã‚¼ãƒ­ã‚³ã‚¹ãƒˆ

Rustã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯**ã‚¼ãƒ­ã‚³ã‚¹ãƒˆæŠ½è±¡åŒ–**ã§ã™ã€‚forãƒ«ãƒ¼ãƒ—ã¨åŒç­‰ã®é€Ÿåº¦ã§å‹•ä½œã—ã¾ã™ã€‚

```rust
// ã“ã®2ã¤ã¯åŒã˜é€Ÿåº¦
let sum1: i32 = (0..1000).sum();

let mut sum2 = 0;
for i in 0..1000 {
    sum2 += i;
}
```

### collectæ™‚ã®å‹ãƒ’ãƒ³ãƒˆ

```rust
fn main() {
    let v = vec![1, 2, 3];
    
    // æ–¹æ³•1: å¤‰æ•°ã«å‹ã‚’æ˜ç¤º
    let doubled: Vec<i32> = v.iter().map(|x| x * 2).collect();
    
    // æ–¹æ³•2: ã‚¿ãƒ¼ãƒœãƒ•ã‚£ãƒƒã‚·ãƒ¥è¨˜æ³•
    let doubled = v.iter().map(|x| x * 2).collect::<Vec<i32>>();
    
    // æ–¹æ³•3: éƒ¨åˆ†çš„ãªå‹ãƒ’ãƒ³ãƒˆï¼ˆè¦ç´ å‹ã¯æ¨è«–ï¼‰
    let doubled: Vec<_> = v.iter().map(|x| x * 2).collect();
}
```

### å®¹é‡ã®äº‹å‰ç¢ºä¿

```rust
fn main() {
    let source = vec![1, 2, 3, 4, 5];
    
    // å®¹é‡ã‚’äº‹å‰ç¢ºä¿ï¼ˆå†ã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é˜²ãï¼‰
    let mut result = Vec::with_capacity(source.len());
    for x in &source {
        result.push(x * 2);
    }
    
    // ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã§ã‚‚åŒæ§˜ã®åŠ¹æœï¼ˆsize_hintã‚’ä½¿ç”¨ï¼‰
    let result: Vec<_> = source.iter().map(|x| x * 2).collect();
}
```

---

## ã¾ã¨ã‚

| æ¦‚å¿µ | Python | JavaScript | Rust |
|-----|--------|------------|------|
| å¯å¤‰é•·é…åˆ— | `list` | `Array` | `Vec<T>` |
| ãƒãƒƒãƒ— | `dict` | `Map`/`Object` | `HashMap<K, V>` |
| ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ | ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ | Array methods | `Iterator`ãƒˆãƒ¬ã‚¤ãƒˆ |
| å¤‰æ› | ãƒªã‚¹ãƒˆå†…åŒ…è¡¨è¨˜ | `.map()` | `.iter().map()` |
| çµã‚Šè¾¼ã¿ | å†…åŒ…è¡¨è¨˜+if | `.filter()` | `.iter().filter()` |
| ç•³ã¿è¾¼ã¿ | `functools.reduce` | `.reduce()` | `.fold()` |
| ç„¡åé–¢æ•° | `lambda` | ã‚¢ãƒ­ãƒ¼é–¢æ•° | ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ `\|x\| x` |

ğŸ¯ **ã“ã®ç« ã®ãƒã‚¤ãƒ³ãƒˆ**:
- **Vec<T>** = æœ€é »å‡ºã€`vec!`ãƒã‚¯ãƒ­ã§ä½œæˆ
- **HashMap** = `entry()`APIã§æ¡ä»¶ä»˜ãæŒ¿å…¥ãŒç°¡å˜
- **ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿** = é…å»¶è©•ä¾¡ã€ãƒã‚§ãƒ¼ãƒ³ã§å‡¦ç†ã‚’çµ„ã¿ç«‹ã¦
- **3ç¨®é¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿** = `.iter()` / `.iter_mut()` / `.into_iter()`
- **ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£** = `|x| expr`ã€`move`ã§æ‰€æœ‰æ¨©ã‚’å–å¾—
- **ã‚¼ãƒ­ã‚³ã‚¹ãƒˆ** = ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯forãƒ«ãƒ¼ãƒ—ã¨åŒç­‰é€Ÿåº¦

---

## TypeScript/Pythonã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãŸã‚ã®ç§»è¡Œã‚³ãƒ©ãƒ 

### å†…åŒ…è¡¨è¨˜ vs ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒã‚§ãƒ¼ãƒ³

```python
# Python: ãƒªã‚¹ãƒˆå†…åŒ…è¡¨è¨˜
evens = [x * 2 for x in numbers if x % 2 == 0]
```

```rust
// Rust: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒã‚§ãƒ¼ãƒ³
let evens: Vec<_> = numbers.iter()
    .filter(|x| *x % 2 == 0)
    .map(|x| x * 2)
    .collect();
```

æœ€åˆã¯é•·ãæ„Ÿã˜ã¾ã™ãŒã€è¤‡é›‘ãªå‡¦ç†ã§ã¯èª­ã¿ã‚„ã™ããªã‚Šã¾ã™ã€‚

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼1: `*`å¿˜ã‚Œ**
```rust
v.iter().filter(|x| x % 2 == 0)  // âŒ &i32ã¯ % ã§ããªã„
v.iter().filter(|x| *x % 2 == 0) // âœ…
```

**ã‚¨ãƒ©ãƒ¼2: `collect()`å¿˜ã‚Œ**
```rust
let result = v.iter().map(|x| x * 2);  // å‹: Map<...> ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿
let result: Vec<_> = v.iter().map(|x| x * 2).collect();  // å‹: Vec<i32>
```

**ã‚¨ãƒ©ãƒ¼3: å€Ÿç”¨ä¸­ã®push**
```rust
for x in &v {
    v.push(x * 2);  // âŒ å€Ÿç”¨ä¸­ã«å¤‰æ›´ã§ããªã„
}
```

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

[Chapter 07: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«](07-modules.md) ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã™ã‚‹ãŸã‚ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’å­¦ã³ã¾ã™ã€‚`mod`ã€`use`ã€`pub`ã€ã‚¯ãƒ¬ãƒ¼ãƒˆã®æ§‹é€ ã‚’è§£èª¬ã—ã¾ã™ã€‚
