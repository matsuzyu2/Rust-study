# Chapter 05: ãƒˆãƒ¬ã‚¤ãƒˆãƒ»ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ ã€œå¯¾è©±ç·¨ã€œ

> **ã“ã®ç« ã§å­¦ã¶ã“ã¨**: ãƒˆãƒ¬ã‚¤ãƒˆï¼ˆæŒ¯ã‚‹èˆã„ã®æŠ½è±¡åŒ–ï¼‰ã€ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ï¼ˆå‹ã®æŠ½è±¡åŒ–ï¼‰ã€ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œã€é™çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã¨å‹•çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ

> ğŸ“– **è¨˜å·ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**: ã“ã®ç« ã§ã¯ `<T>`, `&self`, `dyn`, `impl` ãªã©å¤šãã®è¨˜å·ãŒç™»å ´ã—ã¾ã™ã€‚æ„å‘³ãŒã‚ã‹ã‚‰ãªããªã£ãŸã‚‰ [Chapter 11: è¨˜å·ãƒ»æ§‹æ–‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](11-syntax-reference.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°ï¼šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¿ãŸã„ãªã‚‚ã®ï¼Ÿ

ãƒ¬ã‚¤ãŒãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«`trait Summary`ã¨æ›¸ãå§‹ã‚ãŸã¨ãã€ãƒ¦ã‚¤ã¯æ—¢è¦–æ„Ÿã‚’è¦šãˆãŸã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã­ãˆãƒ¬ã‚¤å…ˆè¼©ã€ã“ã‚ŒTypeScriptã®interfaceã£ã½ããªã„ã§ã™ã‹ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒãŠã€ã„ã„ã¨ã“ã‚ã«æ°—ã¥ã„ãŸã­ã€‚ç¢ºã‹ã«ä¼¼ã¦ã‚‹ã€‚ã§ã‚‚æ±ºå®šçš„ãªé•ã„ãŒ1ã¤ã‚ã‚‹ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œé•ã„â€¦ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã¾ãšæ­´å²ã®è©±ã‚’ã™ã‚‹ã‚ã­ã€‚Rustã®ãƒˆãƒ¬ã‚¤ãƒˆã¯ã€å®Ÿã¯**Haskellã®å‹ã‚¯ãƒ©ã‚¹**ã‹ã‚‰å¼·ãå½±éŸ¿ã‚’å—ã‘ã¦ã‚‹ã®ã€‚ã€

### ãƒˆãƒ¬ã‚¤ãƒˆã®è¨­è¨ˆæ€æƒ³ â€” Haskellã‹ã‚‰ã®éºç”£

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ï¼ˆãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«å›³ã‚’æãï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®æŠ½è±¡åŒ–ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã®æ­´å²                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1990å¹´ä»£: Haskell â€” å‹ã‚¯ãƒ©ã‚¹ (Type Class)                       â”‚
â”‚     ã€Œã“ã®å‹ã¯â—‹â—‹ã¨ã„ã†æŒ¯ã‚‹èˆã„ãŒã§ãã‚‹ã€ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ä¿è¨¼       â”‚
â”‚     é™çš„å‹ä»˜ã‘ + å¤šç›¸æ€§ï¼ˆãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ï¼‰                        â”‚
â”‚                                                                 â”‚
â”‚  2000å¹´ä»£: Java/C# â€” ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ + ç¶™æ‰¿                      â”‚
â”‚     ã‚¯ãƒ©ã‚¹éšå±¤ãƒ™ãƒ¼ã‚¹ã€is-aé–¢ä¿‚ãŒä¸­å¿ƒ                             â”‚
â”‚                                                                 â”‚
â”‚  2010å¹´ä»£: Rust â€” ãƒˆãƒ¬ã‚¤ãƒˆï¼ˆå‹ã‚¯ãƒ©ã‚¹ã®ç™ºå±•å½¢ï¼‰                    â”‚
â”‚     ç¶™æ‰¿ãªã—ã€åˆæˆãƒ™ãƒ¼ã‚¹ã€æ‰€æœ‰æ¨©ã¨çµ±åˆ                            â”‚
â”‚     é™çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒï¼ˆã‚¼ãƒ­ã‚³ã‚¹ãƒˆæŠ½è±¡åŒ–ï¼‰ã¨                        â”‚
â”‚     å‹•çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã‚’é¸æŠå¯èƒ½                                   â”‚
â”‚                                                                 â”‚
â”‚  Goè¨€èªã‚‚æ§‹é€ çš„éƒ¨åˆ†å‹ã ãŒã€Rustã®ãƒˆãƒ¬ã‚¤ãƒˆã¯ã€Œæ˜ç¤ºçš„ãªå®Ÿè£…å®£è¨€ã€     â”‚
â”‚  ãŒå¿…è¦ â†’ æ„å›³ã—ãªã„å®Ÿè£…ã‚’é˜²ã’ã‚‹                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒHaskellâ€¦é–¢æ•°å‹è¨€èªã®ã‚„ã¤ã§ã™ã‚ˆã­ã€‚ãã“ã‹ã‚‰æ¥ã¦ã‚‹ã‚“ã§ã™ã‹ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚Rustã®è¨­è¨ˆè€…ãŸã¡ã¯Haskellã®å‹ã‚¯ãƒ©ã‚¹ãŒæŒã¤ã€å®‰å…¨æ€§ã€ã¨ã€è¡¨ç¾åŠ›ã€ã‚’å–ã‚Šå…¥ã‚ŒãŸã‹ã£ãŸã®ã€‚ã§ã‚‚Haskellã¯ç´”ç²‹é–¢æ•°å‹ã§ã€Rustã¯ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã€‚ã ã‹ã‚‰æ‰€æœ‰æ¨©ã‚·ã‚¹ãƒ†ãƒ ã¨çµ±åˆã™ã‚‹å½¢ã§ã€ãƒˆãƒ¬ã‚¤ãƒˆã€ã¨ã—ã¦å†è¨­è¨ˆã•ã‚ŒãŸã®ã‚ˆã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚‹ã»ã©â€¦å˜ã«interfaceã‚’ã‚³ãƒ”ãƒ¼ã—ãŸã‚ã‘ã˜ã‚ƒãªã„ã‚“ã§ã™ã­ã€

### å„è¨€èªã¨ã®æ¯”è¼ƒ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ¯”è¼ƒè¡¨ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¨­è¨ˆæ€æƒ³ã®é•ã„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pythonï¼ˆãƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ï¼‰                                      â”‚
â”‚    â†’ ã€Œå®Ÿè¡Œæ™‚ã«ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Œã°OKã€                               â”‚
â”‚    â†’ æŸ”è»Ÿã ãŒã€ãƒã‚°ãŒæœ¬ç•ªç’°å¢ƒã¾ã§æ½œã‚€å¯èƒ½æ€§                        â”‚
â”‚                                                                 â”‚
â”‚  TypeScriptï¼ˆinterfaceï¼‰                                        â”‚
â”‚    â†’ ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒã‚§ãƒƒã‚¯ã€                                   â”‚
â”‚    â†’ ã§ã‚‚æ§‹é€ çš„éƒ¨åˆ†å‹ãªã®ã§ã€æ˜ç¤ºçš„ãªå®£è¨€ä¸è¦                      â”‚
â”‚                                                                 â”‚
â”‚  Rustï¼ˆãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œï¼‰                                            â”‚
â”‚    â†’ ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒ¡ã‚½ãƒƒãƒ‰ã®å­˜åœ¨ã‚’ä¿è¨¼ã€                        â”‚
â”‚    â†’ å³æ ¼ã§ã€æ˜ç¤ºçš„ãªå®Ÿè£…å®£è¨€ãŒå¿…è¦                               â”‚
â”‚    â†’ ãƒã‚°ã‚’ãƒªãƒªãƒ¼ã‚¹å‰ã«ç™ºè¦‹ã§ãã‚‹                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒPythonã§ç—›ã„ç›®ã«ã‚ã£ãŸã“ã¨ãªã„? æœ¬ç•ªã§çªç„¶`AttributeError`ãŒå‡ºã‚‹ã‚„ã¤ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ãƒ¼ã€ã‚ã‚‹ã‚ã‚‹ã€‚`summarize()`ãƒ¡ã‚½ãƒƒãƒ‰ã ã¨æ€ã£ã¦å‘¼ã‚“ã ã‚‰ã€å®Ÿã¯`summrize()`ã£ã¦ã‚¿ã‚¤ãƒã—ã¦ãŸã¨ã‹...ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†! Rustã§ã¯ãã†ã„ã†ãƒã‚°ã¯**çµ¶å¯¾ã«æœ¬ç•ªã¾ã§å±Šã‹ãªã„**ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã®æ®µéšã§å¼¾ã‹ã‚Œã‚‹ã‹ã‚‰ã€

---

## ãƒˆãƒ¬ã‚¤ãƒˆã®åŸºæœ¬ â€” å¥‘ç´„æ›¸ã¨ã—ã¦ç†è§£ã™ã‚‹

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒˆãƒ¬ã‚¤ãƒˆã‚’ã€å¥‘ç´„æ›¸ã€ã ã¨æ€ã£ã¦ã€‚ã“ã‚“ãªé¢¨ã«æ›¸ã:ã€

```rust
trait Summary {
    fn summarize(&self) -> String;
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`&self`ã£ã¦ä½•? Pythonã®`self`ã¨ã¯é•ã†ã®?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã„ã„è³ªå•! Rustã¯æ‰€æœ‰æ¨©ãŒã‚ã‚‹ã‹ã‚‰ã€selfã®æ‰±ã„ãŒ3ç¨®é¡ã‚ã‚‹ã‚“ã :ã€

ãƒ¦ã‚¤ãŒãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«æ›¸ãåŠ ãˆã‚‹:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãªãœ &self ãªã®ã‹?                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  self      â†’ æ‰€æœ‰æ¨©ã‚’å¥ªã†ã€‚ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—å¾Œã€å…ƒã®å¤‰æ•°ã¯ä½¿ãˆãªã„ â”‚
â”‚  &self     â†’ ä¸å¤‰å€Ÿç”¨ã€‚èª­ã¿å–ã‚Šã®ã¿ã€‚å…ƒã®å¤‰æ•°ã¯ãã®å¾Œã‚‚ä½¿ãˆã‚‹     â”‚
â”‚  &mut self â†’ å¯å¤‰å€Ÿç”¨ã€‚èª­ã¿æ›¸ãå¯èƒ½ã€‚å…ƒã®å¤‰æ•°ã¯ãã®å¾Œã‚‚ä½¿ãˆã‚‹     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  summarize()ã¯å€¤ã‚’èª­ã‚€ã ã‘ãªã®ã§ã€&selfï¼ˆä¸å¤‰å€Ÿç”¨ï¼‰ã§ååˆ†       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚‹ã»ã©ã€‚Pythonã¯å…¨éƒ¨å‚ç…§ã ã‹ã‚‰æ°—ã«ã—ãªã„ã‘ã©ã€Rustã¯æ˜ç¤ºçš„ã«ã©ã†æ‰±ã†ã‹å®£è¨€ã™ã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã„ã†ã“ã¨ã€‚ã˜ã‚ƒã‚ã€ã“ã®å¥‘ç´„ã‚’å®Ÿè£…ã—ã¦ã¿ã‚ˆã†:ã€

```rust
struct Article {
    title: String,
    author: String,
    content: String,
}

struct Tweet {
    username: String,
    content: String,
}

// ã€ŒArticleã¯Summaryãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã™ã‚‹ã€ã¨ã„ã†å®£è¨€
impl Summary for Article {
    fn summarize(&self) -> String {
        format!("{}, by {}", self.title, self.author)
    }
}

// ã€ŒTweetã‚‚Summaryãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã™ã‚‹ã€
impl Summary for Tweet {
    fn summarize(&self) -> String {
        format!("@{}: {}", self.username, self.content)
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`impl Summary for Article`ã®èª­ã¿æ–¹ã¯...ã€Articleã«Summaryã‚’å®Ÿè£…ã™ã‚‹ã€?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå®Œç’§! ã“ã®ä¸€æ–‡ã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ã€Articleå‹ã¯å¿…ãš`summarize()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã£ã¦ã„ã‚‹ã€ã“ã¨ã‚’ä¿è¨¼ã§ãã‚‹ã€

---

## ãƒ¬ã‚¤ã€ŒPythonã¨ã®æ±ºå®šçš„ãªé•ã„ã‚’å®Ÿæ„Ÿã—ãŸ...ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã¡ã‚‡ã£ã¨è©¦ã—ã¦ã¿ãŸã„ã‚“ã ã‘ã©ã€ã‚ã–ã¨ã‚¿ã‚¤ãƒã—ãŸã‚‰ã©ã†ãªã‚‹?ã€

```rust
impl Summary for Article {
    fn summrize(&self) -> String {  // typo: summrize
        format!("{}", self.title)
    }
}
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒå³åº§ã«æ€’ã£ã¦ãã‚Œã‚‹:ã€

```
error[E0407]: method `summrize` is not a member of trait `Summary`
 --> src/main.rs:15:5
  |
15|     fn summrize(&self) -> String {
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ not a member of trait `Summary`
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã“ã‚Œã€ã™ã”ããªã„? Pythonã ã£ãŸã‚‰æœ¬ç•ªã§åˆã‚ã¦æ°—ã¥ãã‚„ã¤ã˜ã‚ƒã‚“ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ç‰¹ã«ãƒãƒ¼ãƒ é–‹ç™ºã ã¨å¨åŠ›ã‚’ç™ºæ®ã™ã‚‹ã€‚èª°ã‹ãŒAPIã‚’å¤‰æ›´ã—ãŸã‚‰ã€ãã®ç¬é–“ã«å½±éŸ¿ã‚’å—ã‘ã‚‹ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€

ãƒ¦ã‚¤ã¯TypeScriptã®ã‚³ãƒ¼ãƒ‰ã‚‚æ¨ªã«æ›¸ã„ãŸ:

```typescript
interface Summary {
    summarize(): string;
}

class Article implements Summary {
    constructor(
        public title: string,
        public author: string,
        public content: string
    ) {}

    summarize(): string {
        return `${this.title}, by ${this.author}`;
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒTypeScriptã§ã‚‚ãƒã‚§ãƒƒã‚¯ã¯ã•ã‚Œã‚‹ã‚ˆã­ã€‚ä½•ãŒé•ã†ã®?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒTypeScriptã¯**æ§‹é€ çš„éƒ¨åˆ†å‹**ã ã‹ã‚‰ã€`implements Summary`ã‚’æ›¸ã‹ãªãã¦ã‚‚ã€`summarize()`ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Œã°é€šã‚‹ã€

```typescript
// TypeScript: implements ã‚’æ›¸ã‹ãªãã¦ã‚‚OK
class Article {
    summarize(): string { return "..."; }
}

function print(item: Summary) {
    console.log(item.summarize());
}

print(new Article());  // âœ… æ§‹é€ ãŒä¸€è‡´ã™ã‚‹ã®ã§OK
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã§ã‚‚Rustã¯**åç¾©å‹**ã€‚æ˜ç¤ºçš„ã«`impl Summary for Article`ã¨å®£è¨€ã—ãªã„ã¨ã€ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œã‚’æº€ãŸã•ãªã„ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ˜ç¤ºçš„ãªå¥‘ç´„ãŒå¿…è¦ã£ã¦ã“ã¨ã‹...ã€

---

## ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£… â€” DRYã®åŸå‰‡ã‚’å®ˆã‚‹

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒˆãƒ¬ã‚¤ãƒˆã«ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ã€ã‚’æŒãŸã›ã‚‰ã‚Œã‚‹ã€‚ã“ã‚Œä¾¿åˆ©ãªã‚“ã ã‚ˆã€

```rust
trait Summary {
    fn summarize(&self) -> String {
        String::from("(ç¶šãã‚’èª­ã‚€...)")  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…
    }
}

struct Article {
    title: String,
}

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ã‚’ãã®ã¾ã¾ä½¿ã†ï¼ˆä¸­èº«ã‚’æ›¸ã‹ãªãã¦ã‚ˆã„ï¼‰
impl Summary for Article {}

fn main() {
    let article = Article { title: String::from("Rust") };
    println!("{}", article.summarize());  // "(ç¶šãã‚’èª­ã‚€...)"
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œä¸­èº«ãŒç©ºã®`impl`...? ã“ã‚Œã§å‹•ãã®?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå‹•ãã€‚ãƒˆãƒ¬ã‚¤ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ãŒã‚ã‚‹ã‹ã‚‰ã€‚ã‚‚ã¡ã‚ã‚“ã€ä¸Šæ›¸ãã‚‚ã§ãã‚‹:ã€

```rust
impl Summary for Article {
    fn summarize(&self) -> String {
        format!("Title: {}", self.title)  // ä¸Šæ›¸ã
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ10å€‹ã®å‹ãŒåŒã˜å®Ÿè£…ã‚’ä½¿ã†ãªã‚‰ã€ã‚³ãƒ¼ãƒ‰ã‚’10å›æ›¸ã‹ãªãã¦æ¸ˆã‚€ã‚ã‘ã‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚DRYåŸå‰‡ï¼ˆDon't Repeat Yourselfï¼‰ã‚’å®ˆã‚Œã‚‹ã€‚ã—ã‹ã‚‚å‹å®‰å…¨ã«ã€

---

## ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œ â€” å‹ã«åˆ¶ç´„ã‚’ã¤ã‘ã‚‹

ãƒ¦ã‚¤ãŒæ–°ã—ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«æ›¸ã„ãŸ: **ã€Œãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œ â€” Rustã®çœŸéª¨é ‚ã€**

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã“ã‹ã‚‰ãŒæœ¬ç•ªã€‚Pythonã§ã“ã‚“ãªé–¢æ•°ã€æ›¸ã„ãŸã“ã¨ã‚ã‚‹ã§ã—ã‚‡?ã€

```python
def notify(item):
    print(f"é€Ÿå ±ï¼ {item.summarize()}")

notify(Article())        # âœ… OK
notify("æ–‡å­—åˆ—ã§ã™")      # âŒ å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼: AttributeError
notify(42)               # âŒ å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼: AttributeError
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ãƒ¼ã€ãƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã®ã‚¢ãƒ¬ã­ã€‚å®Ÿè¡Œã™ã‚‹ã¾ã§ã‚ã‹ã‚‰ãªã„ã‚„ã¤ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒRustã§ã¯ã“ã†æ›¸ã:ã€

```rust
// Summaryãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ã‚‹å‹ã®ã¿å—ã‘å…¥ã‚Œã‚‹
fn notify(item: &impl Summary) {
    println!("é€Ÿå ±ï¼ {}", item.summarize());
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`&impl Summary`ã£ã¦ä½•?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œåˆ†è§£ã™ã‚‹ã¨:ã€

```
&impl Summary
 â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ Summaryãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ä½•ã‚‰ã‹ã®å‹
 â””â”€ å‚ç…§ï¼ˆå€Ÿç”¨ï¼‰
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒã‚§ãƒƒã‚¯ãŒå…¥ã‚‹:ã€

```rust
notify(&article);  // âœ… Articleã¯Summaryã‚’å®Ÿè£…ã—ã¦ã„ã‚‹
notify(&tweet);    // âœ… Tweetã‚‚Summaryã‚’å®Ÿè£…ã—ã¦ã„ã‚‹
notify(&42);       // âŒ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼i32ã¯Summaryã‚’å®Ÿè£…ã—ã¦ã„ãªã„
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚“ãªæ„Ÿã˜:ã€

```
error[E0277]: the trait bound `i32: Summary` is not satisfied
 --> src/main.rs:5:12
  |
5 |     notify(&42);
  |            ^^^ the trait `Summary` is not implemented for `i32`
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œè¦ªåˆ‡ã™ãã‚‹...ã€i32ã¯Summaryã‚’å®Ÿè£…ã—ã¦ãªã„ã€ã£ã¦æ˜ç¤ºçš„ã«æ•™ãˆã¦ãã‚Œã‚‹ã‚“ã ã€

---

## impl Trait vs ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹æ§‹æ–‡

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå®Ÿã¯`&impl Summary`ã£ã¦ã€ç³–è¡£æ§‹æ–‡ãªã‚“ã ã€‚æ­£å¼ã«ã¯ã“ã†:ã€

```rust
// ç³–è¡£æ§‹æ–‡
fn notify(item: &impl Summary) { ... }

// æ˜ç¤ºçš„ãªã‚¸ã‚§ãƒãƒªã‚¯ã‚¹æ§‹æ–‡ï¼ˆå®Œå…¨ã«åŒã˜æ„å‘³ï¼‰
fn notify<T: Summary>(item: &T) { ... }
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`<T: Summary>`...ã“ã‚ŒTypeScriptã®`<T extends Summary>`ã«ä¼¼ã¦ã‚‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†! ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯åŒã˜ã€‚åˆ†è§£ã™ã‚‹ã¨:ã€

ãƒ¦ã‚¤ãŒãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«æ›¸ã:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <T: Summary> ã®åˆ†è§£                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    <T>          å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å®£è¨€ã€‚ã€ŒTã¨ã„ã†åå‰ã®å‹ã‚’ä½¿ã†ã€      â”‚
â”‚                                                                 â”‚
â”‚    T: Summary   ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œã€‚ã€ŒTã¯Summaryã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã€         â”‚
â”‚                                                                 â”‚
â”‚    item: &T     å¼•æ•°itemã®å‹ã¯ã€ŒTã¸ã®å‚ç…§ã€                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã˜ã‚ƒã‚ã€ã©ã£ã¡ã‚’ä½¿ãˆã°ã„ã„ã®?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚·ãƒ³ãƒ—ãƒ«ãªå ´åˆã¯`impl Trait`ã®æ–¹ãŒèª­ã¿ã‚„ã™ã„ã€‚ã§ã‚‚è¤‡æ•°ã®å¼•æ•°ã§åŒã˜å‹ã‚’å¼·åˆ¶ã—ãŸã„ã¨ãã¯ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã˜ã‚ƒãªã„ã¨ç„¡ç†ã€

```rust
// ã“ã‚Œã ã¨ã€item1ã¨item2ã¯ç•°ãªã‚‹å‹ã§ã‚‚OK
fn notify(item1: &impl Summary, item2: &impl Summary) { ... }

// ã“ã‚Œã ã¨ã€item1ã¨item2ã¯å¿…ãšåŒã˜å‹
fn notify<T: Summary>(item1: &T, item2: &T) { ... }
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚‹ã»ã©! å‹ã®ä¸€è‡´ã‚’å¼·åˆ¶ã—ãŸã„ãªã‚‰ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã­ã€

---

## è¤‡æ•°ã®ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œ â€” ANDæ¡ä»¶

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒDisplayã¨Debugã€ä¸¡æ–¹å®Ÿè£…ã—ã¦ã‚‹å‹ã ã‘å—ã‘å…¥ã‚ŒãŸã„ã¨ãã¯:ã€

```rust
use std::fmt::{Debug, Display};

// Displayã¨Debugã®ä¸¡æ–¹ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹å‹ã®ã¿å—ã‘å…¥ã‚Œã‚‹
fn print_info<T: Display + Debug>(item: &T) {
    println!("Display: {}", item);
    println!("Debug: {:?}", item);
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`+`ãŒANDæ¡ä»¶ãªã‚“ã ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã§ã‚‚ã“ã‚ŒãŒé•·ããªã‚‹ã¨èª­ã¿ã«ãã„ã‹ã‚‰ã€`where`å¥ã‚’ä½¿ã†:ã€

```rust
// èª­ã¿ã«ãã„...
fn some_function<T: Display + Clone + Debug, U: Clone + Debug>(t: &T, u: &U) -> i32 {
    // ...
}

// whereå¥ã§è¦‹ã‚„ã™ã
fn some_function<T, U>(t: &T, u: &U) -> i32
where
    T: Display + Clone + Debug,
    U: Clone + Debug,
{
    // ...
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œç¢ºã‹ã«è¦‹ã‚„ã™ã„! é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã¨åˆ¶ç´„ãŒåˆ†é›¢ã•ã‚Œã¦ã‚‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œç‰¹ã«é–¢é€£å‹ã¸ã®åˆ¶ç´„ã¨ã‹ã€è¤‡é›‘ãªæ¡ä»¶ã«ãªã‚‹ã¨whereã˜ã‚ƒãªã„ã¨æ›¸ã‘ãªã„ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚‹:ã€

```rust
fn process<I>(iter: I)
where
    I: Iterator,
    I::Item: Display,  // é–¢é€£å‹ã¸ã®åˆ¶ç´„ã¯whereãŒå¿…è¦
{
    for item in iter {
        println!("{}", item);
    }
}
```

---

## ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ â€” å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã™ã‚‹

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®è©±ãŒã¡ã‚‡ãã¡ã‚‡ãå‡ºã¦ãã‚‹ã‘ã©ã€ãã‚‚ãã‚‚ãªã‚“ã§ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãŒå¿…è¦ãªã®?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œä¾‹ãˆã°ã“ã‚“ãªé–¢æ•°ã‚’æ›¸ã„ãŸã¨ã—ã‚ˆã†:ã€

```rust
fn largest_i32(list: &[i32]) -> &i32 {
    let mut largest = &list[0];
    for item in list {
        if item > largest {
            largest = item;
        }
    }
    largest
}
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ¬¡ã«ã€f64ã§ã‚‚åŒã˜ã“ã¨ã—ãŸããªã£ãŸã‚‰?ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ãƒ¼...åŒã˜ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒšã—ã¦ã€å‹ã ã‘å¤‰ãˆã‚‹?ã€

```rust
fn largest_f64(list: &[f64]) -> &f64 { ... }  // ã»ã¼åŒã˜ã‚³ãƒ¼ãƒ‰
fn largest_char(list: &[char]) -> &char { ... }  // ã»ã¼åŒã˜ã‚³ãƒ¼ãƒ‰
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã“ã‚ŒãŒDRYåŸå‰‡é•åã€‚ã—ã‹ã‚‚ãƒã‚°ã®æ¸©åºŠã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã˜ã‚ƒã‚ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†!ã€

```rust
fn largest<T: PartialOrd>(list: &[T]) -> &T {
    let mut largest = &list[0];
    for item in list {
        if item > largest {
            largest = item;
        }
    }
    largest
}

fn main() {
    let numbers = vec![34, 50, 25, 100, 65];
    println!("æœ€å¤§: {}", largest(&numbers));  // i32ã§å‹•ã

    let chars = vec!['y', 'm', 'a', 'q'];
    println!("æœ€å¤§: {}", largest(&chars));    // charã§ã‚‚å‹•ã
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ1ã¤ã®é–¢æ•°ã§å…¨éƒ¨å¯¾å¿œã§ãã‚‹...! ã§ã‚‚`PartialOrd`ã£ã¦ä½•?ã€

---

## ãªãœPartialOrdãŒå¿…è¦ãªã®ã‹

ãƒ¦ã‚¤ãŒãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«å¤§ããæ›¸ã„ãŸ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãªãœ PartialOrd ãªã®ã‹?                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pythonã§ã¯ a > b ã¨æ›¸ã‘ã°ã€PythonãŒå®Ÿè¡Œæ™‚ã«æ¯”è¼ƒã‚’è©¦ã¿ã‚‹          â”‚
â”‚  æ¯”è¼ƒã§ããªã„å‹ãªã‚‰å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼                                   â”‚
â”‚                                                                 â”‚
â”‚  Rustã§ã¯ã€Œæ¯”è¼ƒå¯èƒ½ãªå‹ã®ã¿ã€ã¨ã„ã†åˆ¶ç´„ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒã‚§ãƒƒã‚¯     â”‚
â”‚  PartialOrd ã‚’å®Ÿè£…ã—ã¦ã„ãªã„å‹ã‚’æ¸¡ã™ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œé–¢æ•°å†…ã§`item > largest`ã£ã¦æ¯”è¼ƒã—ã¦ã‚‹ã§ã—ã‚‡? ã™ã¹ã¦ã®å‹ãŒæ¯”è¼ƒã§ãã‚‹ã‚ã‘ã˜ã‚ƒãªã„ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œä¾‹ãˆã°?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œé–¢æ•°å‹ã¯æ¯”è¼ƒã§ããªã„ã€‚ã ã‹ã‚‰ã€æ¯”è¼ƒå¯èƒ½ãªå‹ã ã‘ã‚’å—ã‘å…¥ã‚Œã‚‹åˆ¶ç´„ãŒå¿…è¦ã€

```rust
fn largest<T>(list: &[T]) -> &T {  // âŒ T: PartialOrd ãŒãªã„!
    let mut largest = &list[0];
    for item in list {
        if item > largest {  // ã‚¨ãƒ©ãƒ¼: TãŒæ¯”è¼ƒå¯èƒ½ã‹ä¸æ˜
            largest = item;
        }
    }
    largest
}
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯æ•™ãˆã¦ãã‚Œã‚‹:ã€

```
error[E0369]: binary operation `>` cannot be applied to type `&T`
  |
6 |         if item > largest {
  |            ---- ^ ------- &T
  |            |
  |            &T
  |
help: consider restricting type parameter `T`
  |
1 | fn largest<T: std::cmp::PartialOrd>(list: &[T]) -> &T {
  |             +++++++++++++++++++++++
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œè¦ªåˆ‡! ã€PartialOrdåˆ¶ç´„ã‚’ä»˜ã‘ãŸã‚‰?ã€ã£ã¦ææ¡ˆã—ã¦ãã‚Œã¦ã‚‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒTypeScriptã ã¨ã“ã†ã¯ã„ã‹ãªã„:ã€

```typescript
function largest<T>(list: T[]): T {
    // TypeScriptã¯æ¯”è¼ƒæ¼”ç®—å­ã®åˆ¶ç´„ã‚’å‹ã§è¡¨ç¾ã—ã«ãã„
    return list.reduce((a, b) => a > b ? a : b);
}

// ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåŒå£«ã®æ¯”è¼ƒã‚‚é€šã£ã¦ã—ã¾ã†ï¼ˆæ„å‘³ãªã„ã®ã«ï¼‰
largest([{name: "Alice"}, {name: "Bob"}]);  // âŒ å®Ÿè¡Œæ™‚ã«å¤‰ãªçµæœ
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒRustã®ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œã€ã‹ãªã‚Šå¼·åŠ›ã ã­...ã€

---

## ã‚¸ã‚§ãƒãƒªãƒƒã‚¯æ§‹é€ ä½“ â€” ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚‚æŠ½è±¡åŒ–

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œé–¢æ•°ã ã‘ã˜ã‚ƒãªãã¦ã€æ§‹é€ ä½“ã«ã‚‚ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ä½¿ãˆã‚‹:ã€

```rust
struct Point<T> {
    x: T,
    y: T,
}

fn main() {
    let int_point = Point { x: 5, y: 10 };       // Point<i32>
    let float_point = Point { x: 1.0, y: 4.0 };  // Point<f64>
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`Point<T>`...Tã¯ä½¿ç”¨æ™‚ã«æ±ºã¾ã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚Rustã®å‹æ¨è«–ãŒå¼·åŠ›ã ã‹ã‚‰ã€æ˜ç¤ºçš„ã«æ›¸ã‹ãªãã¦ã‚‚æ¨è«–ã—ã¦ãã‚Œã‚‹ã€

```rust
// æ˜ç¤ºçš„ã«æ›¸ããªã‚‰
let int_point: Point<i32> = Point { x: 5, y: 10 };

// ã§ã‚‚å‹æ¨è«–ã§ååˆ†
let int_point = Point { x: 5, y: 10 };  // xã¨yãŒi32ãªã®ã§ã€Point<i32>ã¨æ¨è«–
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã“ã‚Œxã¨yã§å‹ã‚’å¤‰ãˆãŸã‹ã£ãŸã‚‰?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œè¤‡æ•°ã®å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã†:ã€

```rust
struct Point<T, U> {
    x: T,
    y: U,
}

fn main() {
    let mixed = Point { x: 5, y: 4.0 };  // Point<i32, f64>
}
```

---

## ã‚¸ã‚§ãƒãƒªãƒƒã‚¯æ§‹é€ ä½“ã¸ã®ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã™ã‚‹ã¨ãã‚‚ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’ä½¿ã†:ã€

```rust
impl<T> Point<T> {
    fn x(&self) -> &T {
        &self.x
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`impl<T> Point<T>`...èª­ã¿æ–¹ã¯?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã€å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿Tã‚’ä½¿ã£ã¦ã€Point<T>ã¨ã„ã†å‹ã«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã™ã‚‹ã€ã£ã¦æ„å‘³ã€

ãƒ¦ã‚¤ãŒå›³ã‚’æã:

```
impl<T> Point<T>
 â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€ Point<T>ã¨ã„ã†å‹ã«å¯¾ã—ã¦
 â”‚   â””â”€ å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿Tã‚’å°å…¥
 â””â”€ å®Ÿè£…ãƒ–ãƒ­ãƒƒã‚¯
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã¯ã€ã©ã‚“ãªå‹Tã«å¯¾ã—ã¦ã‚‚ã€Point<T>ã¯ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤ã€ã£ã¦å®£è¨€ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã˜ã‚ƒã‚ã€f64å°‚ç”¨ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‹ã‚‚ä½œã‚Œã‚‹?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚‚ã¡ã‚ã‚“!ã€

```rust
// f64å°‚ç”¨ã®ãƒ¡ã‚½ãƒƒãƒ‰
impl Point<f64> {
    fn distance_from_origin(&self) -> f64 {
        (self.x.powi(2) + self.y.powi(2)).sqrt()
    }
}

fn main() {
    let float_point = Point { x: 3.0, y: 4.0 };
    println!("è·é›¢ = {}", float_point.distance_from_origin());  // 5.0

    let int_point = Point { x: 3, y: 4 };
    // int_point.distance_from_origin();  // âŒ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼f64å°‚ç”¨
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œå‹ã‚·ã‚¹ãƒ†ãƒ ã§ã€f64ã®ã¨ãã ã‘ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒä½¿ãˆã‚‹ã€ã£ã¦è¡¨ç¾ã§ãã‚‹ã‚“ã ...ã™ã”ã„ã€

---

## ã‚ˆãä½¿ã†æ¨™æº–ãƒˆãƒ¬ã‚¤ãƒˆ â€” deriveã®é­”æ³•

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒRustã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯ã€é »ç¹ã«ä½¿ã†ãƒˆãƒ¬ã‚¤ãƒˆãŒç”¨æ„ã•ã‚Œã¦ã‚‹ã€‚å¤šãã¯`#[derive(...)]`ã§è‡ªå‹•å®Ÿè£…ã§ãã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`#[derive(...)]`ã£ã¦ä½•? è¦‹ãŸã“ã¨ã‚ã‚‹ã‘ã©ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒã‚¯ãƒ­ã€‚ã“ã†æ›¸ãã¨:ã€

```rust
#[derive(Debug)]
struct Point {
    x: i32,
    y: i32,
}
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã“ã†ã„ã†ã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ï¼ˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰:ã€

```rust
impl std::fmt::Debug for Point {
    fn fmt(&self, f: &mut std::fmt::Formatter) -> std::fmt::Result {
        f.debug_struct("Point")
            .field("x", &self.x)
            .field("y", &self.y)
            .finish()
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ›¸ã‹ãªãã¦æ¸ˆã‚€ã‚ã‘ã‹!ã€

---

## Debug â€” ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›

```rust
#[derive(Debug)]
struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let p = Point { x: 1, y: 2 };
    println!("{:?}", p);   // Point { x: 1, y: 2 }
    println!("{:#?}", p);  // æ•´å½¢å‡ºåŠ›ï¼ˆPretty printï¼‰
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒPythonã®`__repr__`ã¿ãŸã„ãªã‚‚ã‚“ã ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚JavaScriptã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’console.logã™ã‚‹ã®ã«ã‚‚ä¼¼ã¦ã‚‹ã€

---

## Clone vs Copy â€” å€¤ã®ã‚³ãƒ”ãƒ¼ã®2ã¤ã®æµå„€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã€åˆå­¦è€…ãŒæ··ä¹±ã—ãŒã¡ãªãƒã‚¤ãƒ³ãƒˆã€

ãƒ¦ã‚¤ãŒãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«æ›¸ã:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Clone vs Copy                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Clone  æ˜ç¤ºçš„ï¼ˆ.clone()ãŒå¿…è¦ï¼‰ã€ãƒ’ãƒ¼ãƒ—ãƒ‡ãƒ¼ã‚¿ã‚‚ã‚³ãƒ”ãƒ¼å¯èƒ½       â”‚
â”‚  Copy   æš—é»™çš„ï¼ˆä»£å…¥æ™‚ã«è‡ªå‹•ã‚³ãƒ”ãƒ¼ï¼‰ã€ã‚¹ã‚¿ãƒƒã‚¯ã®ã¿ã®å‹é™å®š        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Stringã¯ãƒ’ãƒ¼ãƒ—ã‚’ä½¿ã†ã®ã§Copyã‚’å®Ÿè£…ã§ããªã„ â†’ Cloneã®ã¿          â”‚
â”‚  i32, f64, boolç­‰ã¯ã‚¹ã‚¿ãƒƒã‚¯ã®ã¿ â†’ Copyå®Ÿè£…å¯èƒ½                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Clone ã®ä¾‹**:

```rust
#[derive(Clone)]
struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let p1 = Point { x: 1, y: 2 };
    let p2 = p1.clone();  // æ˜ç¤ºçš„ã«ã‚³ãƒ”ãƒ¼ã‚’ä½œæˆ
    // p1ã‚‚p2ã‚‚ä¸¡æ–¹ä½¿ãˆã‚‹
}
```

**Copy ã®ä¾‹**:

```rust
#[derive(Copy, Clone)]  // Copyã«ã¯CloneãŒå¿…è¦
struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let p1 = Point { x: 1, y: 2 };
    let p2 = p1;  // ãƒ ãƒ¼ãƒ–ã§ã¯ãªãã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹
    println!("{:?}", p1);  // âœ… p1ã‚‚ã¾ã ä½¿ãˆã‚‹
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒCopyãŒã‚ã‚‹ã¨ã€æ‰€æœ‰æ¨©ã®ãƒ ãƒ¼ãƒ–ãŒèµ·ããªã„ã‚“ã ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚i32ã¨ã‹ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ãŒCopyã‚’å®Ÿè£…ã—ã¦ã‚‹ã‹ã‚‰ã€æ™®é€šã«ä»£å…¥ã§ãã‚‹ã‚“ã ã‚ˆã­ã€

---

## PartialEq, Eq, PartialOrd, Ord â€” æ¯”è¼ƒã®ãƒˆãƒ¬ã‚¤ãƒˆ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œç­‰ä¾¡æ¯”è¼ƒã¨é †åºæ¯”è¼ƒã®ãƒˆãƒ¬ã‚¤ãƒˆ:ã€

```rust
#[derive(PartialEq, Eq)]
struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let p1 = Point { x: 1, y: 2 };
    let p2 = Point { x: 1, y: 2 };
    println!("{}", p1 == p2);  // true
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒPartialEqã¨Eqã®é•ã„ã¯?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒPartialEqã¯ã€ç­‰ã—ã„ã‹ã©ã†ã‹ã‚’æ¯”è¼ƒã§ãã‚‹ã€ã ã‘ã€‚Eqã¯ã€å¸¸ã«åå°„å¾‹ãŒæˆã‚Šç«‹ã¤ã€ã€

```
PartialEq: == ãŒä½¿ãˆã‚‹
Eq:        a == a ãŒå¸¸ã«trueï¼ˆåå°„å¾‹ï¼‰

f64ã¯NaN != NaNãªã®ã§PartialEqã®ã¿å®Ÿè£…
i32ã¯Eqã‚‚å®Ÿè£…ã§ãã‚‹
```

**é †åºæ¯”è¼ƒ**:

```rust
#[derive(PartialEq, Eq, PartialOrd, Ord)]
struct Score(i32);

fn main() {
    let mut scores = vec![Score(80), Score(95), Score(70)];
    scores.sort();  // OrdãŒã‚ã‚‹ã¨ã‚½ãƒ¼ãƒˆå¯èƒ½
    let max = scores.iter().max();  // Some(&Score(95))
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒOrdãŒã‚ã‚‹ã¨ã€ã‚½ãƒ¼ãƒˆã¨ã‹max/minãŒä½¿ãˆã‚‹ã®ã‹ã€

---

## Default â€” ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è³¢ãæ‰±ã†

```rust
#[derive(Default)]
struct Config {
    debug: bool,    // false
    port: u16,      // 0
    name: String,   // ""
}

fn main() {
    let config = Config::default();

    // ä¸€éƒ¨ã ã‘å¤‰æ›´ã—ãŸã„å ´åˆ
    let custom = Config {
        debug: true,
        ..Default::default()  // æ®‹ã‚Šã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
    };
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`..Default::default()`ã£ã¦ä½•?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ§‹é€ ä½“æ›´æ–°æ§‹æ–‡ã€‚ã€æ®‹ã‚Šã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã“ã‚Œã‹ã‚‰å–ã£ã¦ãã¦ã€ã£ã¦æ„å‘³ã€

**ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤**:

```rust
impl Default for Config {
    fn default() -> Self {
        Config {
            debug: false,
            port: 8080,  // 0ã§ã¯ãªã8080
            name: String::from("App"),
        }
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ‰‹å‹•ã§å®Ÿè£…ã™ã‚Œã°ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹ã‚“ã ã€

---

## From ã¨ Into â€” å‹å¤‰æ›ã®æ¨™æº–ãƒ‘ã‚¿ãƒ¼ãƒ³

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå‹å¤‰æ›ã‚’å®šç¾©ã™ã‚‹ãƒˆãƒ¬ã‚¤ãƒˆ:ã€

```rust
struct Millimeters(u32);
struct Meters(u32);

// ã€ŒMetersã‹ã‚‰Millimetersã¸ã®å¤‰æ›ã€ã‚’å®šç¾©
impl From<Meters> for Millimeters {
    fn from(m: Meters) -> Self {
        Millimeters(m.0 * 1000)
    }
}

fn main() {
    let m = Meters(5);

    // 2ã¤ã®æ›¸ãæ–¹ï¼ˆã©ã¡ã‚‰ã‚‚åŒã˜çµæœï¼‰
    let mm1 = Millimeters::from(Meters(5));  // From
    let mm2: Millimeters = Meters(5).into(); // Intoï¼ˆFromãŒã‚ã‚Œã°Intoã¯è‡ªå‹•å®Ÿè£…ï¼‰
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒFromã‚’å®Ÿè£…ã™ã‚‹ã¨ã€IntoãŒå‹æ‰‹ã«ä½¿ãˆã‚‹ã®?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã“ã‚ŒãŒãƒ–ãƒ©ãƒ³ã‚±ãƒƒãƒˆå®Ÿè£…ã€‚æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã“ã‚“ãªå®šç¾©ãŒã‚ã‚‹:ã€

```rust
// æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå†…ã®å®šç¾©ï¼ˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰
impl<T, U> Into<U> for T
where
    U: From<T>,
{
    fn into(self) -> U {
        U::from(self)
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã ã‹ã‚‰ã€Fromã ã‘å®Ÿè£…ã™ã‚Œã°Intoã‚‚ã¤ã„ã¦ãã‚‹!ã€

---

## ãƒˆãƒ¬ã‚¤ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ â€” å‹•çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã®ä¸–ç•Œ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã“ã¾ã§ã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã¯ã€é™çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã€ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å‹ãŒæ±ºã¾ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã˜ã‚ƒã‚ã€ç•°ãªã‚‹å‹ã‚’åŒã˜ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«å…¥ã‚ŒãŸã„ã¨ãã¯?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã‚ŒãŒã§ããªã„ã®ãŒã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®é™ç•Œ:ã€

```rust
// ã“ã‚Œã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼
let shapes: Vec<???> = vec![
    Circle { radius: 5.0 },      // Circleå‹
    Rectangle { width: 10.0, height: 5.0 },  // Rectangleå‹ â† å‹ãŒé•ã†ï¼
];
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`Vec<T>`ã®Tã«ã¯1ã¤ã®å‹ã—ã‹å…¥ã‚Œã‚‰ã‚Œãªã„ã€‚ã“ã“ã§**ãƒˆãƒ¬ã‚¤ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**ã®å‡ºç•ªã€

```rust
trait Draw {
    fn draw(&self);
}

struct Circle {
    radius: f64,
}

struct Rectangle {
    width: f64,
    height: f64,
}

impl Draw for Circle {
    fn draw(&self) {
        println!("Circle with radius {}", self.radius);
    }
}

impl Draw for Rectangle {
    fn draw(&self) {
        println!("Rectangle {}x{}", self.width, self.height);
    }
}

fn main() {
    // dyn Draw = ã€ŒDrawãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ãŸä½•ã‚‰ã‹ã®å‹ã€
    let shapes: Vec<Box<dyn Draw>> = vec![
        Box::new(Circle { radius: 5.0 }),
        Box::new(Rectangle { width: 10.0, height: 5.0 }),
    ];

    for shape in shapes {
        shape.draw();  // å®Ÿè¡Œæ™‚ã«é©åˆ‡ãªdraw()ãŒå‘¼ã°ã‚Œã‚‹
    }
}
```

---

## Box<dyn Draw> ã‚’å¾¹åº•è§£å‰–

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`Box<dyn Draw>`...åˆè¦‹æ®ºã—ã™ãã‚‹ã€‚åˆ†è§£ã—ã¦æ•™ãˆã¦ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒOKã€ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«æ›¸ã:ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Box<dyn Draw> ã®åˆ†è§£                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  dyn Draw                                                       â”‚
â”‚    â””â”€ dyn = dynamicï¼ˆå‹•çš„ï¼‰                                     â”‚
â”‚    â””â”€ Draw = ãƒˆãƒ¬ã‚¤ãƒˆå                                         â”‚
â”‚    â””â”€ æ„å‘³: ã€ŒDrawãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ãŸã€ä½•ã‚‰ã‹ã®å‹ã€               â”‚
â”‚                                                                 â”‚
â”‚  Box<...>                                                       â”‚
â”‚    â””â”€ ãƒ’ãƒ¼ãƒ—ä¸Šã«ãƒ‡ãƒ¼ã‚¿ã‚’ç½®ãã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿                     â”‚
â”‚    â””â”€ ãªãœå¿…è¦ï¼Ÿâ†’ ã€Œä½•ã‚‰ã‹ã®å‹ã€ã¯ã‚µã‚¤ã‚ºä¸æ˜ãªã®ã§ã‚¹ã‚¿ãƒƒã‚¯ã«ç½®ã‘ãªã„â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚“ã§BoxãŒå¿…è¦ãªã®?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚¹ã‚¿ãƒƒã‚¯ã«å€¤ã‚’ç½®ãã«ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚µã‚¤ã‚ºãŒã‚ã‹ã£ã¦ãªã„ã¨ãƒ€ãƒ¡ã€‚ã§ã‚‚`dyn Draw`ã¯ã€Drawã‚’å®Ÿè£…ã—ãŸä½•ã‹ã€ã ã‹ã‚‰ã€Circleã‹ã‚‚ã—ã‚Œãªã„ã—ã€Rectangleã‹ã‚‚ã—ã‚Œãªã„ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚µã‚¤ã‚ºãŒé•ã†ã‹ã‚‰ã€ã‚¹ã‚¿ãƒƒã‚¯ã«ã¯ç½®ã‘ãªã„...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚Boxã‚’ä½¿ã†ã¨ã€å€¤ã¯ãƒ’ãƒ¼ãƒ—ã«ç½®ã„ã¦ã€ã‚¹ã‚¿ãƒƒã‚¯ã«ã¯ãƒã‚¤ãƒ³ã‚¿ï¼ˆå›ºå®šã‚µã‚¤ã‚ºï¼‰ã ã‘ã‚’ç½®ãã€

ãƒ¦ã‚¤ãŒå›³ã‚’æã:

```
ã‚¹ã‚¿ãƒƒã‚¯                    ãƒ’ãƒ¼ãƒ—
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ shapes (Vec)   â”‚         â”‚                â”‚
â”‚  â”œâ”€ ptr â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚ Circle         â”‚
â”‚  â”œâ”€ ptr â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚ { radius: 5.0 }â”‚
â”‚  â””â”€ len: 2     â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ Rectangle      â”‚
                           â”‚ { w: 10, h: 5 }â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## vtable â€” å‹•çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã®ä»•çµ„ã¿

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œå®Ÿè¡Œæ™‚ã«é©åˆ‡ãªdraw()ãŒå‘¼ã°ã‚Œã‚‹ã£ã¦ã€ã©ã†ã„ã†ä»•çµ„ã¿?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œvtableï¼ˆä»®æƒ³é–¢æ•°ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ã‚’ä½¿ã†ã€‚`Box<dyn Draw>`ã¯å®Ÿéš›ã«ã¯ã€ãƒ•ã‚¡ãƒƒãƒˆãƒã‚¤ãƒ³ã‚¿ã€â€” 2ã¤ã®ãƒã‚¤ãƒ³ã‚¿ã‚’æŒã£ã¦ã‚‹ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Box<dyn Draw> ã®ãƒ¡ãƒ¢ãƒªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Box<dyn Draw>ã¯å®Ÿéš›ã«ã¯ã€Œãƒ•ã‚¡ãƒƒãƒˆãƒã‚¤ãƒ³ã‚¿ã€ï¼ˆ2ã¤ã®ãƒã‚¤ãƒ³ã‚¿ï¼‰     â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ data_ptr â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â†’ å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆCircleç­‰ï¼‰               â”‚
â”‚  â”‚ vtable_ptr â”€â”€â”€â”€â”€â”€â”‚â”€â”€â†’ ãƒ¡ã‚½ãƒƒãƒ‰ãƒ†ãƒ¼ãƒ–ãƒ«                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                 â”‚
â”‚  vtableï¼ˆCircleç”¨ï¼‰           vtableï¼ˆRectangleç”¨ï¼‰              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ draw â†’ Circle::draw â”‚     â”‚ draw â†’ Rectangle::drawâ”‚          â”‚
â”‚  â”‚ drop â†’ ...          â”‚     â”‚ drop â†’ ...           â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                 â”‚
â”‚  shape.draw() ãŒå‘¼ã°ã‚Œã‚‹ã¨ï¼š                                     â”‚
â”‚  1. vtable_ptrã‹ã‚‰vtableã‚’å‚ç…§                                  â”‚
â”‚  2. vtableå†…ã®drawã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—                               â”‚
â”‚  3. ãã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã‚¸ãƒ£ãƒ³ãƒ—ã—ã¦å®Ÿè¡Œ                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒC++ã®virtualé–¢æ•°ãƒ†ãƒ¼ãƒ–ãƒ«ã¨åŒã˜ä»•çµ„ã¿ã‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚TypeScriptã ã¨ã“ã‚“ãªæ„Ÿã˜:ã€

```typescript
interface Draw {
    draw(): void;
}

// TypeScriptã§ã¯ãã®ã¾ã¾é…åˆ—ã«å…¥ã‚Œã‚‰ã‚Œã‚‹
const shapes: Draw[] = [
    new Circle(5.0),
    new Rectangle(10.0, 5.0),
];

shapes.forEach(shape => shape.draw());
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒTypeScript/JavaScriptã¯ã™ã¹ã¦ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒãƒ’ãƒ¼ãƒ—ã«ã‚ã£ã¦ã€å¤‰æ•°ã¯å¸¸ã«å‚ç…§ã€‚ã ã‹ã‚‰`Box`ã¿ãŸã„ãªæ˜ç¤ºçš„ãªãƒ’ãƒ¼ãƒ—å‰²ã‚Šå½“ã¦ã¯ä¸è¦ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒRustã¯ã€ã‚¹ã‚¿ãƒƒã‚¯ vs ãƒ’ãƒ¼ãƒ—ã€ã‚’æ˜ç¤ºçš„ã«ç®¡ç†ã™ã‚‹ã‹ã‚‰ã€ã“ã®è¨˜æ³•ãŒå¿…è¦ãªã‚“ã ã­ã€

---

## impl Trait vs dyn Trait â€” ä½¿ã„åˆ†ã‘ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã§ã€çµå±€ã„ã¤`impl Trait`ã‚’ä½¿ã£ã¦ã€ã„ã¤`dyn Trait`ã‚’ä½¿ã†ã®?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã€åˆå­¦è€…ãŒæœ€ã‚‚æ··ä¹±ã™ã‚‹ãƒã‚¤ãƒ³ãƒˆã€‚è¡¨ã«ã¾ã¨ã‚ã‚‹ã¨ã“ã†:ã€

| ç¨®é¡ | æ§‹æ–‡ | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | æŸ”è»Ÿæ€§ | ã‚µã‚¤ã‚º |
|-----|------|--------------|-------|-------|
| é™çš„ï¼ˆã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ï¼‰ | `impl Trait` / `<T: Trait>` | é«˜é€Ÿï¼ˆã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–å¯èƒ½ï¼‰ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å‹ãŒæ±ºã¾ã‚‹ | å‹ã”ã¨ã«ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ |
| å‹•çš„ï¼ˆãƒˆãƒ¬ã‚¤ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ | `dyn Trait` | ã‚„ã‚„é…ã„ï¼ˆvtableçµŒç”±ï¼‰ | å®Ÿè¡Œæ™‚ã«å‹ã‚’æ±ºã‚ã‚‰ã‚Œã‚‹ | ã‚³ãƒ¼ãƒ‰ã¯1ã¤ |

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã§è€ƒãˆã‚‹ã¨:ã€

ãƒ¦ã‚¤ãŒãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«å¤§ããæã:

```
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ é–¢æ•°ã®å¼•æ•°/æˆ»ã‚Šå€¤ã§ãƒˆãƒ¬ã‚¤ãƒˆã‚’ä½¿ã„ãŸã„ â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ ç•°ãªã‚‹å‹ã‚’åŒã˜ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«å…¥ã‚Œã‚‹ï¼Ÿ â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ YES                 â”‚                     â”‚ NO
              â–¼                     â”‚                     â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ dyn Trait ã‚’ä½¿ã† â”‚             â”‚         â”‚ impl Trait ã‚’ä½¿ã†â”‚
    â”‚ (å‹•çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ) â”‚             â”‚         â”‚ (é™çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                     â”‚                     â”‚
              â–¼                     â”‚                     â–¼
    Box<dyn Trait> ç­‰ã§              â”‚         fn foo(x: impl Trait)
    ãƒ’ãƒ¼ãƒ—å‰²ã‚Šå½“ã¦å¿…è¦               â”‚         fn foo<T: Trait>(x: T)
                                    â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚   æˆ»ã‚Šå€¤ã®å‹ã‚’éš è”½ã—ãŸã„ï¼Ÿ         â”‚
                   â”‚   ï¼ˆå®Ÿè£…ã®è©³ç´°ã‚’å…¬é–‹ã—ãŸããªã„ï¼‰    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ YES                 â”‚                     â”‚ NO
              â–¼                     â–¼                     â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æˆ»ã‚Šå€¤ã« impl Traitâ”‚   â”‚ æ¡ä»¶åˆ†å²ã§ç•°ãªã‚‹  â”‚   â”‚ å…·ä½“çš„ãªå‹ã‚’è¿”ã™ â”‚
    â”‚ fn foo() -> impl Xâ”‚   â”‚ å‹ã‚’è¿”ã™ï¼Ÿ       â”‚   â”‚ fn foo() -> Vec â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ YES                â”‚                    â”‚ NO
              â–¼                    â–¼                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Box<dyn Trait>  â”‚   â”‚ impl Trait ã§OK â”‚
    â”‚ ã‚’è¿”ã™          â”‚   â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…·ä½“ä¾‹ã§ç†è§£ã™ã‚‹ä½¿ã„åˆ†ã‘

**ä¾‹1: å˜ç´”ãªé–¢æ•°å¼•æ•° â†’ impl Trait**

```rust
// âœ… è‰¯ã„ä¾‹: å¼•æ•°ãŒ1ã¤ã®å‹ã«å›ºå®šã•ã‚Œã‚‹å ´åˆ
fn print_summary(item: &impl Summary) {
    println!("{}", item.summarize());
}
```

**ä¾‹2: ç•°ãªã‚‹å‹ã‚’è¿”ã™å¯èƒ½æ€§ â†’ Box<dyn Trait>**

```rust
// âœ… è‰¯ã„ä¾‹: æ¡ä»¶ã«ã‚ˆã£ã¦ç•°ãªã‚‹å‹ã‚’è¿”ã™å ´åˆ
fn create_shape(is_circle: bool) -> Box<dyn Draw> {
    if is_circle {
        Box::new(Circle { radius: 5.0 })
    } else {
        Box::new(Rectangle { width: 10.0, height: 5.0 })
    }
}
```

**ä¾‹3: æˆ»ã‚Šå€¤ã®å‹ã‚’éš è”½ â†’ impl Trait**

```rust
// âœ… è‰¯ã„ä¾‹: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®å…·ä½“çš„ãªå‹ã‚’éš ã™
fn create_iter() -> impl Iterator<Item = i32> {
    vec![1, 2, 3].into_iter().map(|x| x * 2)
    // å®Ÿéš›ã®å‹ã¯ std::iter::Map<std::vec::IntoIter<i32>, ...>
    // ã¨ã„ã†è¤‡é›‘ãªå‹ã ãŒã€å‘¼ã³å‡ºã—å´ã¯çŸ¥ã‚‹å¿…è¦ãŒãªã„
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚‹ã»ã©ã€‚ã»ã¨ã‚“ã©ã®å ´åˆã¯`impl Trait`ã§ã€ç•°ãªã‚‹å‹ã‚’æ··åœ¨ã•ã›ãŸã„ã¨ãã ã‘`dyn Trait`ãªã‚“ã ã€

---

## é–¢é€£å‹ï¼ˆAssociated Typesï¼‰ â€” Iteratorã®ç§˜å¯†

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒˆãƒ¬ã‚¤ãƒˆã«ã¯ã€é–¢é€£å‹ã€ã‚’å®šç¾©ã§ãã‚‹ã€‚ã“ã‚Œã€Iteratorã§ä½¿ã‚ã‚Œã¦ã‚‹ã€

```rust
trait Iterator {
    type Item;  // é–¢é€£å‹: ã€Œã“ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãŒè¿”ã™è¦ç´ ã®å‹ã€

    fn next(&mut self) -> Option<Self::Item>;
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`Self::Item`ã£ã¦ä½•?ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œåˆ†è§£ã™ã‚‹ã¨:ã€

```
Self::Item
 â”‚    â””â”€â”€â”€ é–¢é€£å‹Item
 â””â”€ ã“ã®ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ã‚‹å‹è‡ªèº«
```

**å®Ÿè£…ä¾‹**:

```rust
struct Counter {
    count: u32,
}

impl Iterator for Counter {
    type Item = u32;  // ã€ŒCounterã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯u32ã‚’è¿”ã™ã€ã¨å®£è¨€

    fn next(&mut self) -> Option<Self::Item> {
        self.count += 1;
        if self.count <= 5 {
            Some(self.count)
        } else {
            None
        }
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚“ã§ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§`Iterator<T>`ã˜ã‚ƒãƒ€ãƒ¡ãªã®?ã€

---

## é–¢é€£å‹ vs ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ â€” ä½¿ã„åˆ†ã‘ã®æœ¬è³ª

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã„ã„è³ªå•! é•ã„ã¯ã“ã†:ã€

```rust
// ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®å ´åˆ: åŒã˜å‹ã«è¤‡æ•°ã®å®Ÿè£…ãŒå¯èƒ½
trait Convert<T> {
    fn convert(&self) -> T;
}

impl Convert<String> for i32 {
    fn convert(&self) -> String { self.to_string() }
}

impl Convert<f64> for i32 {
    fn convert(&self) -> f64 { *self as f64 }
}

// i32ã¯Convert<String>ã‚‚Convert<f64>ã‚‚å®Ÿè£…ã§ãã‚‹
```

```rust
// é–¢é€£å‹ã®å ´åˆ: 1ã¤ã®å‹ã«1ã¤ã®å®Ÿè£…ã®ã¿
trait Iterator {
    type Item;
    fn next(&mut self) -> Option<Self::Item>;
}

// Counterã®Iteratorå®Ÿè£…ã¯1ã¤ã ã‘
// type Item = u32 ã¨ type Item = String ã®ä¸¡æ–¹ã¯æŒã¦ãªã„
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œä½¿ã„åˆ†ã‘ã¯:ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é–¢é€£å‹ vs ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é–¢é€£å‹:      ã€Œã“ã®å‹ã«å¯¾ã—ã¦å®Ÿè£…ã¯1ã¤ã€ï¼ˆä¾‹: Iteratorï¼‰          â”‚
â”‚  ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹: ã€ŒåŒã˜å‹ã«å¯¾ã—ã¦è¤‡æ•°ã®å®Ÿè£…ãŒæ¬²ã—ã„ã€ï¼ˆä¾‹: From, Intoï¼‰â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒIteratorã¯ã€1ã¤ã®å‹ã¯1ç¨®é¡ã®è¦ç´ ã‚’è¿”ã™ã€ã‹ã‚‰ã€é–¢é€£å‹ãªã‚“ã ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã®é€šã‚Š!ã€

---

## å®Ÿè·µãƒ‘ã‚¿ãƒ¼ãƒ³1: ãƒ“ãƒ«ãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå®Ÿéš›ã®é–‹ç™ºã§ã‚ˆãä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹ã›ã‚‹ã€‚ã¾ãšã¯ãƒ“ãƒ«ãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã€

```rust
struct User {
    name: String,
    email: String,
    age: Option<u32>,
}

struct UserBuilder {
    name: Option<String>,
    email: Option<String>,
    age: Option<u32>,
}

impl UserBuilder {
    fn new() -> Self {
        UserBuilder {
            name: None,
            email: None,
            age: None,
        }
    }

    // ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã‚’å¯èƒ½ã«ã™ã‚‹ãŸã‚ self ã‚’è¿”ã™
    fn name(mut self, name: impl Into<String>) -> Self {
        self.name = Some(name.into());
        self
    }

    fn email(mut self, email: impl Into<String>) -> Self {
        self.email = Some(email.into());
        self
    }

    fn age(mut self, age: u32) -> Self {
        self.age = Some(age);
        self
    }

    fn build(self) -> Result<User, String> {
        Ok(User {
            name: self.name.ok_or("name is required")?,
            email: self.email.ok_or("email is required")?,
            age: self.age,
        })
    }
}

fn main() {
    let user = UserBuilder::new()
        .name("Alice")
        .email("alice@example.com")
        .age(30)
        .build()
        .unwrap();
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`impl Into<String>`...ã“ã‚Œè³¢ã„! `&str`ã§ã‚‚`String`ã§ã‚‚å—ã‘å…¥ã‚Œã‚‰ã‚Œã‚‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚å‘¼ã³å‡ºã—å´ã¯`.name("Alice")`ã§ã‚‚`.name(String::from("Alice"))`ã§ã‚‚OKã€

---

## å®Ÿè·µãƒ‘ã‚¿ãƒ¼ãƒ³2: æ‹¡å¼µãƒˆãƒ¬ã‚¤ãƒˆ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ—¢å­˜ã®å‹ã«è‡ªåˆ†ã§å®šç¾©ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã§ãã‚‹ã€‚ã“ã‚Œå¼·åŠ›ã ã‚ˆã€

```rust
trait StringExt {
    fn is_blank(&self) -> bool;
    fn truncate_with_ellipsis(&self, max_len: usize) -> String;
}

impl StringExt for str {
    fn is_blank(&self) -> bool {
        self.trim().is_empty()
    }

    fn truncate_with_ellipsis(&self, max_len: usize) -> String {
        if self.len() <= max_len {
            self.to_string()
        } else {
            format!("{}...", &self[..max_len])
        }
    }
}

fn main() {
    let s = "   ";
    println!("{}", s.is_blank());  // true

    let long = "This is a very long text";
    println!("{}", long.truncate_with_ellipsis(10));  // "This is a ..."
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®strå‹ã‚’å¤‰æ›´ã›ãšã«ã€æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã‚‹...!ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚ŒãŒ**ã‚ªãƒ¼ãƒ—ãƒ³ãƒ»ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰åŸå‰‡**ï¼ˆæ‹¡å¼µã«é–‹ã„ã¦ãŠã‚Šã€ä¿®æ­£ã«é–‰ã˜ã¦ã„ã‚‹ï¼‰ã®å®Ÿç¾ã€‚Rustã®å¼·åŠ›ãªæ©Ÿèƒ½ã®1ã¤ã€

---

## ã¾ã¨ã‚ â€” 3è¨€èªæ¯”è¼ƒè¡¨

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæœ€å¾Œã«ã€3è¨€èªã®å¯¾å¿œè¡¨ã‚’è¦‹ã›ã‚‹:ã€

| æ¦‚å¿µ | Python | TypeScript | Rust |
|-----|--------|------------|------|
| ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ | `Protocol`/ABC | `interface` | `trait` |
| ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ | å‹ãƒ’ãƒ³ãƒˆ`T` | `<T>` | `<T>` |
| å‹åˆ¶ç´„ | `TypeVar(bound=)` | `extends` | ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œ `T: Trait` |
| å‹•çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | ãƒ¦ãƒ‹ã‚ªãƒ³å‹ç­‰ | `dyn Trait` |
| å‹å¤‰æ› | `__init__`ç­‰ | æ‰‹å‹• | `From`/`Into` |
| ãƒã‚§ãƒƒã‚¯æ™‚ç‚¹ | å®Ÿè¡Œæ™‚ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ï¼ˆéƒ¨åˆ†çš„ï¼‰ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ï¼ˆå³æ ¼ï¼‰ |

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒRustã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å³æ ¼ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€ã¨ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã“ã®ç« ã®ãƒã‚¤ãƒ³ãƒˆã‚’ã¾ã¨ã‚ã‚‹ã¨:ã€

```
ğŸ¯ ã“ã®ç« ã®ãƒã‚¤ãƒ³ãƒˆ:
- ãƒˆãƒ¬ã‚¤ãƒˆ = æŒ¯ã‚‹èˆã„ã®å¥‘ç´„ï¼ˆã€Œä½•ãŒã§ãã‚‹ã‹ã€ã‚’å®šç¾©ï¼‰
- ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ = å‹ã®æŠ½è±¡åŒ–ï¼ˆã€Œã©ã‚“ãªå‹ã§ã‚‚ã€ã‚’è¡¨ç¾ï¼‰
- ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œ = ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®å‹ãƒã‚§ãƒƒã‚¯ï¼ˆå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã‚’é˜²ãï¼‰
- é™çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒï¼ˆimpl Traitï¼‰ = é«˜é€Ÿã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å‹æ±ºå®š
- å‹•çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒï¼ˆdyn Traitï¼‰ = æŸ”è»Ÿã€å®Ÿè¡Œæ™‚ã«å‹æ±ºå®š
- derive = ã‚ˆãä½¿ã†ãƒˆãƒ¬ã‚¤ãƒˆã®è‡ªå‹•å®Ÿè£…
```

---

## TypeScript/Pythonã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãŸã‚ã®ç§»è¡Œã‚¬ã‚¤ãƒ‰

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãƒ¬ã‚¤å…ˆè¼©ã€æœ€å¾Œã«ç§»è¡Œæ™‚ã®ãƒã‚¤ãƒ³ãƒ‰ã‚·ãƒ•ãƒˆã‚’æ•™ãˆã¦ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒOKã€‚ä¸€ç•ªé‡è¦ãªã®ã¯ã“ã‚Œ:ã€

### Pythonã®ãƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã¨ã®æ ¹æœ¬çš„ãªé•ã„

```python
# Python: å®Ÿè¡Œæ™‚ã«ãƒ¡ã‚½ãƒƒãƒ‰ã®å­˜åœ¨ã‚’ãƒã‚§ãƒƒã‚¯
def process(item):
    return item.process()  # ã©ã‚“ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚æ¸¡ã›ã‚‹

process(ValidObject())   # âœ… å‹•ã
process("invalid")       # âŒ å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ï¼ˆprocess()ãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ï¼‰
```

```rust
// Rust: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒˆãƒ¬ã‚¤ãƒˆã®å®Ÿè£…ã‚’ãƒã‚§ãƒƒã‚¯
fn process<T: Processable>(item: T) {
    item.process()
}

process(ValidObject);  // âœ… ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«é€šã‚‹
process("invalid");    // âŒ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼ˆ&strã¯Processableã‚’å®Ÿè£…ã—ã¦ã„ãªã„ï¼‰
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒã‚¤ãƒ³ãƒ‰ã‚·ãƒ•ãƒˆã¯ã“ã†:ã€

```
1. ã€Œã¨ã‚Šã‚ãˆãšå‹•ã‹ã—ã¦ã¿ã‚‹ã€ã§ã¯ãªãã€Œå‹ã§å¥‘ç´„ã‚’æ˜ç¤ºã™ã‚‹ã€
2. ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œã¯ã€Œåˆ¶é™ã€ã§ã¯ãªãã€Œä¿è¨¼ã€
3. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®ã‚¨ãƒ©ãƒ¼ã¯ã€Œæ•µã€ã§ã¯ãªãã€Œãƒã‚°ã‚’äº‹å‰ã«é˜²ãå‘³æ–¹ã€
```

---

## ã‚ˆãã‚ã‚‹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•

**ã‚¨ãƒ©ãƒ¼1: `the trait bound 'X: Y' is not satisfied`**

```
error[E0277]: the trait bound `MyType: Debug` is not satisfied
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã¯`MyType`ãŒ`Debug`ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ãªã„ã£ã¦ã“ã¨ã€

**å¯¾å‡¦æ³•**:

```rust
#[derive(Debug)]  // ã“ã‚Œã‚’è¿½åŠ 
struct MyType { ... }
```

---

**ã‚¨ãƒ©ãƒ¼2: `the size for values of type 'dyn Trait' cannot be known`**

```
error[E0277]: the size for values of type `dyn Draw` cannot be known at compilation time
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`dyn Trait`ã¯ã‚µã‚¤ã‚ºä¸æ˜ã ã‹ã‚‰ç›´æ¥ä½¿ãˆãªã„ã€

**å¯¾å‡¦æ³•**:

```rust
// âŒ fn foo() -> dyn Draw
// âœ… fn foo() -> Box<dyn Draw>
```

---

**ã‚¨ãƒ©ãƒ¼3: `impl Trait` not allowed outside of function return types**

```
error[E0562]: `impl Trait` not allowed outside of function return types
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`impl Trait`ã¯æ§‹é€ ä½“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ã‹ã§ã¯ä½¿ãˆãªã„ã€

**å¯¾å‡¦æ³•**:

```rust
// âŒ struct Foo { handler: impl Handler }
// âœ… struct Foo { handler: Box<dyn Handler> }
// âœ… struct Foo<H: Handler> { handler: H }  // ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§è§£æ±º
```

---

## ãƒ¬ã‚¤ã€Œãƒˆãƒ¬ã‚¤ãƒˆã¨ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã€å¥¥ãŒæ·±ã„ã­...ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæœ€åˆã¯é›£ã—ãæ„Ÿã˜ãŸã‘ã©ã€ã€å¥‘ç´„æ›¸ã€ã€å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ã£ã¦è€ƒãˆã‚‹ã¨ç†è§£ã—ã‚„ã™ããªã£ãŸã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œè‰¯ã„ç†è§£ã ã­ã€‚ç‰¹ã«ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œã¯ã€Rustã®å‹ã‚·ã‚¹ãƒ†ãƒ ã®æ ¸å¿ƒéƒ¨åˆ†ã€‚ã“ã“ã‚’ç†è§£ã™ã‚‹ã¨ã€Rustã®è¨­è¨ˆæ€æƒ³ãŒè¦‹ãˆã¦ãã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒPythonã‚„TypeScriptã¨æ¯”è¼ƒã—ãªãŒã‚‰å­¦ã¹ãŸã‹ã‚‰ã€ã™ã”ãè…‘ã«è½ã¡ãŸã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ¬¡ã®ç« ã§ã¯ã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆVecã¨ã‹HashMapã¨ã‹ï¼‰ã¨ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’å­¦ã¶ã€‚Iteratorãƒˆãƒ¬ã‚¤ãƒˆãŒãƒãƒ³ãƒãƒ³å‡ºã¦ãã‚‹ã‹ã‚‰ã€ã“ã®ç« ã®çŸ¥è­˜ãŒæ´»ãã¦ãã‚‹ã‚ˆã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ¥½ã—ã¿!ã€

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

[Chapter 06: ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³](06-collections.md) ã§ã¯ã€`Vec`ã€`HashMap`ãªã©ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å‹ã¨ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã£ãŸé–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ã³ã¾ã™ã€‚ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯`Iterator`ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ãŠã‚Šã€ã“ã®ç« ã§å­¦ã‚“ã çŸ¥è­˜ãŒæ´»ãã¦ãã¾ã™ã€‚

---

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒãŠç–²ã‚Œã•ã¾ã€‚ä»Šæ—¥ã¯ã“ã“ã¾ã§ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã‚ŠãŒã¨ã†! ãƒˆãƒ¬ã‚¤ãƒˆã¨ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã€å®Œå…¨ã«ç†è§£ã—ãŸ...ã¯ãš!ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œï¼ˆç¬‘ï¼‰ä½¿ã£ã¦ã„ãã†ã¡ã«ã€ã•ã‚‰ã«æ·±ãç†è§£ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ˆã€
