# Chapter 10: Solana/Anchor â€” å¯¾è©±ç·¨

> **ã“ã®ç« ã§å­¦ã¶ã“ã¨**: ãƒ¬ã‚¤ã¨ãƒ¦ã‚¤ãŒã€Solanaãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ä¸Šã§ã®Rusté–‹ç™ºã«æŒ‘æˆ¦ã€‚Ethereumã¨ã®é•ã„ã€Anchorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é­…åŠ›ã€ãã—ã¦å®Ÿéš›ã«ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ä½œã‚ŠãªãŒã‚‰ã€Web3é–‹ç™ºã®ä¸–ç•Œã‚’ä½“é¨“ã—ã¾ã™ã€‚

---

## ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°ï¼šãƒ¦ã‚¤ã®Web3ã¸ã®ç›®è¦šã‚

ãƒ¦ã‚¤ãŒé–‹ç™ºå®¤ã®ãƒ‰ã‚¢ã‚’é–‹ã‘ã‚‹ã¨ã€ãƒ¬ã‚¤ã¯è¤‡æ•°ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã„ã¦ã€ã„ã¤ã‚‚ã‚ˆã‚ŠçœŸå‰£ãªè¡¨æƒ…ã§ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãŸã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãƒ¬ã‚¤å…ˆè¼©ã€ä»Šæ—¥ã¯ä½•ã‚’ä½œã£ã¦ã‚‹ã‚“ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒãŠã€ãƒ¦ã‚¤ã¡ã‚ƒã‚“ã€‚ã¡ã‚‡ã†ã©ã„ã„ã¨ã“ã‚ã«æ¥ãŸã€‚ä»ŠSolanaã§ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ›¸ã„ã¦ã‚‹ã‚“ã ã‘ã©ã€ã“ã‚ŒãŒã‚ã¡ã‚ƒãã¡ã‚ƒé¢ç™½ã„ã‚“ã ã‚ˆã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒSolana...ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ã‚„ã¤ã§ã™ã‚ˆã­ã€‚ç§ã‚‚æ›¸ã„ã¦ã¿ãŸã„ï¼ã€€ãˆã£ã¨ã€æ™®é€šã®Rusté–¢æ•°ã¿ãŸã„ã«æ›¸ã‘ã°ã„ã„ã‚“ã§ã™ã‚ˆã­ï¼Ÿã€

ãƒ¦ã‚¤ã¯å¼µã‚Šåˆ‡ã£ã¦ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå§‹ã‚ã‚‹ã€‚

```rust
// æ™®é€šã®Rustãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¿ãŸã„ã«æ›¸ã„ã¦ã¿ãŸ
fn initialize(balance: u64) {
    let mut user_data = UserData { balance };
    user_data.balance += 100;
    println!("Initialized with balance: {}", user_data.balance);
}

fn main() {
    initialize(0);
}
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚ãƒ¼ã€ãƒ¦ã‚¤ã¡ã‚ƒã‚“ã€‚ãã‚Œã ã¨å‹•ã‹ãªã„ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãˆï¼Ÿã€€æ™®é€šã®Rustã§ã™ã‚ˆï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€æ™®é€šã®Rustã€‚ã§ã‚‚ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã ã¨ã€ãã®ãƒ‡ãƒ¼ã‚¿**ã©ã“ã«ä¿å­˜ã•ã‚Œã‚‹ã®ï¼Ÿ**ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚...ãƒ¡ãƒ¢ãƒªï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒ¡ãƒ¢ãƒªã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ çµ‚ã‚ã£ãŸã‚‰æ¶ˆãˆã‚‹ã‚ˆã­ã€‚ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã¯**æ°¸ç¶šçš„ãªã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**ãŒå¿…è¦ãªã®ã€‚ã—ã‹ã‚‚ã€ãã®ãƒ‡ãƒ¼ã‚¿ã¯**èª°ã§ã‚‚èª­ã‚ã‚‹ã‘ã©ã€æ›¸ã‘ã‚‹ã®ã¯è¨±å¯ã•ã‚ŒãŸäººã ã‘**ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã†ãƒ¼ã‚“...ã˜ã‚ƒã‚ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¿ãŸã„ãªï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ï¼ã€€Solanaã§ã¯ãã‚Œã‚’**ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**ã£ã¦å‘¼ã¶ã®ã€‚è©¦ã—ã«Anchorã§æ›¸ã„ã¦ã¿ã¦ã€

ãƒ¦ã‚¤ãŒAnchorã®ã‚³ãƒ¼ãƒ‰ã«æŒ‘æˆ¦ã™ã‚‹ã€‚

```rust
use anchor_lang::prelude::*;

#[program]
pub mod my_program {
    use super::*;
    
    pub fn initialize(ctx: Context<Initialize>, balance: u64) -> Result<()> {
        ctx.accounts.user_data.balance = balance;
        Ok(())
    }
}

#[derive(Accounts)]
pub struct Initialize {
    user_data: UserData,  // â† ã“ã“ãŒãŠã‹ã—ã„
}

#[account]
pub struct UserData {
    pub balance: u64,
}
```

```
error: The given account is not mutable
 --> programs/my_program/src/lib.rs:14:5
  |
14 |     user_data: UserData,
  |     ^^^^^^^^^ This account needs #[account(mut)]
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã²ãƒ...ï¼ã€€ãªã‚“ã§ã‚¨ãƒ©ãƒ¼ï¼Ÿã€€æ™®é€šã®æ§‹é€ ä½“ãªã®ã«...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ä¸–ç•Œã§ã¯ã€**ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å¤‰æ›´ã™ã‚‹ãªã‚‰æ˜ç¤ºçš„ã«å®£è¨€**ã—ãªã„ã¨ã„ã‘ãªã„ã®ã€‚`#[account(mut)]`ã‚’ã¤ã‘ã¦ã€

```rust
#[derive(Accounts)]
pub struct Initialize<'info> {
    #[account(mut)]  // â† å¤‰æ›´å¯èƒ½ã¨æ˜ç¤º
    pub user_data: Account<'info, UserData>,
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã€ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚‚å¿…è¦ãªã‚“ã§ã™ã­...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚Solanaã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯**å‚ç…§**ã ã‹ã‚‰ã€‚å€Ÿç”¨ã¨æ‰€æœ‰æ¨©ã€è¦šãˆã¦ã‚‹ï¼Ÿã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ãƒ¼ï¼ã€€ã ã‹ã‚‰Rustã§æ›¸ããƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã‚“ã§ã™ã­ã€‚æ‰€æœ‰æ¨©ã‚·ã‚¹ãƒ†ãƒ ãŒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ç›´çµã™ã‚‹...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œï¼ˆå¬‰ã—ãã†ã«ï¼‰ãã®é€šã‚Šï¼ã€€ç§ã‚‚æœ€åˆã¯ã“ã‚Œã§ãƒãƒã£ãŸã®ã€‚Ethereumã ã¨æš—é»™çš„ã«æ›¸ãè¾¼ã¿ã§ãã¡ã‚ƒã†ã‚“ã ã‘ã©ã€Solanaã¯**æ˜ç¤ºçš„**ã€‚ã“ã‚ŒãŒè„†å¼±æ€§ã‚’é˜²ãã®ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚‹ã»ã©...Rustã®å³æ ¼ã•ãŒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ãªã‚‹ã‚“ã ã€‚ã‚‚ã£ã¨è©³ã—ãæ•™ãˆã¦ãã ã•ã„ï¼ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚ˆã—ã€ä»Šæ—¥ã¯Solanaã¨Anchorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã£ã¦ã€å®Ÿéš›ã«ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ä½œã£ã¦ã¿ã‚ˆã†ã‹ã€

---

## ãªãœSolanaãªã®ã‹ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã¾ãšã€ãªãœSolanaã‚’é¸ã¶ã®ã‹ã€‚ç°¡å˜ã«æ¯”è¼ƒè¡¨ã‚’è¦‹ã¦ã¿ã‚ˆã†ã€

```
| ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ | ä¸»è¦è¨€èª | ç‰¹å¾´ |
|----------------|---------|------|
| Ethereum | Solidity | æœ€å¤§ã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã€EVM |
| Solana | Rust | é«˜é€Ÿï¼ˆ65,000+ TPSï¼‰ã€ä½æ‰‹æ•°æ–™ |
| Polkadot | Rust | ã‚¯ãƒ­ã‚¹ãƒã‚§ãƒ¼ãƒ³ã€Substrate |
| Near | Rust | ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° |
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒEthereumãŒä¸€ç•ªæœ‰åã§ã™ã‚ˆã­ã€‚ã§ã‚‚Solanaã£ã¦ãã‚“ãªã«é€Ÿã„ã‚“ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚EthereumãŒç§’é–“15ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãã‚‰ã„ãªã®ã«å¯¾ã—ã¦ã€Solanaã¯65,000ä»¥ä¸Šã€‚ãã—ã¦æ‰‹æ•°æ–™ãŒ0.00025ãƒ‰ãƒ«ãã‚‰ã„ã€‚Ethereumã ã¨æ··é›‘æ™‚ã¯æ•°åƒå††ã¨ã‹ã«ãªã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãˆã£ã€ãã‚Œã¯å…¨ç„¶é•ã„ã¾ã™ã­...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã—ã‹ã‚‚ã€Rustãƒã‚¤ãƒ†ã‚£ãƒ–ã ã‹ã‚‰ã€Rustã®å‹ã‚·ã‚¹ãƒ†ãƒ ã‚„æ‰€æœ‰æ¨©ã®æ¦‚å¿µãŒãã®ã¾ã¾ä½¿ãˆã‚‹ã€‚ã“ã‚ŒãŒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é¢ã§å¤§ããªã‚¢ãƒ‰ãƒãƒ³ãƒ†ãƒ¼ã‚¸ãªã‚“ã ã€

---

## Solanaã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼šEthereumã¨ã®é•ã„

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã˜ã‚ƒã‚ã€Solanaã®åŸºæœ¬æ¦‚å¿µã‹ã‚‰ã€‚ã¾ãšã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã€ã£ã¦ã„ã†ã®ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Account                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ lamports: u64        // æ®‹é«˜ï¼ˆSOLã®æœ€å°å˜ä½ï¼‰          â”‚
â”‚ data: Vec<u8>        // ä»»æ„ã®ãƒ‡ãƒ¼ã‚¿                  â”‚
â”‚ owner: Pubkey        // ã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æ‰€æœ‰ã™ã‚‹Program â”‚
â”‚ executable: bool     // Programã‹ã©ã†ã‹              â”‚
â”‚ rent_epoch: u64      // ãƒ¬ãƒ³ãƒˆæ”¯æ‰•ã„                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆ...ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã¿ãŸã„ãªã‚‚ã®ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã‚Œã ã‘ã˜ã‚ƒãªã„ã€‚Solanaã§ã¯ã€ã™ã¹ã¦ãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ãªã‚“ã ã€‚ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚‚ã€ãƒ‡ãƒ¼ã‚¿ã‚‚ã€ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆè‡ªä½“ã‚‚å…¨éƒ¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã†ãƒ¼ã‚“ã€ã¡ã‚‡ã£ã¨æŠ½è±¡çš„ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã«ãã„ã§ã™ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã˜ã‚ƒã‚ã€å¾“æ¥ã®Webé–‹ç™ºã¨æ¯”è¼ƒã—ã¦ã¿ã‚ˆã†ã€

```
å¾“æ¥ã®Webã‚¢ãƒ—ãƒª:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ã‚µãƒ¼ãƒãƒ¼   â”‚â”€â”€â”€â”€â†’â”‚  ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ â”‚
â”‚  (Node.js)  â”‚     â”‚  (PostgreSQL)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ã‚µãƒ¼ãƒãƒ¼ãŒDBã¸ã®èª­ã¿æ›¸ãã‚’åˆ¶å¾¡

Solana:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Program   â”‚â”€â”€â”€â”€â†’â”‚   Account   â”‚
â”‚  (Rust)     â”‚     â”‚   (çŠ¶æ…‹)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ProgramãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´
â€» èª°ã§ã‚‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ã€Œèª­ã‚ã‚‹ã€ãŒã€ã€Œæ›¸ã‘ã‚‹ã€ã®ã¯æ‰€æœ‰è€…ã®ã¿
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã€ãªã‚‹ã»ã©ï¼ã€€Node.jsã‚µãƒ¼ãƒãƒ¼ãŒProgramã§ã€PostgreSQLãŒAccountã¿ãŸã„ãªæ„Ÿã˜ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã„ã„ä¾‹ãˆã€‚ã§ã‚‚å¤§ããªé•ã„ãŒä¸€ã¤ã‚ã‚‹ã€‚Solanaã§ã¯ã€Programã¨ãƒ‡ãƒ¼ã‚¿ãŒå®Œå…¨ã«åˆ†é›¢ã•ã‚Œã¦ã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œåˆ†é›¢...ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚Ethereumã¨æ¯”è¼ƒã™ã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ã„ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ethereumã¨Solanaã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¯”è¼ƒ                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Ethereum:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ Contract                            â”‚                       â”‚
â”‚  â”‚  â”œâ”€ ã‚³ãƒ¼ãƒ‰ï¼ˆãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ï¼‰            â”‚  â† ä¸€ä½“åŒ–             â”‚
â”‚  â”‚  â””â”€ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆçŠ¶æ…‹å¤‰æ•°ï¼‰            â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                 â”‚
â”‚  Solana:                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ Program         â”‚     â”‚ Account A        â”‚                   â”‚
â”‚  â”‚  â””â”€ ã‚³ãƒ¼ãƒ‰ã®ã¿   â”‚â”€â”€â”€â”€â†’â”‚  â””â”€ ãƒ‡ãƒ¼ã‚¿       â”‚  â† åˆ†é›¢            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚           â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ Account B        â”‚                   â”‚
â”‚                          â”‚  â””â”€ ãƒ‡ãƒ¼ã‚¿       â”‚                   â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒEthereumã¯ã‚³ãƒ¼ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ãŒã‚»ãƒƒãƒˆãªã‚“ã§ã™ã­ã€‚ã§ã‚‚Solanaã¯åˆ†ã‹ã‚Œã¦ã‚‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ï¼ã€€ã“ã®åˆ†é›¢ãŒè¶…é‡è¦ã€‚ä¾‹ãˆã°ã€100äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã„ãŸã‚‰ã€Programã¯1ã¤ã ã‘ã©ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯100å€‹ä½œã‚Œã‚‹ã€‚ãã—ã¦ã€ãã‚Œãã‚Œã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒç‹¬ç«‹ã—ã¦ã‚‹ã‹ã‚‰ã€ä¸¦åˆ—å‡¦ç†ã§ãã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã£ã€ã ã‹ã‚‰é€Ÿã„ã‚“ã ï¼ã€€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆAã¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆBã‚’åŒæ™‚ã«å‡¦ç†ã§ãã‚‹ã£ã¦ã“ã¨ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ­£è§£ã€‚Ethereumã ã¨åŸºæœ¬çš„ã«ã‚·ãƒ³ã‚°ãƒ«ã‚¹ãƒ¬ãƒƒãƒ‰ã ã‘ã©ã€Solanaã¯ä¸¦åˆ—å®Ÿè¡Œå¯èƒ½ã€‚ã“ã‚ŒãŒã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã®é•ã„ã‚’ç”Ÿã‚“ã§ã‚‹ã€

---

## é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã˜ã‚ƒã‚ã€å®Ÿéš›ã«æ‰‹ã‚’å‹•ã‹ã—ã¦ã¿ã‚ˆã†ã‹ã€‚ã¾ãšã¯é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã¯ã„ï¼ã€€ä½•ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚Œã°ã„ã„ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒRustã¯ã‚‚ã†å…¥ã£ã¦ã‚‹ã‹ã‚‰ã€Solana CLIã¨Anchor CLIã ã‘ã€

```bash
# Rustã‚’æœ€æ–°ã«
rustup update

# Solana CLI
sh -c "$(curl -sSfL https://release.solana.com/stable/install)"

# Anchor CLI
cargo install --git https://github.com/coral-xyz/anchor anchor-cli --locked

# ç¢ºèª
solana --version
anchor --version
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã—ãŸï¼ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ¬¡ã«ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’è¨­å®šã—ã‚ˆã†ã€

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«è¨­å®š
solana config set --url localhost

# ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’ä½œæˆ
solana-keygen new

# ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒªãƒ‡ãƒ¼ã‚¿ã‚’èµ·å‹•ï¼ˆåˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ï¼‰
solana-test-validator
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãƒãƒªãƒ‡ãƒ¼ã‚¿ã£ã¦ã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ãƒãƒ¼ãƒ‰ã¿ãŸã„ãªã‚‚ã®ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ãã†ã€‚ã“ã‚Œã§è‡ªåˆ†ã®PCã«Solanaã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãŒç«‹ã¡ä¸ŠãŒã‚‹ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã ã‹ã‚‰å¥½ãæ”¾é¡Œãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã€

---

## Anchorã¨ã¯ä½•ã‹ï¼Ÿ

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒAnchorã£ã¦ã„ã†ã®ã¯ä½•ãªã‚“ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒAnchorã¯ã€Solanaé–‹ç™ºã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚Next.jsã¨Reactã®é–¢ä¿‚ã¿ãŸã„ãªã‚‚ã®ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã‚“ã§ã™ã­ã€‚ä½¿ã†ã¨ã©ã†ä¾¿åˆ©ã«ãªã‚‹ã‚“ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã‚’è¦‹ã¦ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç´ ã®Solanaé–‹ç™º vs Anchor                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç´ ã®Solanaï¼ˆç´„100è¡Œã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰:                         â”‚
â”‚  - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ‰€æœ‰è€…æ¤œè¨¼ã‚’æ‰‹å‹•ã§å®Ÿè£…                              â”‚
â”‚  - Borshã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º/ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã‚’æ‰‹å‹•ã§å®Ÿè£…                    â”‚
â”‚  - ç½²åè€…æ¤œè¨¼ã‚’æ‰‹å‹•ã§å®Ÿè£…                                         â”‚
â”‚  - discriminatorã‚’æ‰‹å‹•ã§ç®¡ç†                                     â”‚
â”‚                                                                 â”‚
â”‚  Anchorï¼ˆãƒã‚¯ãƒ­ã§è‡ªå‹•ç”Ÿæˆï¼‰:                                      â”‚
â”‚  - #[account] â†’ æ‰€æœ‰è€…æ¤œè¨¼ + ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º                         â”‚
â”‚  - #[derive(Accounts)] â†’ å¿…è¦ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¤œè¨¼                     â”‚
â”‚  - Signer<'info> â†’ ç½²åè€…æ¤œè¨¼                                    â”‚
â”‚  - 8ãƒã‚¤ãƒˆã®discriminatorã‚’è‡ªå‹•ç®¡ç†                               â”‚
â”‚                                                                 â”‚
â”‚  çµæœ: åŒã˜æ©Ÿèƒ½ã‚’1/3ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§å®‰å…¨ã«å®Ÿè£…ã§ãã‚‹                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã‚...æ‰‹å‹•ã ã¨100è¡Œã‚‚æ›¸ã‹ãªã„ã¨ã„ã‘ãªã„ã‚“ã§ã™ã‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã—ã‹ã‚‚ã€ãã‚Œå…¨éƒ¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã‚ã‚‹é‡è¦ãªãƒã‚§ãƒƒã‚¯ã€‚ä¸€ã¤ã§ã‚‚æŠœã‘ã‚‹ã¨è„†å¼±æ€§ã«ãªã‚‹ã€‚Anchorã¯ãƒã‚¯ãƒ­ã§ãã‚Œã‚’å…¨éƒ¨è‡ªå‹•ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒChapter 05ã§å­¦ã‚“ã ãƒã‚¯ãƒ­ãŒã€ã“ã“ã§æ´»ãã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã„ã†ã“ã¨ã€‚ã˜ã‚ƒã‚ã€å®Ÿéš›ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ã¦ã¿ã‚ˆã†ã€

---

## æœ€åˆã®Programï¼šHello Solana

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã¾ãšã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã‹ã‚‰ã€

```bash
anchor init my_program
cd my_program
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã§ãã¾ã—ãŸã€‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯ã©ã†ãªã£ã¦ã‚‹ã‚“ã§ã™ã‹ï¼Ÿã€

```
my_program/
â”œâ”€â”€ Anchor.toml         # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ programs/
â”‚   â””â”€â”€ my_program/
â”‚       â”œâ”€â”€ Cargo.toml
â”‚       â””â”€â”€ src/
â”‚           â””â”€â”€ lib.rs  # â† Programã®ã‚³ãƒ¼ãƒ‰ï¼ˆã“ã“ã‚’ç·¨é›†ï¼‰
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ my_program.ts   # TypeScriptãƒ†ã‚¹ãƒˆ
â””â”€â”€ migrations/
    â””â”€â”€ deploy.ts
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒ¡ã‚¤ãƒ³ã®ã‚³ãƒ¼ãƒ‰ã¯`programs/my_program/src/lib.rs`ã«æ›¸ãã€‚ãƒ†ã‚¹ãƒˆã¯TypeScriptã§æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã£ã¦ã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒTypeScriptã§ãƒ†ã‚¹ãƒˆ...ï¼Ÿã€€ã§ã‚‚ã‚³ãƒ¼ãƒ‰ã¯Rustã§ã™ã‚ˆã­ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯TypeScriptã§æ›¸ãã“ã¨ãŒå¤šã„ã‹ã‚‰ã€åŒã˜è¨€èªã§ãƒ†ã‚¹ãƒˆã§ãã‚‹ã¨ä¾¿åˆ©ã§ã—ã‚‡ã€‚AnchorãŒè‡ªå‹•ã§TypeScriptã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ã‚‚ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã™ã”ã„...è‡³ã‚Œã‚Šå°½ãã›ã‚Šã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã˜ã‚ƒã‚ã€`lib.rs`ã‚’é–‹ã„ã¦ã€Hello Worldã‚’æ›¸ã„ã¦ã¿ã‚ˆã†ã€

```rust
use anchor_lang::prelude::*;

declare_id!("Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS");

#[program]
pub mod my_program {
    use super::*;

    pub fn initialize(ctx: Context<Initialize>) -> Result<()> {
        msg!("Hello, Solana!");
        Ok(())
    }
}

#[derive(Accounts)]
pub struct Initialize {}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã“ã‚Œã ã‘ã§ã™ã‹ï¼Ÿã€€ã‚ã£ã¡ã‚ƒã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå„éƒ¨åˆ†ã‚’è§£èª¬ã™ã‚‹ã­ã€

---

## ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿è§£ãï¼šAnchorã®åŸºæœ¬æ§‹é€ 

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã¾ãšæœ€åˆã®è¡Œã€

```rust
use anchor_lang::prelude::*;
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã¯Anchorã®åŸºæœ¬çš„ãªå‹ã‚„ãƒã‚¯ãƒ­ã‚’å…¨éƒ¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã‚‹ã€‚`Context`ã€`Result`ã€`Account`ã¨ã‹ã€ã‚ˆãä½¿ã†ã‚„ã¤å…¨éƒ¨ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`prelude`ã£ã¦ã€Chapter 08ã§å‡ºã¦ãã¾ã—ãŸã‚ˆã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚ˆãè¦šãˆã¦ã‚‹ã­ã€‚æ¬¡ã¯ã“ã‚Œã€

```rust
declare_id!("Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS");
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã¯ã€ã“ã®Programã®IDã€ã¤ã¾ã‚Šãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ä¸Šã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å®£è¨€ã—ã¦ã‚‹ã€‚`anchor build`ã™ã‚‹ã¨è‡ªå‹•ã§ç”Ÿæˆã•ã‚Œã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚“ã‹é•·ã„ãƒ©ãƒ³ãƒ€ãƒ ãªæ–‡å­—åˆ—...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã§ä¸€æ„ã«è­˜åˆ¥ã§ãã‚‹ã‚“ã ã€‚ã˜ã‚ƒã‚ã€ãƒ¡ã‚¤ãƒ³ã®éƒ¨åˆ†ã€

```rust
#[program]
pub mod my_program {
    use super::*;

    pub fn initialize(ctx: Context<Initialize>) -> Result<()> {
        msg!("Hello, Solana!");
        Ok(())
    }
}
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`#[program]`ã£ã¦ã„ã†å±æ€§ãƒã‚¯ãƒ­ã§ã€ã€ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯Solana Programã§ã™ã€ã£ã¦å®£è¨€ã—ã¦ã‚‹ã€‚ãã®ä¸­ã«ã€å‘½ä»¤ï¼ˆInstructionï¼‰ã‚’é–¢æ•°ã¨ã—ã¦å®šç¾©ã™ã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`initialize`ãŒå‘½ä»¤ãªã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã€initializeå‘½ä»¤ã‚’å®Ÿè¡Œã—ã¦ã€ã£ã¦é€ä¿¡ã•ã‚Œã‚‹ã¨ã€ã“ã®é–¢æ•°ãŒå‘¼ã°ã‚Œã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œå¼•æ•°ã®`ctx: Context<Initialize>`ã£ã¦ä½•ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`ctx`ã¯ã€ã“ã®å‘½ä»¤ã«å¿…è¦ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆç¾¤ãŒå…¥ã£ã¦ã‚‹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã€‚`Context<Initialize>`ã®`Initialize`ã¯ã€å¿…è¦ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å®šç¾©ã—ãŸæ§‹é€ ä½“ã®åå‰ã€

```rust
#[derive(Accounts)]
pub struct Initialize {}
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œä»Šå›ã¯ç©ºã ã‘ã©ã€æœ¬æ¥ã¯ã“ã“ã«ã€ã“ã®å‘½ä»¤ã«å¿…è¦ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã€ã ã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’äº‹å‰ã«å®£è¨€ã™ã‚‹ã£ã¦è¨€ã£ã¦ãŸã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ­£è§£ã€‚æœ€å¾Œã«`msg!`ãƒã‚¯ãƒ­ã€

```rust
msg!("Hello, Solana!");
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã¯`println!`ã¿ãŸã„ãªã‚‚ã®ã€‚ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã«å‡ºåŠ›ã•ã‚Œã‚‹ã€

---

## `<'info>`ã®è¬ã‚’è§£ã

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãã†ã„ãˆã°ã€ã•ã£ãã‹ã‚‰æ°—ã«ãªã£ã¦ãŸã‚“ã§ã™ã‘ã©...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚“ï¼Ÿã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒAnchorã®ã‚³ãƒ¼ãƒ‰è¦‹ã¦ã‚‹ã¨ã€`<'info>`ã£ã¦ã„ã†ã®ãŒã‚ˆãå‡ºã¦ãã‚‹ã˜ã‚ƒãªã„ã§ã™ã‹ã€‚ã‚ã‚Œã€ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã§ã™ã‚ˆã­ï¼Ÿã€

```rust
#[derive(Accounts)]
pub struct Initialize<'info> {
    #[account(mut)]
    pub user: Signer<'info>,
    pub system_program: Program<'info, System>,
}
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒãŠãŠã€ã„ã„ã¨ã“ã‚ã«æ°—ã¥ã„ãŸï¼ã€€Chapter 02ã§æ‰€æœ‰æ¨©ã¨ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚„ã£ãŸã‚ˆã­ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã¯ã„ã€‚ã§ã‚‚ã€ãªã‚“ã§`'info`ã£ã¦åå‰ãªã‚“ã§ã™ã‹ï¼Ÿã€€`'a`ã˜ã‚ƒãªãã¦ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã‚Œã¯ã€ã“ã®`'info`ãŒç‰¹åˆ¥ãªæ„å‘³ã‚’æŒã£ã¦ã‚‹ã‹ã‚‰ã€‚å›³ã§èª¬æ˜ã™ã‚‹ã­ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  'info ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®æ„å‘³                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ã®æµã‚Œ:                                     â”‚
â”‚                                                                 â”‚
â”‚  1. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ä¿¡                          â”‚
â”‚     â””â”€ ã€Œã“ã‚Œã‚‰ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ã£ã¦ã€ã“ã®å‘½ä»¤ã‚’å®Ÿè¡Œã—ã¦ã€          â”‚
â”‚                                                                 â”‚
â”‚  2. Solanaãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚’ãƒ­ãƒ¼ãƒ‰                      â”‚
â”‚     â””â”€ AccountInfoæ§‹é€ ä½“ã®é…åˆ—ã‚’ç”¨æ„                             â”‚
â”‚     â””â”€ ã“ã®é…åˆ—ãŒã€Œ'infoã€ã®æœŸé–“ã ã‘æœ‰åŠ¹                          â”‚
â”‚                                                                 â”‚
â”‚  3. ProgramãŒå®Ÿè¡Œã•ã‚Œã‚‹                                          â”‚
â”‚     â””â”€ AccountInfo ã¸ã®å‚ç…§ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿æ›¸ã                â”‚
â”‚                                                                 â”‚
â”‚  4. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å®Œäº†                                          â”‚
â”‚     â””â”€ AccountInfoé…åˆ—ãŒè§£æ”¾ã•ã‚Œã‚‹                                â”‚
â”‚     â””â”€ 'infoãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ çµ‚äº†                                      â”‚
â”‚                                                                 â”‚
â”‚  'info = ã€Œ1å›ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ä¸­ã€ã¨ã„ã†æœŸé–“ã‚’è¡¨ã™           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ï¼ã€€ã¤ã¾ã‚Šã€`'info`ã¯ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ä¸­ã ã‘æœ‰åŠ¹ã€ã£ã¦ã„ã†æ„å‘³ã®ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ãªã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã„ã†ã“ã¨ï¼ã€€Anchorã®å†…éƒ¨å®Ÿè£…ã‚’è¦‹ã‚‹ã¨ã€

```rust
// Anchorã®å†…éƒ¨å‹ï¼ˆç°¡ç•¥åŒ–ï¼‰
pub struct Account<'info, T> {
    // AccountInfoã¸ã®å‚ç…§ã‚’ä¿æŒ
    info: &'info AccountInfo<'info>,
    // ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿
    account: T,
}

pub struct Signer<'info> {
    info: &'info AccountInfo<'info>,
}
```

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`Account<'info, T>`ã¯ã€`AccountInfo`ã¸ã®å‚ç…§ã‚’æŒã£ã¦ã‚‹ã€‚ã“ã®å‚ç…§ã¯ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ä¸­ã ã‘æœ‰åŠ¹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã ã‹ã‚‰`'info`ã§ã€ãã®æœ‰åŠ¹æœŸé–“ã‚’æ˜ç¤ºã—ã¦ã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¤–ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ãŠã†ã¨ã™ã‚‹ãƒŸã‚¹ã€ã‚’é˜²ã„ã§ãã‚Œã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒChapter 02ã§å­¦ã‚“ã ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ãŒã€ã“ã‚“ãªã¨ã“ã‚ã§å½¹ç«‹ã¤ãªã‚“ã¦...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒRustã®åŸºç¤ãŒã—ã£ã‹ã‚Šã—ã¦ã‚‹ã¨ã€Anchorã®ã‚³ãƒ¼ãƒ‰ã‚‚ç†è§£ã—ã‚„ã™ã„ã§ã—ã‚‡ã€

---

## å®Ÿè·µï¼šCounterãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚‹

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã˜ã‚ƒã‚ã€å®Ÿç”¨çš„ãªä¾‹ã‚’ä½œã£ã¦ã¿ã‚ˆã†ã€‚ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚¢ãƒ—ãƒªã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚«ã‚¦ãƒ³ã‚¿ãƒ¼...ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æ•°å­—ãŒå¢—ãˆã‚‹ã‚„ã¤ã€‚ã‚·ãƒ³ãƒ—ãƒ«ã ã‘ã©ã€Anchorã®åŸºæœ¬ãŒå…¨éƒ¨è©°ã¾ã£ã¦ã‚‹ã€

```rust
use anchor_lang::prelude::*;

declare_id!("...");

#[program]
pub mod counter {
    use super::*;

    pub fn initialize(ctx: Context<Initialize>) -> Result<()> {
        let counter = &mut ctx.accounts.counter;
        counter.count = 0;
        counter.authority = ctx.accounts.authority.key();
        Ok(())
    }

    pub fn increment(ctx: Context<Increment>) -> Result<()> {
        let counter = &mut ctx.accounts.counter;
        counter.count += 1;
        Ok(())
    }
}

#[account]
pub struct Counter {
    pub count: u64,
    pub authority: Pubkey,
}

#[derive(Accounts)]
pub struct Initialize<'info> {
    #[account(
        init,
        payer = authority,
        space = 8 + 8 + 32
    )]
    pub counter: Account<'info, Counter>,

    #[account(mut)]
    pub authority: Signer<'info>,

    pub system_program: Program<'info, System>,
}

#[derive(Accounts)]
pub struct Increment<'info> {
    #[account(
        mut,
        has_one = authority
    )]
    pub counter: Account<'info, Counter>,

    pub authority: Signer<'info>,
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã†ã‚ã€æ€¥ã«é•·ããªã‚Šã¾ã—ãŸã­...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå¤§ä¸ˆå¤«ã€é †ç•ªã«è¦‹ã¦ã„ã“ã†ã€

---

## `#[account]`ï¼šãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å®šç¾©

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã¾ãšã¯ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‹ã‚‰ã€

```rust
#[account]
pub struct Counter {
    pub count: u64,      // 8ãƒã‚¤ãƒˆ
    pub authority: Pubkey, // 32ãƒã‚¤ãƒˆ
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ™®é€šã®æ§‹é€ ä½“ã«ã€`#[account]`ã£ã¦å±æ€§ãŒã¤ã„ã¦ã‚‹ã ã‘ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã®`#[account]`ãƒã‚¯ãƒ­ãŒã€ã‚ã¡ã‚ƒãã¡ã‚ƒä»•äº‹ã—ã¦ãã‚Œã‚‹ã‚“ã ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #[account] ãƒã‚¯ãƒ­ã®å±•é–‹çµæœ                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Borshã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º/ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã®å®Ÿè£…                       â”‚
â”‚     â†’ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿(Vec<u8>)ã¨æ§‹é€ ä½“ã®ç›¸äº’å¤‰æ›                 â”‚
â”‚                                                                 â”‚
â”‚  2. æ‰€æœ‰è€…ãƒã‚§ãƒƒã‚¯ã®å®Ÿè£…                                         â”‚
â”‚     â†’ ã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ‰€æœ‰è€…ãŒã“ã®Programã§ã‚ã‚‹ã“ã¨ã‚’æ¤œè¨¼          â”‚
â”‚                                                                 â”‚
â”‚  3. Discriminatorï¼ˆè­˜åˆ¥å­ï¼‰ã®ä»˜ä¸                                â”‚
â”‚     â†’ 8ãƒã‚¤ãƒˆã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªIDã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç¨®åˆ¥ã‚’è­˜åˆ¥                  â”‚
â”‚                                                                 â”‚
â”‚  4. AccountSerialize / AccountDeserialize ãƒˆãƒ¬ã‚¤ãƒˆã®å®Ÿè£…         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã£ã¦ã€ãƒ‡ãƒ¼ã‚¿ã‚’ãƒã‚¤ãƒˆåˆ—ã«å¤‰æ›ã™ã‚‹ã‚„ã¤ã§ã™ã‚ˆã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã¯ã€ãƒã‚¤ãƒˆåˆ—ï¼ˆ`Vec<u8>`ï¼‰ã—ã‹ä¿å­˜ã§ããªã„ã€‚ã ã‹ã‚‰æ§‹é€ ä½“â†”ãƒã‚¤ãƒˆåˆ—ã®å¤‰æ›ãŒå¿…è¦ãªã‚“ã ã‘ã©ã€ãã‚Œã‚’å…¨éƒ¨è‡ªå‹•ã§ã‚„ã£ã¦ãã‚Œã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œdiscriminatorã£ã¦ä½•ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã„ã„è³ªå•ã€‚ã“ã‚Œã¯è¶…é‡è¦ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Discriminator ã®ä»•çµ„ã¿                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®dataé ˜åŸŸ:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ 8 bytes    â”‚ 8 bytes â”‚ 32 bytes                 â”‚           â”‚
â”‚  â”‚discriminatorâ”‚ count   â”‚ authority                â”‚           â”‚
â”‚  â”‚ (è­˜åˆ¥å­)    â”‚ (u64)   â”‚ (Pubkey)                 â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  discriminator = sha256("account:Counter")[0..8]                â”‚
â”‚  â†’ "Counter"æ§‹é€ ä½“å°‚ç”¨ã®8ãƒã‚¤ãƒˆID                                â”‚
â”‚                                                                 â”‚
â”‚  ãªãœå¿…è¦ï¼Ÿ                                                      â”‚
â”‚  - åŒã˜ProgramãŒè¤‡æ•°ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‹ã‚’æŒã¤å ´åˆ                      â”‚
â”‚  - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®data(ãƒã‚¤ãƒˆåˆ—)ã ã‘ã§ã¯åŒºåˆ¥ã§ããªã„                  â”‚
â”‚  - discriminatorã§ã€Œã“ã®ãƒ‡ãƒ¼ã‚¿ã¯Counterå‹ã ã€ã¨è­˜åˆ¥                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ãƒ¼ã€å‹ã®è­˜åˆ¥å­ãªã‚“ã§ã™ã­ã€‚ãƒã‚¤ãƒˆåˆ—ã ã‘ã ã¨ã€ä½•ã®å‹ã‹åˆ†ã‹ã‚‰ãªã„ã‹ã‚‰ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ­£è§£ã€‚Anchorã¯ä¿å­˜æ™‚ã«å…ˆé ­8ãƒã‚¤ãƒˆã«discriminatorã‚’è‡ªå‹•ã§ä»˜ä¸ã—ã¦ã€èª­ã¿è¾¼ã¿æ™‚ã«ãƒã‚§ãƒƒã‚¯ã—ã¦ãã‚Œã‚‹ã€

---

## `space`ã®è¨ˆç®—ï¼šãªãœ8 + 8 + 32ï¼Ÿ

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ¬¡ã«æ°—ã«ãªã£ãŸã‚“ã§ã™ã‘ã©...ã€

```rust
#[account(
    init,
    payer = authority,
    space = 8 + 8 + 32  // â† ã“ã‚Œ
)]
pub counter: Account<'info, Counter>,
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã“ã®`space`ã£ã¦ä½•ã§ã™ã‹ï¼Ÿã€€ãªã‚“ã§8 + 8 + 32ãªã‚“ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã¯ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«å¿…è¦ãªãƒã‚¤ãƒˆæ•°ã‚’æŒ‡å®šã—ã¦ã‚‹ã€

```
spaceè¨ˆç®—ã®å†…è¨³:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  8   = discriminator (AnchorãŒè‡ªå‹•ä»˜ä¸)                          â”‚
â”‚  8   = count: u64 ã®ã‚µã‚¤ã‚º                                       â”‚
â”‚  32  = authority: Pubkey ã®ã‚µã‚¤ã‚º                                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚
â”‚  48  = åˆè¨ˆãƒã‚¤ãƒˆæ•°                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã€æ§‹é€ ä½“ã®ã‚µã‚¤ã‚ºã‚’è¨ˆç®—ã—ã¦ã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚Solanaã§ã¯ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã‚‹æ™‚ã«ã€å¿…è¦ãªã‚¹ãƒšãƒ¼ã‚¹ã‚’äº‹å‰ã«ç¢ºä¿ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚“ã ã€‚ã‚¹ãƒšãƒ¼ã‚¹ã«å¿œã˜ã¦ã€ãƒ¬ãƒ³ãƒˆã€ã£ã¦ã„ã†ä¿ç®¡æ–™é‡‘ã‚‚è¨ˆç®—ã•ã‚Œã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œä¿ç®¡æ–™é‡‘...ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒSolanaã¯ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ä½¿ã†å¯¾ä¾¡ã¨ã—ã¦å°‘é¡ã®SOLã‚’é ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ã§ã‚‚ä¸€å®šé¡ä»¥ä¸Šé ã‘ã¦ãŠã‘ã°ã€ãƒ¬ãƒ³ãƒˆãŒå…é™¤ã•ã‚Œã‚‹ã‹ã‚‰ã€å®Ÿè³ªçš„ã«ã¯ç„¡æ–™ã¿ãŸã„ãªã‚‚ã®ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚ˆãä½¿ã†å‹ã®ã‚µã‚¤ã‚ºã¯ã€ã“ã‚Œã‚’è¦šãˆã¦ãŠãã¨ã„ã„ã‚ˆã€

```
| å‹         | ã‚µã‚¤ã‚º (bytes) |
|-----------|---------------|
| bool      | 1             |
| u8 / i8   | 1             |
| u16 / i16 | 2             |
| u32 / i32 | 4             |
| u64 / i64 | 8             |
| u128/i128 | 16            |
| Pubkey    | 32            |
| String    | 4 + len       |  â† é•·ã•ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ + æ–‡å­—æ•°
| Vec<T>    | 4 + n * sizeof(T) |
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãƒ¡ãƒ¢ãƒ¡ãƒ¢...ã€

---

## `#[derive(Accounts)]`ã¨åˆ¶ç´„

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ¬¡ã¯ã€å¿…è¦ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å®šç¾©ã™ã‚‹æ§‹é€ ä½“ã€

```rust
#[derive(Accounts)]
pub struct Initialize<'info> {
    #[account(
        init,                    // æ–°è¦ä½œæˆ
        payer = authority,       // ä½œæˆè²»ç”¨ã®æ”¯æ‰•ã„è€…
        space = 8 + 8 + 32       // å¿…è¦ãªãƒã‚¤ãƒˆæ•°
    )]
    pub counter: Account<'info, Counter>,

    #[account(mut)]              // ã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯å¤‰æ›´ã•ã‚Œã‚‹
    pub authority: Signer<'info>, // ç½²åãŒå¿…è¦

    pub system_program: Program<'info, System>, // ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒ 
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`#[account(...)]`ã®ä¸­ã«ã€ã„ã‚ã‚“ãªåˆ¶ç´„ãŒæ›¸ã‹ã‚Œã¦ã¾ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã“ã®åˆ¶ç´„ã«ã‚ˆã£ã¦ã€AnchorãŒè‡ªå‹•ã§æ¤œè¨¼ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã€

```
| åˆ¶ç´„ | æ„å‘³ | è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹æ¤œè¨¼ |
|-----|------|------------------|
| init | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ–°è¦ä½œæˆ | ç©ºã§ã‚ã‚‹ã“ã¨ã€ãƒ¬ãƒ³ãƒˆæ–™é‡‘ã®è¨ˆç®— |
| mut | å¤‰æ›´å¯èƒ½ | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¾Œã«å¤‰æ›´ã‚’ä¿å­˜ |
| payer = X | ä½œæˆè²»ç”¨æ”¯æ‰•è€… | Xã‹ã‚‰å¿…è¦SOLã‚’å¼•ãè½ã¨ã— |
| has_one = X | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼ | account.X == X.key() |
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`payer = authority`ã£ã¦ã€authorityãŒãŠé‡‘æ‰•ã†ã£ã¦ã“ã¨ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã‚‹ã«ã¯ã€ãƒ¬ãƒ³ãƒˆç”¨ã®SOLãŒå¿…è¦ã€‚ãã‚Œã‚’`authority`ï¼ˆã¤ã¾ã‚Šãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ç½²åã—ãŸäººï¼‰ã‹ã‚‰å¼•ãè½ã¨ã™ã£ã¦ã“ã¨ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚‹ã»ã©...ã˜ã‚ƒã‚ã€`Signer<'info>`ã£ã¦ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã¯ã€ã€ã“ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ç½²åã—ãŸäººã€ã‚’è¡¨ã™å‹ã€‚ã¤ã¾ã‚Šã€ã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’æŒã£ã¦ã‚‹äººã£ã¦ã“ã¨ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã€èªè¨¼ã¿ãŸã„ãªã‚‚ã®ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ­£è§£ã€‚Anchorã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‹ã«ã¯ã€ã„ãã¤ã‹ç¨®é¡ãŒã‚ã‚‹ã‚“ã ã€

```rust
// 1. Account<'info, T> â€” ãƒ‡ãƒ¼ã‚¿ã‚’æŒã¤ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
pub counter: Account<'info, Counter>,

// 2. Signer<'info> â€” ç½²åè€…ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ç½²åã—ãŸäººï¼‰
pub authority: Signer<'info>,

// 3. Program<'info, T> â€” ä»–ã®Program
pub system_program: Program<'info, System>,

// 4. SystemAccount<'info> â€” é€šå¸¸ã®ã‚¦ã‚©ãƒ¬ãƒƒãƒˆï¼ˆãƒ‡ãƒ¼ã‚¿ãªã—ï¼‰
pub user_wallet: SystemAccount<'info>,
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`system_program`ã£ã¦ä½•ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒSolanaã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆã¨ã‹ã€SOLã®è»¢é€ã¨ã‹ã€åŸºæœ¬çš„ãªæ“ä½œã‚’æ‹…å½“ã—ã¦ã‚‹ã€‚`init`ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã‚‹æ™‚ã¯ã€ã“ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚‹ã‹ã‚‰ã€å¿…é ˆãªã‚“ã ã€

---

## å‘½ä»¤ã®å®Ÿè£…ã‚’èª­ã¿è§£ã

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã˜ã‚ƒã‚ã€å‘½ä»¤ã®ä¸­èº«ã‚’è¦‹ã¦ã¿ã‚ˆã†ã€

```rust
pub fn initialize(ctx: Context<Initialize>) -> Result<()> {
    let counter = &mut ctx.accounts.counter;
    counter.count = 0;
    counter.authority = ctx.accounts.authority.key();
    Ok(())
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`ctx.accounts.counter`ã§ã€ã•ã£ãå®šç¾©ã—ãŸ`counter`ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚`&mut`ã§å¯å¤‰å€Ÿç”¨ã—ã¦ã‚‹ã€‚ãªãœãªã‚‰ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å€¤ã‚’å¤‰æ›´ã™ã‚‹ã‹ã‚‰ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒChapter 02ã§å­¦ã‚“ã å¯å¤‰å€Ÿç”¨ã ï¼ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`.key()`ã¯ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å…¬é–‹éµï¼ˆPubkeyï¼‰ã‚’å–å¾—ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ã“ã‚Œã§ã€èª°ãŒã“ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®ã‚ªãƒ¼ãƒŠãƒ¼ã‹ã€ã‚’è¨˜éŒ²ã—ã¦ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæœ€å¾Œã®`Ok(())`ã¯ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒæˆåŠŸã‚’è¿”ã—ã¦ã‚‹ã€‚Anchorã¯ã€ã“ã®é–¢æ•°ãŒæˆåŠŸã—ãŸã‚‰ã€å¤‰æ›´ã•ã‚ŒãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•çš„ã«ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã—ã¦ã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«ä¿å­˜ã—ã¦ãã‚Œã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãˆã€è‡ªå‹•ã§ä¿å­˜ã—ã¦ãã‚Œã‚‹ã‚“ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ç´ ã®Solanaã ã¨ã€æ‰‹å‹•ã§ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã—ã¦æ›¸ãè¾¼ã‚€å¿…è¦ãŒã‚ã‚‹ã‘ã©ã€Anchorã¯ãã‚Œã‚‚å…¨éƒ¨ã‚„ã£ã¦ãã‚Œã‚‹ã€

---

## `has_one`åˆ¶ç´„ã®ç§˜å¯†

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ¬¡ã¯`increment`å‘½ä»¤ã€

```rust
pub fn increment(ctx: Context<Increment>) -> Result<()> {
    let counter = &mut ctx.accounts.counter;
    counter.count += 1;
    Ok(())
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã­ã€‚ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’1å¢—ã‚„ã™ã ã‘ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã§ã‚‚ã€é‡è¦ãªã®ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ§‹é€ ä½“ã®æ–¹ã€

```rust
#[derive(Accounts)]
pub struct Increment<'info> {
    #[account(
        mut,
        has_one = authority  // â† ã“ã‚Œï¼
    )]
    pub counter: Account<'info, Counter>,

    pub authority: Signer<'info>,
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`has_one = authority`...ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã€‚ã“ã†å‹•ãã€

```
has_one = authority ãŒè¡Œã†æ¤œè¨¼:

1. counter.authority (Counteræ§‹é€ ä½“ã®authorityãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰)
2. authority.key() (Incrementæ§‹é€ ä½“ã®authorityã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚­ãƒ¼)
3. ã“ã‚Œã‚‰ãŒä¸€è‡´ã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼

ã¤ã¾ã‚Š:
ã€Œã“ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ç½²åã—ãŸäººãŒã€
 ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®æ‰€æœ‰è€…(authority)ã¨åŒä¸€äººç‰©ã‹ï¼Ÿã€
ã‚’è‡ªå‹•ãƒã‚§ãƒƒã‚¯
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ï¼ã€€ä»–äººãŒå‹æ‰‹ã«ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã§ããªã„ã‚ˆã†ã«ã—ã¦ã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ­£è§£ã€‚ã“ã‚ŒãŒãªã„ã¨ã€èª°ã§ã‚‚èª°ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã§ã‚‚å¤‰æ›´ã§ãã¡ã‚ƒã†ã€‚`has_one`åˆ¶ç´„ä¸€ã¤ã§ã€ã“ã®ãƒã‚§ãƒƒã‚¯ãŒè‡ªå‹•åŒ–ã•ã‚Œã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒAnchorã™ã”ã„...æ‰‹å‹•ã ã¨ã€ã“ã®ãƒã‚§ãƒƒã‚¯æ›¸ãå¿˜ã‚Œãã†ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ãªã‚“ã ã‚ˆã€‚å®Ÿéš›ã€ç´ ã®Solanaã§é–‹ç™ºã—ã¦ãŸåˆæœŸã®é ƒã¯ã€ã“ã®ãƒã‚§ãƒƒã‚¯æ¼ã‚Œã§è„†å¼±æ€§ãŒã‚ã‚‹ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãŒçµæ§‹ã‚ã£ãŸã€

---

## PDAï¼šProgramãŒæ‰€æœ‰ã§ãã‚‹ç‰¹æ®Šãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãƒ¬ã‚¤å…ˆè¼©ã€ä¸€ã¤æ°—ã«ãªã£ãŸã“ã¨ãŒã‚ã£ã¦...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œä½•ï¼Ÿã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œä»Šã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«åˆ¥ã€…ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ä½œã‚‹ã“ã¨ã£ã¦ã§ãã¾ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒãŠã€ã„ã„è³ªå•ã€‚ãã‚Œã«ã¯PDAã£ã¦ã„ã†ä»•çµ„ã¿ã‚’ä½¿ã†ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒPDA...ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒProgram Derived Addressã€‚ProgramãŒã€æ‰€æœ‰ã€ã§ãã‚‹ç‰¹æ®Šãªã‚¢ãƒ‰ãƒ¬ã‚¹ãªã‚“ã ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é€šå¸¸ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ vs PDA                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€šå¸¸ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ:                                               â”‚
â”‚  - ç§˜å¯†éµã‹ã‚‰ç”Ÿæˆã•ã‚ŒãŸã‚¢ãƒ‰ãƒ¬ã‚¹                                   â”‚
â”‚  - ç½²åã«ã¯ç§˜å¯†éµãŒå¿…è¦                                          â”‚
â”‚  - å•é¡Œ: Programã¯ç§˜å¯†éµã‚’æŒã¦ãªã„ï¼                              â”‚
â”‚                                                                 â”‚
â”‚  PDA (Program Derived Address):                                 â”‚
â”‚  - Programã®ã‚¢ãƒ‰ãƒ¬ã‚¹ + ã‚·ãƒ¼ãƒ‰ã‹ã‚‰è¨ˆç®—ã§ç”Ÿæˆ                       â”‚
â”‚  - å¯¾å¿œã™ã‚‹ç§˜å¯†éµãŒã€Œå­˜åœ¨ã—ãªã„ã€ã‚ˆã†ã«è¨­è¨ˆ                        â”‚
â”‚  - ProgramãŒç›´æ¥ç½²åã§ãã‚‹ï¼ˆCPIã§ä½¿ç”¨ï¼‰                           â”‚
â”‚                                                                 â”‚
â”‚  ç”¨é€”:                                                           â”‚
â”‚  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼ˆã‚·ãƒ¼ãƒ‰ = ãƒ¦ãƒ¼ã‚¶ãƒ¼Pubkeyï¼‰            â”‚
â”‚  - ProgramãŒç®¡ç†ã™ã‚‹ãƒˆãƒ¼ã‚¯ãƒ³å£åº§                                  â”‚
â”‚  - æ±ºå®šçš„ãªã‚¢ãƒ‰ãƒ¬ã‚¹ç”Ÿæˆï¼ˆåŒã˜ã‚·ãƒ¼ãƒ‰ â†’ åŒã˜ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‰              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œç§˜å¯†éµãŒå­˜åœ¨ã—ãªã„...ï¼Ÿã€€ã©ã†ã„ã†ã“ã¨ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œé€šå¸¸ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯ã€ç§˜å¯†éµãŒã‚ã£ã¦ã€ãã‚Œã«å¯¾å¿œã™ã‚‹å…¬é–‹éµãŒã‚¢ãƒ‰ãƒ¬ã‚¹ã«ãªã‚‹ã€‚ã§ã‚‚ã€PDAã¯è¨ˆç®—ã ã‘ã§ç”Ÿæˆã•ã‚ŒãŸã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã€å¯¾å¿œã™ã‚‹ç§˜å¯†éµãŒå­˜åœ¨ã—ãªã„ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œç§˜å¯†éµãŒãªã„ã®ã«ã€ã©ã†ã‚„ã£ã¦ä½¿ã†ã‚“ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒProgramãŒã€ä»£ç†ã§ç½²åã€ã§ãã‚‹ã€‚ã ã‹ã‚‰ProgramãŒç®¡ç†ã™ã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ã—ã¦ä½¿ãˆã‚‹ã‚“ã ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã‚ˆã†ã€

```rust
#[derive(Accounts)]
pub struct CreateUserProfile<'info> {
    #[account(
        init,
        payer = user,
        space = 8 + UserProfile::INIT_SPACE,
        seeds = [b"user_profile", user.key().as_ref()],
        bump
    )]
    pub user_profile: Account<'info, UserProfile>,

    #[account(mut)]
    pub user: Signer<'info>,

    pub system_program: Program<'info, System>,
}

#[account]
#[derive(InitSpace)]
pub struct UserProfile {
    pub authority: Pubkey,    // 32
    #[max_len(50)]
    pub name: String,         // 4 + 50
    pub created_at: i64,      // 8
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`seeds`ã¨`bump`...ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`seeds`ã¯ã€ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®ææ–™ã€

```
seeds = [b"user_profile", user.key().as_ref()]
         â†“               â†“
         å›ºå®šæ–‡å­—åˆ—      ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¬é–‹éµ

ã‚¢ãƒ‰ãƒ¬ã‚¹è¨ˆç®—:
PDA = hash(seeds + program_id + bump)

ä¾‹:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼A: seeds = ["user_profile", A_pubkey] â†’ PDA_A
- ãƒ¦ãƒ¼ã‚¶ãƒ¼B: seeds = ["user_profile", B_pubkey] â†’ PDA_B

åŒã˜ã‚·ãƒ¼ãƒ‰ã‹ã‚‰ã¯å¸¸ã«åŒã˜PDAãŒç”Ÿæˆã•ã‚Œã‚‹ï¼ˆæ±ºå®šçš„ï¼‰
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ï¼ã€€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«é•ã†ã‚·ãƒ¼ãƒ‰ã ã‹ã‚‰ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«åˆ¥ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒç”Ÿæˆã•ã‚Œã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã„ã†ã“ã¨ã€‚ã—ã‹ã‚‚æ±ºå®šçš„ã ã‹ã‚‰ã€å¾Œã‹ã‚‰ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼Aã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯ã©ã“ï¼Ÿã€ã£ã¦è¨ˆç®—ã§æ±‚ã‚ã‚‰ã‚Œã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã˜ã‚ƒã‚`bump`ã¯ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã¯ã€ã¡ã‚‡ã£ã¨æŠ€è¡“çš„ãªè©±ã«ãªã‚‹ã‘ã©...ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  bumpï¼ˆãƒãƒ³ãƒ—ã‚·ãƒ¼ãƒ‰ï¼‰ã¨ã¯                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PDAã¯ã€Œæ¥•å††æ›²ç·šä¸Šã«ãªã„ç‚¹ã€ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„                    â”‚
â”‚  ï¼ˆç§˜å¯†éµãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ï¼‰                         â”‚
â”‚                                                                 â”‚
â”‚  è¨ˆç®—æ–¹æ³•:                                                       â”‚
â”‚  1. bump = 255 ã‹ã‚‰é–‹å§‹                                          â”‚
â”‚  2. hash(seeds + program_id + bump) ã‚’è¨ˆç®—                       â”‚
â”‚  3. çµæœãŒæ›²ç·šä¸Šãªã‚‰ bump -= 1 ã—ã¦å†è¨ˆç®—                        â”‚
â”‚  4. æ›²ç·šä¸Šã«ãªã„ç‚¹ãŒè¦‹ã¤ã‹ã£ãŸã‚‰ãã‚ŒãŒPDA                         â”‚
â”‚                                                                 â”‚
â”‚  Anchorã®`bump`åˆ¶ç´„:                                             â”‚
â”‚  - åˆå›: bumpã‚’è‡ªå‹•è¨ˆç®—ã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ä¿å­˜                       â”‚
â”‚  - 2å›ç›®ä»¥é™: ä¿å­˜ã•ã‚ŒãŸbumpã‚’ä½¿ç”¨ï¼ˆè¨ˆç®—ã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã†ãƒ¼ã‚“ã€æ¥•å††æ›²ç·š...é›£ã—ã„ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œè©³ç´°ã¯ç†è§£ã—ãªãã¦ã„ã„ã€‚è¦ã¯ã€ç§˜å¯†éµãŒçµ¶å¯¾ã«å­˜åœ¨ã—ãªã„ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½œã‚‹ãŸã‚ã®èª¿æ•´å€¤ã€ã£ã¦è¦šãˆã¦ãŠã‘ã°OKã€‚AnchorãŒå…¨éƒ¨è‡ªå‹•ã§ã‚„ã£ã¦ãã‚Œã‚‹ã‹ã‚‰ã€

---

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼šå®‰å…¨ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã•ã¦ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãŒã§ããŸã‘ã©ã€ä»Šã®ã¾ã¾ã ã¨å•é¡ŒãŒã‚ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œå•é¡Œ...ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’å¢—ã‚„ã—ç¶šã‘ã‚‹ã¨ã€ã„ã¤ã‹ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã™ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ï¼ã€€u64ã®æœ€å¤§å€¤ã‚’è¶…ãˆã¡ã‚ƒã†ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã ã‹ã‚‰ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒå¿…è¦ã€

```rust
use anchor_lang::prelude::*;

#[error_code]
pub enum ErrorCode {
    #[msg("Counter overflow")]
    Overflow,

    #[msg("Unauthorized access")]
    Unauthorized,

    #[msg("Invalid amount: must be greater than 0")]
    InvalidAmount,
}

#[program]
pub mod my_program {
    use super::*;

    pub fn increment(ctx: Context<Increment>, amount: u64) -> Result<()> {
        require!(amount > 0, ErrorCode::InvalidAmount);

        let counter = &mut ctx.accounts.counter;
        counter.count = counter.count
            .checked_add(amount)
            .ok_or(ErrorCode::Overflow)?;

        Ok(())
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`#[error_code]`ã§ã‚¨ãƒ©ãƒ¼ã‚’å®šç¾©ã™ã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚`require!`ãƒã‚¯ãƒ­ã§å…¥åŠ›å€¤ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€`checked_add`ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ãƒã‚§ãƒƒã‚¯ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒChapter 01ã§å­¦ã‚“ã `checked_add`ã ï¼ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒRustã®å®‰å…¨æ€§ã®è€ƒãˆæ–¹ãŒã€ãã®ã¾ã¾ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®å®‰å…¨æ€§ã«ã¤ãªãŒã‚‹ã‚“ã ã‚ˆã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚¨ãƒ©ãƒ¼å‡¦ç†ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ä¸»ã«3ã¤ã€

```rust
// ãƒ‘ã‚¿ãƒ¼ãƒ³1: require!ãƒã‚¯ãƒ­
require!(amount > 0, ErrorCode::InvalidAmount);
// â†’ amountãŒ0ä»¥ä¸‹ãªã‚‰ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¦çµ‚äº†

// ãƒ‘ã‚¿ãƒ¼ãƒ³2: checkedæ¼”ç®— + ok_or
counter.count
    .checked_add(amount)    // ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ãªã‚‰None
    .ok_or(ErrorCode::Overflow)?;  // Noneãªã‚‰ã‚¨ãƒ©ãƒ¼Return

// ãƒ‘ã‚¿ãƒ¼ãƒ³3: ifæ–‡ + return Err
if amount == 0 {
    return Err(ErrorCode::InvalidAmount.into());
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãƒ‘ã‚¿ãƒ¼ãƒ³2ã€Chapter 04ã§å­¦ã‚“ã `Option`ã¨`Result`ã®å¤‰æ›ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚ˆãè¦šãˆã¦ã‚‹ã€‚ä»Šã¾ã§å­¦ã‚“ã ã“ã¨å…¨éƒ¨æ´»ãã¦ã‚‹ã§ã—ã‚‡ã€

---

## CPIï¼šä»–ã®Programã‚’å‘¼ã³å‡ºã™

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæœ€å¾Œã«ã‚‚ã†ä¸€ã¤é‡è¦ãªæ¦‚å¿µã€‚CPIã€Cross-Program Invocationã£ã¦ã„ã†ã®ãŒã‚ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚¯ãƒ­ã‚¹...ãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œè‡ªåˆ†ã®Programã‹ã‚‰ã€ä»–ã®Programã‚’å‘¼ã³å‡ºã™æ©Ÿèƒ½ã€‚ä¾‹ãˆã°ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è»¢é€ã™ã‚‹æ™‚ã¨ã‹ã€

```rust
use anchor_lang::prelude::*;
use anchor_spl::token::{self, Token, TokenAccount, Transfer};

pub fn transfer_tokens(ctx: Context<TransferTokens>, amount: u64) -> Result<()> {
    // CPIç”¨ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ§‹é€ ä½“ã‚’ä½œæˆ
    let cpi_accounts = Transfer {
        from: ctx.accounts.from.to_account_info(),
        to: ctx.accounts.to.to_account_info(),
        authority: ctx.accounts.authority.to_account_info(),
    };

    // å‘¼ã³å‡ºã™Programã‚’æŒ‡å®š
    let cpi_program = ctx.accounts.token_program.to_account_info();

    // CPIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä½œæˆ
    let cpi_ctx = CpiContext::new(cpi_program, cpi_accounts);

    // Token Programã®transferå‘½ä»¤ã‚’å‘¼ã³å‡ºã—
    token::transfer(cpi_ctx, amount)?;

    Ok(())
}

#[derive(Accounts)]
pub struct TransferTokens<'info> {
    #[account(mut)]
    pub from: Account<'info, TokenAccount>,
    #[account(mut)]
    pub to: Account<'info, TokenAccount>,
    pub authority: Signer<'info>,
    pub token_program: Program<'info, Token>,
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œè‡ªåˆ†ã®Programã‹ã‚‰ã€Solanaã®ãƒˆãƒ¼ã‚¯ãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å‘¼ã‚“ã§ã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã“ã†ã™ã‚‹ã“ã¨ã§ã€æ—¢å­˜ã®Programã®æ©Ÿèƒ½ã‚’å†åˆ©ç”¨ã§ãã‚‹ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CPIï¼ˆCross-Program Invocationï¼‰ã®ä»•çµ„ã¿                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ                                                    â”‚
â”‚      â”‚                                                          â”‚
â”‚      â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”‚
â”‚  â”‚ ã‚ãªãŸã®Program â”‚                                             â”‚
â”‚  â”‚  (counter)     â”‚                                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚          â”‚ CPI: token::transfer(...)                            â”‚
â”‚          â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”‚
â”‚  â”‚ Token Program  â”‚  â† Solanaæ¨™æº–ã®ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†Program            â”‚
â”‚  â”‚  (SPL Token)   â”‚                                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã“ã‚Œã£ã¦ã€Chapter 09ã®APIã‚’å‘¼ã³å‡ºã™ã¿ãŸã„ãªæ„Ÿã˜ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã„ã„ä¾‹ãˆï¼ã€€Web APIã‚’å‘¼ã¶ã®ã¨ä¼¼ã¦ã‚‹ã€‚DeFiã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¯ã€ã“ã®CPIã‚’é§†ä½¿ã—ã¦è¤‡é›‘ãªå‡¦ç†ã‚’å®Ÿç¾ã—ã¦ã‚‹ã‚“ã ã€

---

## TypeScriptã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼šãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã™

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã§ãã¾ã—ãŸã‘ã©ã€ã“ã‚Œã£ã¦ã©ã†ã‚„ã£ã¦ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å‘¼ã¶ã‚“ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒAnchorãŒè‡ªå‹•ã§TypeScriptã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã‚“ã ã€

```typescript
import * as anchor from "@coral-xyz/anchor";
import { Program } from "@coral-xyz/anchor";
import { MyProgram } from "../target/types/my_program";

describe("my_program", () => {
    // ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆæ¥ç¶š+ã‚¦ã‚©ãƒ¬ãƒƒãƒˆï¼‰ã‚’å–å¾—
    const provider = anchor.AnchorProvider.env();
    anchor.setProvider(provider);

    // Programã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—ï¼ˆIDLã‹ã‚‰è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸå‹ä»˜ãï¼‰
    const program = anchor.workspace.MyProgram as Program<MyProgram>;

    it("Initializes the counter", async () => {
        // æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚­ãƒ¼ãƒšã‚¢ã‚’ç”Ÿæˆ
        const counter = anchor.web3.Keypair.generate();

        // ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ä¿¡
        await program.methods
            .initialize()          // å‘½ä»¤åï¼ˆRustã®é–¢æ•°åãŒã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã«ï¼‰
            .accounts({            // å¿…è¦ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
                counter: counter.publicKey,
                authority: provider.wallet.publicKey,
                systemProgram: anchor.web3.SystemProgram.programId,
            })
            .signers([counter])    // ç½²åè€…ï¼ˆæ–°è¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯ç½²åãŒå¿…è¦ï¼‰
            .rpc();                // ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é€ä¿¡

        // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
        const account = await program.account.counter.fetch(counter.publicKey);
        console.log("Count:", account.count.toString());
    });
});
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒTypeScriptã‹ã‚‰ã€Rustã®é–¢æ•°ã‚’å‹å®‰å…¨ã«å‘¼ã¹ã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚`anchor build`ã™ã‚‹ã¨ã€IDLã£ã¦ã„ã†JSONå½¢å¼ã®å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒIDLã¯Interface Definition Languageã®ç•¥ã§ã€Programã®ã€ä»•æ§˜æ›¸ã€ã¿ãŸã„ãªã‚‚ã®ã€

```json
{
  "version": "0.1.0",
  "name": "my_program",
  "instructions": [
    {
      "name": "initialize",
      "accounts": [
        { "name": "counter", "isMut": true, "isSigner": true },
        { "name": "authority", "isMut": true, "isSigner": true },
        { "name": "systemProgram", "isMut": false, "isSigner": false }
      ],
      "args": []
    }
  ],
  "accounts": [
    {
      "name": "Counter",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "count", "type": "u64" },
          { "name": "authority", "type": "publicKey" }
        ]
      }
    }
  ]
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã“ã‚ŒãŒã‚ã‚‹ã‹ã‚‰ã€TypeScriptã®å‹å®šç¾©ã‚‚è‡ªå‹•ç”Ÿæˆã§ãã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ­£è§£ã€‚ã ã‹ã‚‰ã€Rustã§ã‚³ãƒ¼ãƒ‰æ›¸ãã ã‘ã§ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å‹ã‚‚è‡ªå‹•ã§åŒæœŸã•ã‚Œã‚‹ã€‚ã‚ã¡ã‚ƒãã¡ã‚ƒé–‹ç™ºã—ã‚„ã™ã„ã§ã—ã‚‡ã€

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼šçµ¶å¯¾ã«æ°—ã‚’ã¤ã‘ã‚‹ã“ã¨

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã•ã¦ã€å®Ÿè£…ã®è©±ã¯ã ã„ãŸã„çµ‚ã‚ã£ãŸã‘ã©ã€æœ€å¾Œã«ä¸€ç•ªé‡è¦ãªè©±ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œä½•ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€‚ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¯ä¸€åº¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã€åŸºæœ¬çš„ã«å¤‰æ›´ã§ããªã„ã€‚ã—ã‹ã‚‚ãŠé‡‘ã‚’æ‰±ã†ã‹ã‚‰ã€è„†å¼±æ€§ãŒã‚ã‚‹ã¨å®Ÿéš›ã«è³‡é‡‘ãŒç›—ã¾ã‚Œã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ€–ã„...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã§ã‚‚ã€Anchorã¨åŸºæœ¬çš„ãªãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’å®ˆã‚Œã°ã€ã‹ãªã‚Šå®‰å…¨ãªã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ã‚‹ã€

```
| ãƒªã‚¹ã‚¯ | å¯¾ç­– | Anchorã®æ”¯æ´ |
|-------|------|-------------|
| ç½²åè€…æ¤œè¨¼æ¼ã‚Œ | Signer<'info>ã‚’ä½¿ç”¨ | è‡ªå‹•æ¤œè¨¼ |
| æ‰€æœ‰è€…æ¤œè¨¼æ¼ã‚Œ | Account<'info, T>ãŒè‡ªå‹•æ¤œè¨¼ | discriminator + owner |
| ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ | checked_add, checked_sub | æ‰‹å‹•ã§å®Ÿè£… |
| å†å…¥æ”»æ’ƒ | - | Solanaã¯æ§‹é€ çš„ã«é˜²æ­¢ |
| PDAç½²åå½è£… | seeds/bumpã‚’æ¤œè¨¼ | è‡ªå‹•æ¤œè¨¼ |
| ä¸æ­£ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‹ | discriminatoræ¤œè¨¼ | è‡ªå‹•æ¤œè¨¼ |
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒAnchorãŒè‡ªå‹•ã§ã‚„ã£ã¦ãã‚Œã‚‹ã®ã¨ã€è‡ªåˆ†ã§æ°—ã‚’ã¤ã‘ãªã„ã¨ã„ã‘ãªã„ã®ãŒã‚ã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ç‰¹ã«ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã¯è‡ªåˆ†ã§`checked_add`ã¨ã‹ä½¿ã†å¿…è¦ãŒã‚ã‚‹ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå®‰å…¨ãªã‚³ãƒ¼ãƒ‰ã®ä¾‹ã‚’è¦‹ã¦ã¿ã‚ˆã†ã€

```rust
pub fn withdraw(ctx: Context<Withdraw>, amount: u64) -> Result<()> {
    let vault = &mut ctx.accounts.vault;

    // 1. å…¥åŠ›å€¤ã®æ¤œè¨¼
    require!(amount > 0, ErrorCode::InvalidAmount);

    // 2. æ®‹é«˜ãƒã‚§ãƒƒã‚¯ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼é˜²æ­¢ï¼‰
    require!(vault.balance >= amount, ErrorCode::InsufficientFunds);

    // 3. checkedæ¼”ç®—ã§å®‰å…¨ã«æ¸›ç®—
    vault.balance = vault.balance
        .checked_sub(amount)
        .ok_or(ErrorCode::Overflow)?;

    // 4. è»¢é€å‡¦ç†...

    Ok(())
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã¾ãšå…¥åŠ›å€¤ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€æ®‹é«˜ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€checkedæ¼”ç®—ã§å®‰å…¨ã«è¨ˆç®—...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ã“ã®é †ç•ªã‚‚å¤§äº‹ã€‚å…ˆã«æ®‹é«˜ã‚’æ¸›ã‚‰ã—ã¦ã‹ã‚‰è»¢é€ã™ã‚‹ã¨ã€è»¢é€å¤±æ•—æ™‚ã«ä¸æ•´åˆãŒèµ·ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã£ã¦ã€ã„ã‚ã„ã‚è€ƒãˆã‚‹ã“ã¨ãŒã‚ã‚‹ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã ã‹ã‚‰ã“ãã€Anchorã®ã‚ˆã†ãªå®‰å…¨ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒé‡è¦ãªã‚“ã ã€

---

## å®Ÿéš›ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã‚‹

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã˜ã‚ƒã‚ã€å®Ÿéš›ã«ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã‚ˆã†ã‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãˆã€æœ¬å½“ã«ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆï¼ˆDevnetï¼‰ã ã‹ã‚‰ã€æœ¬ç‰©ã®ãŠé‡‘ã¯ä½¿ã‚ãªã„ã€‚ã§ã‚‚ã€æœ¬ç•ªç’°å¢ƒï¼ˆMainnetï¼‰ã¨åŒã˜ä½“é¨“ãŒã§ãã‚‹ã‚ˆã€

```bash
# Devnetã«åˆ‡ã‚Šæ›¿ãˆ
solana config set --url devnet

# ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã§ãƒ†ã‚¹ãƒˆç”¨ã®SOLã‚’å–å¾—
solana airdrop 2

# ãƒ‡ãƒ—ãƒ­ã‚¤
anchor deploy --provider.cluster devnet
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—...ã‚¿ãƒ€ã§ã‚‚ã‚‰ãˆã‚‹ã‚“ã§ã™ã‹ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã ã‹ã‚‰ã­ã€‚æœ¬ç•ªã®Mainnetã ã¨ã€ã‚‚ã¡ã‚ã‚“è²·ã‚ãªã„ã¨ã„ã‘ãªã„ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¾ã—ãŸï¼ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒãŠã‚ã§ã¨ã†ã€‚ã“ã‚Œã§å›ã®ã‚³ãƒ¼ãƒ‰ãŒã€Solanaãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ä¸Šã§å‹•ã„ã¦ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚“ã‹æ„Ÿå‹•...ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã“ã‚Œã‹ã‚‰ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä½œã£ã¦ã€å®Ÿéš›ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã‚‹ã¨ã„ã„ã‚ˆã€

---

## ã¾ã¨ã‚ï¼šEthereumã¨Solanaã®æ¯”è¼ƒ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæœ€å¾Œã«ã€Ethereumã¨Solanaã®é•ã„ã‚’æ•´ç†ã—ã¦ãŠã“ã†ã€

```
| æ¦‚å¿µ | Ethereum/Solidity | Solana/Anchor |
|-----|------------------|---------------|
| ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ | Contract | Program |
| ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | Contractå†… | åˆ¥ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ |
| è¨€èª | Solidity | Rust |
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Hardhat/Foundry | Anchor |
| ã‚¢ãƒ‰ãƒ¬ã‚¹ç”Ÿæˆ | CREATE/CREATE2 | PDA |
| å¤–éƒ¨å‘¼ã³å‡ºã— | call/delegatecall | CPI |
| ã‚¬ã‚¹/æ‰‹æ•°æ–™ | é«˜ã„ | éå¸¸ã«ä½ã„ |
| ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ | ~15 TPS | ~65,000 TPS |
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒSolanaã€ã‚ã¡ã‚ƒãã¡ã‚ƒé€Ÿã„ã—å®‰ã„ã‚“ã§ã™ã­ã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚ç‰¹ã«ã‚²ãƒ¼ãƒ ã¨ã‹NFTãƒŸãƒ³ãƒˆã¨ã‹ã€å¤§é‡ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªç”¨é€”ã«å‘ã„ã¦ã‚‹ã€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã˜ã‚ƒã‚Ethereumã¯ï¼Ÿã€

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒEthereumã¯ã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒä¸€ç•ªå¤§ãã„ã€‚DeFiãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚‚ã€é–‹ç™ºè€…ã‚‚åœ§å€’çš„ã«å¤šã„ã€‚ã©ã£ã¡ãŒã„ã„ã£ã¦ã‚ã‘ã˜ã‚ƒãªãã¦ã€ç”¨é€”æ¬¡ç¬¬ã€

---

## ã‚¨ãƒ”ãƒ­ãƒ¼ã‚°ï¼šä»Šæ—¥ã‚ã‹ã£ãŸã“ã¨

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã˜ã‚ƒã‚ã€ä»Šæ—¥å­¦ã‚“ã ã“ã¨ã‚’æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¦ã€‚ã€

ï¼ˆãƒ¦ã‚¤ãŒä¸€ã¤ä¸€ã¤ç¢ºèªã™ã‚‹ã‚ˆã†ã«ï¼‰

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæœ€åˆã€æ™®é€šã®Rustã§æ›¸ã“ã†ã¨ã—ãŸã‚‰ã€ãƒ‡ãƒ¼ã‚¿ã©ã“ã«ä¿å­˜ã™ã‚‹ã®ï¼Ÿã€ã£ã¦è¨€ã‚ã‚Œã¾ã—ãŸã€‚ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã¯**æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãŒå¿…è¦**ã§ã€ãã‚ŒãŒSolanaã§ã¯**ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**ãªã‚“ã§ã™ã‚ˆã­ã€‚ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚PostgreSQLãŒAccountã§ã€Node.jsã‚µãƒ¼ãƒãƒ¼ãŒProgramã£ã¦ä¾‹ãˆãŸã­ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã§ã€Anchorã§æ›¸ãç›´ã—ãŸã‚‰`#[account(mut)]`ãŒãªãã¦ã‚¨ãƒ©ãƒ¼ã€‚**å¤‰æ›´ã™ã‚‹ãªã‚‰æ˜ç¤ºçš„ã«å®£è¨€**ã—ãªã„ã¨ã„ã‘ãªã„ã€‚ã“ã‚ŒãŒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã¤ãªãŒã‚‹ã‚“ã§ã™ã‚ˆã­ã€‚ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€ŒEthereumã ã¨æš—é»™çš„ã«æ›¸ãè¾¼ã¿ã§ãã¡ã‚ƒã†ã‘ã©ã€Solanaã¯æ˜ç¤ºçš„ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`<'info>`ã£ã¦ã„ã†ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚‚å‡ºã¦ãã¾ã—ãŸã€‚ã“ã‚Œã¯**ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ä¸­ã ã‘æœ‰åŠ¹**ã£ã¦ã„ã†æ„å‘³ã€‚Chapter 02ã§å­¦ã‚“ã ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ãŒã“ã“ã§æ´»ãã¦ã‚‹ï¼ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå¬‰ã—ã„ã­ã€ãã†ã‚„ã£ã¦ç¹‹ãŒã£ã¦ãã‚‹ã¨ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ**PDA**ã‚‚é¢ç™½ã‹ã£ãŸã§ã™ã€‚`find_program_address`ã§ã‚·ãƒ¼ãƒ‰ã‹ã‚‰æ±ºå®šçš„ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç”Ÿæˆã§ãã‚‹ã€‚ã“ã‚Œã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã€ã“ã®äººã®ãƒ‡ãƒ¼ã‚¿ã¯ã“ã“ã€ã£ã¦ç‰¹å®šã§ãã‚‹ã€‚ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã—ã‹ã‚‚ProgramãŒæ‰€æœ‰ã§ãã‚‹ã‹ã‚‰ã€ç½²åãªã—ã§CPIã‹ã‚‰æ“ä½œã§ãã‚‹ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã¨ã€Ethereumã¨ã®é•ã„ãŒå°è±¡çš„ã§ã—ãŸã€‚Ethereum = ã‚³ãƒ¼ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ãŒä¸€ä½“åŒ–ã€Solana = åˆ†é›¢ã€‚ã ã‹ã‚‰Solanaã¯**ä¸¦åˆ—å®Ÿè¡Œã§ãã¦65,000 TPS**ã€‚æ‰‹æ•°æ–™ã‚‚0.00025ãƒ‰ãƒ«ã£ã¦ã€Ethereumã®æ•°åƒå††ã¨å…¨ç„¶é•ã†ï¼ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã©ã£ã¡ãŒã„ã„ã£ã¦ã‚ã‘ã˜ã‚ƒãªãã¦ã€ç”¨é€”æ¬¡ç¬¬ã­ã€‚ã‚²ãƒ¼ãƒ ã‚„NFTãƒŸãƒ³ãƒˆã¯Solanaã€DeFiã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¯Ethereumã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒRustã®çŸ¥è­˜ãŒå…¨éƒ¨æ´»ãã¦ã‚‹ã®ãŒå¬‰ã—ã„ã§ã™ã€‚æ‰€æœ‰æ¨© â†’ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ‰€æœ‰è€…æ¤œè¨¼ã€ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ  â†’ `<'info>`ã€ãƒˆãƒ¬ã‚¤ãƒˆ â†’ Anchorã®å‹åˆ¶ç´„ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° â†’ `Result`å‹...Chapter 01ã‹ã‚‰09ã¾ã§ã®å­¦ã³ãŒå…¨éƒ¨ç¹‹ãŒã‚Šã¾ã—ãŸï¼ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæœ€åˆã¯æ‰€æœ‰æ¨©ã§ã¤ã¾ãšã„ã¦ãŸã®ã«ã€ä»Šã˜ã‚ƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ‰€æœ‰è€…æ¤œè¨¼ã¨ã‹æ™®é€šã«ç†è§£ã—ã¦ã‚‹ã‚‚ã‚“ã­ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ¬¡ã¯è‡ªåˆ†ã®DAppä½œã£ã¦ã€ãƒ¬ã‚¤å…ˆè¼©ã«è¦‹ã›ã¾ã™ã­ï¼ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œæ¥½ã—ã¿ã«ã—ã¦ã‚‹ã€‚Happy Building on Solana!ã€

---

## å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

ã“ã®ç« ã§å­¦ã‚“ã ã“ã¨ã‚’ã•ã‚‰ã«æ·±ã‚ã‚‹ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ï¼š

| ãƒªã‚½ãƒ¼ã‚¹ | èª¬æ˜ |
|---------|------|
| [Anchor Book](https://book.anchor-lang.com/) | å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€è©³ç´°ãªè§£èª¬ |
| [Solana Cookbook](https://solanacookbook.com/) | ãƒ¬ã‚·ãƒ”é›†ã€ã‚ˆãã‚ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| [Solana Playground](https://beta.solpg.io/) | ãƒ–ãƒ©ã‚¦ã‚¶IDEã€ç’°å¢ƒæ§‹ç¯‰ä¸è¦ |
| [Buildspace](https://buildspace.so/) | ãƒãƒ³ã‚ºã‚ªãƒ³ã‚³ãƒ¼ã‚¹ |
| [Solana Stack Exchange](https://solana.stackexchange.com/) | Q&Aã€å›°ã£ãŸæ™‚ã« |

---

## ã“ã®ç« ã®ãƒã‚¤ãƒ³ãƒˆ

- **Solana = é«˜é€Ÿãƒ»ä½ã‚³ã‚¹ãƒˆãƒ»Rustãƒã‚¤ãƒ†ã‚£ãƒ–** ã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³
- **Programï¼ˆã‚³ãƒ¼ãƒ‰ï¼‰ã¨Accountï¼ˆãƒ‡ãƒ¼ã‚¿ï¼‰ãŒåˆ†é›¢** â†’ ä¸¦åˆ—å®Ÿè¡Œå¯èƒ½
- **Anchor = ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã‚’è‡ªå‹•ç”Ÿæˆ** ã™ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **`<'info>` = ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ä¸­ã®ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ **
- **`#[account]` = discriminator + ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º + æ‰€æœ‰è€…æ¤œè¨¼** ã‚’è‡ªå‹•å®Ÿè£…
- **`#[derive(Accounts)]` = ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¤œè¨¼ã‚³ãƒ¼ãƒ‰** ã‚’è‡ªå‹•ç”Ÿæˆ
- **PDA = ProgramãŒæ‰€æœ‰ã§ãã‚‹ã€ã‚·ãƒ¼ãƒ‰ã‹ã‚‰æ±ºå®šçš„ã«ç”Ÿæˆã•ã‚Œã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹**
- **CPI = ä»–ã®Programã‚’å‘¼ã³å‡ºã™** æ©Ÿèƒ½ï¼ˆDeFiã§é‡è¦ï¼‰
- **TypeScript/Rust ã®å‹å®‰å…¨ãªé€£æº** ãŒè‡ªå‹•ã§å®Ÿç¾
- **Rustã®åŸºç¤çŸ¥è­˜ï¼ˆæ‰€æœ‰æ¨©ã€ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼‰ãŒå…¨éƒ¨æ´»ãã‚‹**

---

## Webé–‹ç™ºè€…ã®ãŸã‚ã®è£œè¶³

### ã€ŒçŠ¶æ…‹ãŒã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆå†…ã«ãªã„ã€ã¨ã„ã†æ¦‚å¿µ

```typescript
// å¾“æ¥ã®Webé–‹ç™ºã®æ„Ÿè¦š
class UserService {
    private users: Map<string, User> = new Map();  // ã‚µãƒ¼ãƒ“ã‚¹å†…ã«çŠ¶æ…‹

    getUser(id: string) { return this.users.get(id); }
}

// Solanaã®æ„Ÿè¦š
// Program = ãƒ­ã‚¸ãƒƒã‚¯ã®ã¿ï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ï¼‰
// çŠ¶æ…‹ = åˆ¥ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆå¤–éƒ¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚ˆã†ãªã‚‚ã®ï¼‰
```

### ã€Œã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã‚’äº‹å‰ã«å®£è¨€ã€

```typescript
// Webé–‹ç™º: é–¢æ•°å†…ã§è‡ªç”±ã«DBèª­ã¿æ›¸ã
async function updateUser(userId: string) {
    const user = await db.users.findById(userId);  // å‹•çš„ã«ã‚¢ã‚¯ã‚»ã‚¹
    user.name = "New Name";
    await user.save();
}

// Solana: ä½¿ã†ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’äº‹å‰ã«å®£è¨€
#[derive(Accounts)]
pub struct UpdateUser<'info> {
    #[account(mut)]
    pub user: Account<'info, User>,  // â† äº‹å‰ã«å®£è¨€å¿…é ˆ
}
```

### ã€Œãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³â‰ é–¢æ•°å‘¼ã³å‡ºã—ã€

```
Webé–‹ç™º:
ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ â†’ ã‚µãƒ¼ãƒãƒ¼ â†’ DB â†’ ãƒ¬ã‚¹ãƒãƒ³ã‚¹
(åŒæœŸçš„ã«çµæœãŒè¿”ã‚‹)

Solana:
ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ â†’ ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é€ä¿¡ â†’ ãƒ–ãƒ­ãƒƒã‚¯ç¢ºå®šã‚’å¾…ã¤
(éåŒæœŸã€ç¢ºå®šã¾ã§æ•°ç§’ã‹ã‹ã‚‹å ´åˆã‚‚)
```

---

**Happy Building on Solana! ğŸ¦€âš¡**
