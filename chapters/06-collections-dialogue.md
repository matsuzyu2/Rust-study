# Chapter 06: ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå¯¾è©±ç·¨ï¼‰

> **ã“ã®ç« ã§å­¦ã¶ã“ã¨**: Vecã€HashMapã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ â€” ãƒ‡ãƒ¼ã‚¿ã®é›†åˆã‚’æ‰±ã†æ–¹æ³•

> ğŸ“– **è¨˜å·ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**: ã“ã®ç« ã§ã¯ `&v[..]`, `.iter()`, `|x| x + 1` ãªã©é‡è¦ãªæ§‹æ–‡ãŒç™»å ´ã—ã¾ã™ã€‚æ„å‘³ãŒã‚ã‹ã‚‰ãªããªã£ãŸã‚‰ [Chapter 11: è¨˜å·ãƒ»æ§‹æ–‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](11-syntax-reference.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°ï¼šforãƒ«ãƒ¼ãƒ—ã§å€Ÿç”¨ã‚¨ãƒ©ãƒ¼!?

ãƒ¦ã‚¤ãŒVecæ“ä½œã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã‚‹ã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œå…ˆè¼©ã€ãƒªã‚¹ãƒˆå†…ã®å¶æ•°ã‚’2å€ã«ã—ã¦ã€æ–°ã—ã„ãƒªã‚¹ãƒˆã‚’ä½œã‚ŠãŸã„ã‚“ã§ã™ã‘ã©â€¦ã€

```rust
fn main() {
    let mut numbers = vec![1, 2, 3, 4, 5];

    for n in numbers {
        if n % 2 == 0 {
            numbers.push(n * 2);  // âŒ ã‚¨ãƒ©ãƒ¼ï¼
        }
    }
}
```

```
error[E0382]: borrow of moved value: `numbers`
 --> src/main.rs:6:13
  |
2 |     let mut numbers = vec![1, 2, 3, 4, 5];
  |         ----------- move occurs because `numbers` has type `Vec<i32>`
3 |
4 |     for n in numbers {
  |              ------- `numbers` moved due to this implicit call to `.into_iter()`
5 |         if n % 2 == 0 {
6 |             numbers.push(n * 2);
  |             ^^^^^^^ value borrowed here after move
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãˆã‡ï¼ï¼ŸãŸã ã®forãƒ«ãƒ¼ãƒ—ãªã®ã«ã€ãªã‚“ã§`numbers`ãŒä½¿ãˆãªããªã‚‹ã‚“ã§ã™ã‹ï¼ï¼ŸPythonãªã‚‰æ™®é€šã«æ›¸ã‘ã‚‹ã®ã«â€¦ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ï¼ˆç”»é¢ã‚’è¦‹ã¦ï¼‰ã€Œã‚ãã€ã“ã‚Œã¯**Ruståˆå¿ƒè€…ã‚ã‚‹ã‚ã‚‹**ã­ã€‚forãƒ«ãƒ¼ãƒ—ã®è£å´ã§ä½•ãŒèµ·ãã¦ã‚‹ã‹ã€åˆ†ã‹ã£ã¦ãªã„ã¨å¿…ãšãƒãƒã‚‹ãƒã‚¤ãƒ³ãƒˆã‚ˆã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œä½•ãŒèµ·ãã¦ã‚‹ã‚“ã§ã™ã‹ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`for n in numbers`ã£ã¦æ›¸ãã¨ã€å®Ÿã¯è£ã§`.into_iter()`ãŒå‘¼ã°ã‚Œã‚‹ã®ã€‚ã“ã‚Œã¯**æ‰€æœ‰æ¨©ã‚’å¥ªã†**ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãªã®ã‚ˆã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ‰€æœ‰æ¨©ã‚’å¥ªã†â€¦ï¼ã˜ã‚ƒã‚ãƒ«ãƒ¼ãƒ—ä¸­ã«`numbers`ã¯ä½¿ãˆãªããªã‚‹â€¦ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã„ã†ã“ã¨ã€‚è§£æ±ºç­–ã¯`&numbers`ã§**å€Ÿç”¨ã™ã‚‹**ã‹ã€`.iter()`ã‚’ä½¿ã†ã“ã¨ã€‚ã€

```rust
fn main() {
    let numbers = vec![1, 2, 3, 4, 5];

    // æ–¹æ³•1: &ã‚’ä½¿ã£ã¦å€Ÿç”¨
    for n in &numbers {
        println!("{}", n);
    }
    // numbersã¯ã¾ã ä½¿ãˆã‚‹ï¼

    // æ–¹æ³•2: .iter()ã‚’ä½¿ã†ï¼ˆåŒã˜ã“ã¨ï¼‰
    for n in numbers.iter() {
        println!("{}", n);
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚‹ã»ã©â€¦ï¼ã§ã‚‚æœ€åˆã®ã‚³ãƒ¼ãƒ‰ã€ãƒ«ãƒ¼ãƒ—ä¸­ã«pushã—ã‚ˆã†ã¨ã—ã¦ãŸã®ã¯ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã‚Œã¯åˆ¥ã®å•é¡Œã‚ˆã€‚**ã‚¤ãƒ†ãƒ¬ãƒ¼ãƒˆä¸­ã«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’å¤‰æ›´ã™ã‚‹ã®ã¯ç¦æ­¢**ãªã®ã€‚ã“ã‚Œã¯Pythonã§ã‚‚æ¨å¥¨ã•ã‚Œã¦ãªã„ã§ã—ã‚‡ï¼Ÿã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã€ç¢ºã‹ã«â€¦ã€‚ã˜ã‚ƒã‚ã©ã†æ›¸ã‘ã°ã„ã„ã‚“ã§ã™ã‹ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦**æ–°ã—ã„Vecã‚’ä½œã‚‹**ã®ãŒRustæµã‚ˆã€‚ä»Šæ—¥ã¯ãã‚Œã‚‚å«ã‚ã¦ã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¨ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’æ·±æ˜ã‚Šã™ã‚‹ã‚ã­ã€‚ã€

---

## Vec<T> â€” Rustã§æœ€ã‚‚ä½¿ã†ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### Vecã®ä½œæˆ

```rust
fn main() {
    // ç©ºã®Vecã‚’ä½œã‚‹
    let mut v1: Vec<i32> = Vec::new();

    // ãƒã‚¯ãƒ­ã§åˆæœŸåŒ–ï¼ˆã“ã‚ŒãŒä¸€ç•ªã‚ˆãä½¿ã†ï¼‰
    let v2 = vec![1, 2, 3, 4, 5];

    // å®¹é‡ã‚’äº‹å‰ã«ç¢ºä¿ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼‰
    let mut v3: Vec<i32> = Vec::with_capacity(100);

    // åŒã˜å€¤ã§åŸ‹ã‚ã‚‹
    let v4 = vec![0; 10];  // [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`Vec::new()`ã®`::`ã£ã¦ä½•ã§ã™ã‹ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã„ã„è³ªå•ã­ã€‚`::`ã¯ã€é–¢é€£é–¢æ•°ã€ã‚’å‘¼ã³å‡ºã™è¨˜å·ã‚ˆã€‚ä»–ã®è¨€èªã§ã„ã†é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã¿ãŸã„ãªã‚‚ã®ã€‚`Vec`å‹ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸ`new`é–¢æ•°ã‚’å‘¼ã‚“ã§ã‚‹ã®ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãªã‚‹ã»ã©ã€‚ã§ã€`vec!`ã®æ–¹ã¯ãƒã‚¯ãƒ­ã§ã™ã‹ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚`!`ãŒã¤ã„ã¦ã‚‹ã®ãŒãƒã‚¯ãƒ­ã®è¨¼æ‹ ã­ã€‚é…åˆ—ãƒªãƒ†ãƒ©ãƒ«é¢¨ã«æ›¸ã‘ã¦ä¾¿åˆ©ã ã‹ã‚‰ã€å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã“ã£ã¡ã‚’ã‚ˆãä½¿ã†ã‚ã€‚ã€

### Vecã®ãƒ¡ãƒ¢ãƒªæ§‹é€  â€” Python/JSã¨ã¯æ ¹æœ¬çš„ã«é•ã†

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã¡ã‚‡ã£ã¨ç«‹ã¡æ­¢ã¾ã£ã¦ã€ãƒ¡ãƒ¢ãƒªã®è©±ã‚’ã—ã¾ã—ã‚‡ã†ã€‚Pythonã‚„JavaScriptã®ãƒªã‚¹ãƒˆ/é…åˆ—ã¨ã€Rustã®Vecã¯**æ ¹æœ¬çš„ã«ä»•çµ„ã¿ãŒé•ã†**ã®ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã©ã†é•ã†ã‚“ã§ã™ã‹ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ï¼ˆãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«å›³ã‚’æãï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ¡ãƒ¢ãƒªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ¯”è¼ƒ                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Python list / JavaScript Array:                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [ptr] â†’ [ptr] â†’ [ptr] â†’ [ptr] â†’ ...                    â”‚    â”‚
â”‚  â”‚   â”‚       â”‚       â”‚       â”‚                            â”‚    â”‚
â”‚  â”‚   â†“       â†“       â†“       â†“                            â”‚    â”‚
â”‚  â”‚  obj1   obj2   obj3   obj4  ï¼ˆå„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒãƒ’ãƒ¼ãƒ—ã«ï¼‰â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â†’ å„è¦ç´ ãŒãƒã‚¤ãƒ³ã‚¿ã€é–“æ¥å‚ç…§ãŒå¤šã„ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡æ‚ªã„           â”‚
â”‚                                                                 â”‚
â”‚  Rust Vec<i32>:                                                 â”‚
â”‚  ã‚¹ã‚¿ãƒƒã‚¯                    ãƒ’ãƒ¼ãƒ—                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ptr â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ 1 â”‚ 2 â”‚ 3 â”‚ 4 â”‚ 5 â”‚ ... â”‚    â”‚    â”‚
â”‚  â”‚ len: 5       â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”‚ cap: 8       â”‚           ï¼ˆé€£ç¶šã—ãŸãƒ¡ãƒ¢ãƒªé ˜åŸŸï¼‰              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚  â†’ è¦ç´ ãŒé€£ç¶šé…ç½®ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡æœ€é«˜ã€ãƒ¡ãƒ¢ãƒªç¯€ç´„                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œãˆã£ã€å…¨ç„¶é•ã†â€¦ï¼Rustã®æ–¹ãŒã‚·ãƒ³ãƒ—ãƒ«ã«è¦‹ãˆã¾ã™ã­ã€‚ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãã†ã€‚Vecã¯**24ãƒã‚¤ãƒˆ**ã®ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸï¼ˆptr + len + capï¼‰ã¨ã€ãƒ’ãƒ¼ãƒ—ä¸Šã®**é€£ç¶šã—ãŸãƒ¡ãƒ¢ãƒªé ˜åŸŸ**ã§æ§‹æˆã•ã‚Œã‚‹ã®ã€‚ã“ã‚ŒãŒCè¨€èªã«åŒ¹æ•µã™ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ç§˜å¯†ã‚ˆã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`len`ã¨`cap`ã£ã¦ä½•ã§ã™ã‹ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œ`len`ã¯ç¾åœ¨ã®è¦ç´ æ•°ã€`cap`ï¼ˆcapacityï¼‰ã¯ç¢ºä¿æ¸ˆã¿ã®å®¹é‡ã‚ˆã€‚è¦ç´ ã‚’è¿½åŠ ã—ã¦capã‚’è¶…ãˆã‚‹ã¨ã€ã‚ˆã‚Šå¤§ããªé ˜åŸŸã‚’ç¢ºä¿ã—ã¦å…¨è¦ç´ ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã®ã€‚ã ã‹ã‚‰äº‹å‰ã«`Vec::with_capacity()`ã§å®¹é‡ã‚’ç¢ºä¿ã—ã¦ãŠãã¨åŠ¹ç‡ãŒã„ã„ã®ã‚ˆã€‚ã€

---

### è¦ç´ ã®è¿½åŠ ã¨å‰Šé™¤

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: è¦ç´ ã‚’è¿½åŠ ã™ã‚‹ã®ã¯`push`ã§ã„ã„ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã®é€šã‚Šã€‚ãŸã ã—ã€`mut`ã‚’ã¤ã‘ã¦å¯å¤‰ã«ã—ãªã„ã¨ãƒ€ãƒ¡ã‚ˆã€‚

```rust
fn main() {
    let mut v = vec![1, 2, 3];

    v.push(4);           // [1, 2, 3, 4]
    v.push(5);           // [1, 2, 3, 4, 5]

    let last = v.pop();  // Some(5)
    println!("{:?}", v); // [1, 2, 3, 4]
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `pop()`ãŒ`Some(5)`ã‚’è¿”ã—ã¦ã‚‹â€¦â€¦ã“ã‚Œã£ã¦ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `pop()`ã¯`Option<T>`ã‚’è¿”ã™ã®ã€‚ãƒ™ã‚¯ã‚¿ãƒ¼ãŒç©ºã®å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã‚‰ã€å®‰å…¨ã«Noneã‚’è¿”ã›ã‚‹ã‚ˆã†ã«ã—ã¦ã‚‹ã®ã‚ˆã€‚

```rust
fn main() {
    let mut v: Vec<i32> = vec![];
    let value = v.pop();  // Noneï¼ˆç©ºã®ãƒ™ã‚¯ã‚¿ãƒ¼ã‹ã‚‰popã—ã¦ã‚‚å®‰å…¨ï¼‰

    match value {
        Some(x) => println!("Got: {}", x),
        None => println!("Vector was empty"),
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãªã‚‹ã»ã©ã€‚ã˜ã‚ƒã‚é€”ä¸­ã«æŒ¿å…¥ã—ãŸã‚Šå‰Šé™¤ã—ãŸã‚Šã¯ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `insert()`ã¨`remove()`ãŒã‚ã‚‹ã‚ã€‚

```rust
fn main() {
    let mut v = vec![1, 2, 3];

    v.insert(1, 10);     // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹1ã«10ã‚’æŒ¿å…¥ â†’ [1, 10, 2, 3]
    v.remove(1);         // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹1ã‚’å‰Šé™¤ â†’ [1, 2, 3]

    v.extend([4, 5, 6]); // è¤‡æ•°è¿½åŠ  â†’ [1, 2, 3, 4, 5, 6]
    v.clear();           // å…¨å‰Šé™¤ â†’ []
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚ã‚Œã€`extend()`ã«æ¸¡ã—ã¦ã‚‹ã®ã£ã¦é…åˆ—ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã€‚`[4, 5, 6]`ã¯é…åˆ—ãƒªãƒ†ãƒ©ãƒ«ã­ã€‚`extend()`ã¯ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Œã‚‹ã‹ã‚‰ã€é…åˆ—ã§ã‚‚Vecã§ã‚‚æ¸¡ã›ã‚‹ã®ã‚ˆã€‚

---

### è¦ç´ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ â€” panic vs Option

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: è¦ç´ ã‚’å–ã‚Šå‡ºã™ã®ã¯`v[0]`ã¿ãŸã„ã«æ›¸ã‘ã°ã„ã„ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: æ›¸ã‘ã‚‹ã‘ã©ã€æ³¨æ„ãŒå¿…è¦ã‚ˆã€‚ç¯„å›²å¤–ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨panicã™ã‚‹ã‹ã‚‰ã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];

    let third = v[2];    // 3ï¼ˆå•é¡Œãªã—ï¼‰
    // let tenth = v[10];   // panic!ï¼ˆå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ï¼‰
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã†ã‚ã€æ€–ã„â€¦â€¦ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã ã‹ã‚‰ã€å®‰å…¨ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„ã¨ãã¯`get()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã®ã‚ˆã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];

    let third = v.get(2);   // Some(&3)
    let tenth = v.get(10);  // Noneï¼ˆpanicã—ãªã„ï¼‰

    match v.get(2) {
        Some(value) => println!("Got: {}", value),
        None => println!("Index out of bounds"),
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `get()`ã®è¿”ã‚Šå€¤ãŒ`Some(&3)`ã«ãªã£ã¦ã‚‹ã€‚ãªã‚“ã§`&`ãŒã¤ã„ã¦ã‚‹ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã„ã„è¦–ç‚¹ã­ã€‚`get()`ã¯è¦ç´ ã®**å‚ç…§**ã‚’è¿”ã™ã®ã€‚æ‰€æœ‰æ¨©ã‚’ãƒ ãƒ¼ãƒ–ã—ãŸã‚‰å…ƒã®VecãŒå£Šã‚Œã¡ã‚ƒã†ã§ã—ã‚‡ï¼Ÿã ã‹ã‚‰å€Ÿç”¨ã§è¿”ã™ã®ã‚ˆã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãªã‚‹ã»ã©â€¦â€¦ã€‚ã§ã€å®Ÿéš›ã©ã£ã¡ã‚’ä½¿ãˆã°ã„ã„ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã“ã†è€ƒãˆã‚‹ã¨ã„ã„ã‚ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  v[i] vs v.get(i) ã®ä½¿ã„åˆ†ã‘                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  v[i] ã‚’ä½¿ã†:                                                    â”‚
â”‚  âœ“ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒç¢ºå®Ÿã«ç¯„å›²å†…ã¨ã‚ã‹ã£ã¦ã„ã‚‹                        â”‚
â”‚  âœ“ ç¯„å›²å¤–ã‚¢ã‚¯ã‚»ã‚¹ã¯ã€Œãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒã‚°ã€ã¨ã—ã¦æ‰±ã„ãŸã„              â”‚
â”‚                                                                 â”‚
â”‚  v.get(i) ã‚’ä½¿ã†:                                                â”‚
â”‚  âœ“ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒç¯„å›²å†…ã‹ã©ã†ã‹ä¸æ˜                               â”‚
â”‚  âœ“ ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ãªã©å¤–éƒ¨ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†                          â”‚
â”‚  âœ“ Noneã®å ´åˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä½¿ã„ãŸã„                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚ã‹ã£ãŸï¼ç¢ºä¿¡ãŒãªã„ã¨ãã¯`get()`ã‚’ä½¿ãˆã°ã„ã„ã‚“ã ã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã„ã†ã“ã¨ã€‚`unwrap_or()`ã¨ã‹çµ„ã¿åˆã‚ã›ã‚‹ã¨ä¾¿åˆ©ã‚ˆã€‚

```rust
fn main() {
    let v = vec![1, 2, 3];

    let value = v.get(10).copied().unwrap_or(0);  // ç¯„å›²å¤–ãªã‚‰0
    println!("{}", value);  // 0
}
```

---

### ã‚¹ãƒ©ã‚¤ã‚¹ â€” ãƒ™ã‚¯ã‚¿ãƒ¼ã®ä¸€éƒ¨ã‚’å‚ç…§

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: Pythonã¿ãŸã„ã«`v[1:4]`ã§éƒ¨åˆ†çš„ã«å–ã‚Šå‡ºã›ã‚‹ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã§ãã‚‹ã‚ã€‚ãŸã ã—ã€Rustã§ã¯`&v[1..4]`ã¨ã„ã†æ›¸ãæ–¹ã«ãªã‚‹ã®ã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];

    let slice = &v[1..4];  // [2, 3, 4]ï¼ˆ1ä»¥ä¸Š4æœªæº€ï¼‰
    let all = &v[..];      // [1, 2, 3, 4, 5]ï¼ˆå…¨ä½“ï¼‰
    let from_2 = &v[2..];  // [3, 4, 5]ï¼ˆ2ã‹ã‚‰æœ€å¾Œã¾ã§ï¼‰
    let to_3 = &v[..3];    // [1, 2, 3]ï¼ˆæœ€åˆã‹ã‚‰3æœªæº€ï¼‰

    println!("{:?}", slice);
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `&`ã‚’ã¤ã‘ã¦ã‚‹ã®ã¯ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: Pythonã®ã‚¹ãƒ©ã‚¤ã‚¹ã¯**ã‚³ãƒ”ãƒ¼**ã‚’ä½œã‚‹ã‘ã©ã€Rustã®ã‚¹ãƒ©ã‚¤ã‚¹ã¯**å‚ç…§**ãªã®ã€‚ã ã‹ã‚‰`&`ãŒå¿…è¦ãªã®ã‚ˆã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚ã‚ã€æ‰€æœ‰æ¨©ã®è©±ã ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã€‚ã‚¹ãƒ©ã‚¤ã‚¹ã¯`&[T]`ã¨ã„ã†å‹ã§ã€ã€Œã©ã“ã‹ã®ãƒ¡ãƒ¢ãƒªé ˜åŸŸã¸ã®å‚ç…§ã€ã‚’è¡¨ã—ã¦ã‚‹ã®ã€‚ã‚³ãƒ”ãƒ¼ã‚’ä½œã‚‰ãªã„ã‹ã‚‰é«˜é€Ÿã ã—ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã‚‚è‰¯ã„ã‚ã€‚

```rust
fn print_slice(slice: &[i32]) {
    for item in slice {
        println!("{}", item);
    }
}

fn main() {
    let v = vec![1, 2, 3, 4, 5];

    print_slice(&v);        // Vecå…¨ä½“ã‚’ã‚¹ãƒ©ã‚¤ã‚¹ã¨ã—ã¦æ¸¡ã™
    print_slice(&v[1..4]);  // ä¸€éƒ¨ã‚’æ¸¡ã™
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã¸ãƒ¼ã€é–¢æ•°ã«éƒ¨åˆ†çš„ãªãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™ã®ã«ä¾¿åˆ©ãªã‚“ã ã­ã€‚

---

## HashMap<K, V> â€” ã‚­ãƒ¼ãƒãƒªãƒ¥ãƒ¼ã®ãƒãƒƒãƒ—

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: æ¬¡ã¯HashMapã­ã€‚ã“ã‚Œã£ã¦Pythonã®dictã¿ãŸã„ãªã‚‚ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã®é€šã‚Šã€‚ã‚­ãƒ¼ã¨å€¤ã®ãƒšã‚¢ã‚’ç®¡ç†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚ˆã€‚ãŸã ã—ã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å«ã¾ã‚Œã¦ã‚‹ã‹ã‚‰`use`ã§èª­ã¿è¾¼ã‚€å¿…è¦ãŒã‚ã‚‹ã®ã€‚

```rust
use std::collections::HashMap;

fn main() {
    let mut scores = HashMap::new();

    scores.insert(String::from("Blue"), 10);
    scores.insert(String::from("Yellow"), 50);

    println!("{:?}", scores);
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `String::from("Blue")`ã£ã¦æ›¸ãã®é¢å€’ã ã­â€¦â€¦ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã­ã€‚å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã§ã¯`.to_string()`ã‹ã€æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ãã®ã¾ã¾ä½¿ã†ã“ã¨ãŒå¤šã„ã‚ã€‚ãŸã ã€`&str`ã¨`String`ã®é•ã„ã¯æ„è­˜ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã®ã€‚

```rust
use std::collections::HashMap;

fn main() {
    // Stringã‚’ã‚­ãƒ¼ã«ã™ã‚‹
    let mut scores: HashMap<String, i32> = HashMap::new();
    scores.insert("Blue".to_string(), 10);

    // &strã‚’ã‚­ãƒ¼ã«ã™ã‚‹ï¼ˆãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã«æ³¨æ„ï¼‰
    let mut scores: HashMap<&str, i32> = HashMap::new();
    scores.insert("Blue", 10);  // ã‚·ãƒ³ãƒ—ãƒ«ï¼
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: å€¤ã‚’å–ã‚Šå‡ºã™ã®ã¯ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `get()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã‚ã€‚Vecã¨åŒã˜ã§`Option`ã‚’è¿”ã™ã®ã‚ˆã€‚

```rust
use std::collections::HashMap;

fn main() {
    let mut scores = HashMap::new();
    scores.insert("Blue", 10);
    scores.insert("Yellow", 50);

    let blue_score = scores.get("Blue");   // Some(&10)
    let red_score = scores.get("Red");     // None

    match blue_score {
        Some(score) => println!("Blue: {}", score),
        None => println!("No score"),
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚„ã£ã±ã‚Š`&`ãŒã¤ã„ã¦ã‚‹ã‚“ã ã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã€‚HashMapã‚‚å€¤ã®æ‰€æœ‰æ¨©ã¯ä¿æŒã—ãŸã¾ã¾ã€å‚ç…§ã‚’è¿”ã™ã®ã‚ˆã€‚

---

### Entry API â€” HashMapã®çœŸé«„

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: HashMapã§ä¸€ç•ªã‚ˆãä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã£ã¦ä½•ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚­ãƒ¼ãŒã‚ã‚Œã°å€¤ã‚’æ›´æ–°ã€ãªã‘ã‚Œã°æŒ¿å…¥ã€ã¨ã„ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã­ã€‚ã“ã‚Œã‚’ç°¡æ½”ã«æ›¸ã‘ã‚‹ã®ãŒ**Entry API**ã‚ˆã€‚

```rust
use std::collections::HashMap;

fn main() {
    let mut scores = HashMap::new();

    // ã‚­ãƒ¼ãŒãªã‘ã‚Œã°50ã‚’æŒ¿å…¥
    scores.entry("Blue").or_insert(50);

    // æ—¢ã«ã‚ã‚‹ã®ã§ä½•ã‚‚ã—ãªã„
    scores.entry("Blue").or_insert(100);

    println!("{:?}", scores);  // {"Blue": 50}
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `entry()`ã£ã¦ä½•ã‚’è¿”ã—ã¦ã‚‹ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `Entry`ã¨ã„ã†å‹ã‚’è¿”ã—ã¦ã‚‹ã®ã€‚ã“ã‚ŒãŒã‚­ãƒ¼ã®ã€Œã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã€ãªã®ã‚ˆã€‚

```rust
scores.entry("Blue")      // Entryå‹ã‚’å–å¾—
      .or_insert(50);     // ãªã‘ã‚Œã°50ã‚’æŒ¿å…¥ã€å€¤ã¸ã®&mutã‚’è¿”ã™
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `or_insert()`ã®è¿”ã‚Šå€¤ã¯ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `&mut V`ã€ã¤ã¾ã‚Šå€¤ã¸ã®**å¯å¤‰å‚ç…§**ã‚’è¿”ã™ã®ã€‚ã“ã‚Œã‚’ä½¿ã£ã¦å€¤ã‚’æ›´æ–°ã§ãã‚‹ã®ã‚ˆã€‚

```rust
use std::collections::HashMap;

fn main() {
    let mut scores = HashMap::new();

    let score = scores.entry("Blue").or_insert(0);
    *score += 10;  // å‚ç…§ã‚’é€šã˜ã¦å€¤ã‚’æ›´æ–°

    println!("{:?}", scores);  // {"Blue": 10}
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `*score`ã®`*`ã£ã¦ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãƒ‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹æ¼”ç®—å­ã­ã€‚å‚ç…§ã‹ã‚‰å®Ÿéš›ã®å€¤ã‚’å–ã‚Šå‡ºã™ã®ã€‚`score`ã¯`&mut i32`ã ã‹ã‚‰ã€`*score`ã§`i32`ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ã€‚

---

### å®Ÿè·µ: ãƒ¯ãƒ¼ãƒ‰ã‚«ã‚¦ãƒ³ãƒˆ

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã˜ã‚ƒã‚å®Ÿéš›ã«ä½¿ã£ã¦ã¿ãŸã„ãªã€‚æ–‡å­—åˆ—ã®ä¸­ã®å˜èªã‚’æ•°ãˆã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã‹ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã„ã„ã‚ã­ã€‚Entry APIãŒæ´»èºã™ã‚‹å…¸å‹çš„ãªä¾‹ã‚ˆã€‚

```rust
use std::collections::HashMap;

fn main() {
    let text = "hello world wonderful world";
    let mut word_count = HashMap::new();

    for word in text.split_whitespace() {
        let count = word_count.entry(word).or_insert(0);
        *count += 1;
    }

    println!("{:?}", word_count);
    // {"hello": 1, "world": 2, "wonderful": 1}
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãŠãŠã€å‹•ã„ãŸï¼ã“ã‚ŒPythonã§æ›¸ãã¨ã©ã†ãªã‚‹ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: Pythonãªã‚‰ã“ã‚“ãªæ„Ÿã˜ã­ã€‚

```python
from collections import Counter

text = "hello world wonderful world"
word_count = Counter(text.split())
print(word_count)  # Counter({'world': 2, 'hello': 1, 'wonderful': 1})

# ã¾ãŸã¯
word_count = {}
for word in text.split():
    word_count[word] = word_count.get(word, 0) + 1
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: Rustã®æ–¹ãŒå°‘ã—é•·ã„ã‘ã©ã€Entry APIã®ãŠã‹ã’ã§èª­ã¿ã‚„ã™ã„ã‹ã‚‚ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã­ã€‚ãã‚Œã«å‹å®‰å…¨ã ã‹ã‚‰ã€é–“é•ã„ã«æ°—ã¥ãã‚„ã™ã„ã®ã€‚

---

### HashMapã¨æ‰€æœ‰æ¨©

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã¨ã“ã‚ã§ã€HashMapã«å€¤ã‚’å…¥ã‚Œã‚‹ã¨æ‰€æœ‰æ¨©ã¯ã©ã†ãªã‚‹ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã„ã„è³ªå•ã­ã€‚Copyå‹ä»¥å¤–ã¯ãƒ ãƒ¼ãƒ–ã•ã‚Œã‚‹ã‚ã€‚

```rust
use std::collections::HashMap;

fn main() {
    let field_name = String::from("Favorite color");
    let field_value = String::from("Blue");

    let mut map = HashMap::new();
    map.insert(field_name, field_value);

    // println!("{}", field_name);  // âŒ ãƒ ãƒ¼ãƒ–ã•ã‚Œã¦ã‚‹
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã˜ã‚ƒã‚å…ƒã®å€¤ã‚’æ®‹ã—ãŸã„ã¨ãã¯ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: å‚ç…§ã‚’ä½¿ã†ã‹ã€`clone()`ã™ã‚‹ã‹ã­ã€‚

```rust
use std::collections::HashMap;

fn main() {
    let field_name = String::from("Favorite color");
    let field_value = String::from("Blue");

    let mut map = HashMap::new();

    // æ–¹æ³•1: å‚ç…§ã‚’ä½¿ã†ï¼ˆãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã«æ³¨æ„ï¼‰
    map.insert(&field_name, &field_value);
    println!("{}", field_name);  // âœ… ã¾ã ä½¿ãˆã‚‹

    // æ–¹æ³•2: ã‚¯ãƒ­ãƒ¼ãƒ³ã™ã‚‹
    let mut map2 = HashMap::new();
    map2.insert(field_name.clone(), field_value.clone());
    println!("{}", field_name);  // âœ… ã¾ã ä½¿ãˆã‚‹
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãªã‚‹ã»ã©ã€‚ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ãŒã‚ã‚‹ã‚“ã ã­ã€‚

---

## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ â€” Rustã®é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã­ãˆãƒ¬ã‚¤ã€JavaScriptã®`map()`ã¨ã‹`filter()`ã¿ãŸã„ãªã®ã£ã¦Rustã«ã‚‚ã‚ã‚‹ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚‚ã¡ã‚ã‚“ã‚ã‚‹ã‚ã€‚ãã‚ŒãŒã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚ˆã€‚ã—ã‹ã‚‚ã€Rustã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯**é…å»¶è©•ä¾¡**ã ã‹ã‚‰ã€ã¨ã¦ã‚‚åŠ¹ç‡çš„ãªã®ã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: é…å»¶è©•ä¾¡ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `.map()`ã‚„`.filter()`ã‚’å‘¼ã‚“ã æ™‚ç‚¹ã§ã¯ä½•ã‚‚å®Ÿè¡Œã•ã‚Œãªã„ã®ã€‚æœ€å¾Œã«`.collect()`ã¨ã‹ã§ã€Œæ¶ˆè²»ã€ã—ã¦åˆã‚ã¦å‡¦ç†ãŒèµ°ã‚‹ã®ã‚ˆã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];

    // ã“ã“ã¾ã§ã¯ä½•ã‚‚å®Ÿè¡Œã•ã‚Œãªã„
    let iter = v.iter().map(|x| {
        println!("Processing {}", x);
        x * 2
    });

    // collect()ã§åˆã‚ã¦å®Ÿè¡Œã•ã‚Œã‚‹
    let doubled: Vec<i32> = iter.collect();
    // "Processing 1"
    // "Processing 2"
    // ... ã¨é †ç•ªã«å‡ºåŠ›ã•ã‚Œã‚‹
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã¸ãƒ¼ã€é¢ç™½ã„ï¼JavaScriptã ã¨å³åº§ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã€‚Rustã®é…å»¶è©•ä¾¡ã¯ã€ä¸­é–“ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‰ãªã„ã‹ã‚‰ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒè‰¯ã„ã—ã€é€”ä¸­ã§ã‚·ãƒ§ãƒ¼ãƒˆã‚µãƒ¼ã‚­ãƒƒãƒˆã‚‚ã§ãã‚‹ã®ã€‚

---

### ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®åŸºæœ¬ â€” 3ç¨®é¡ã®å–å¾—æ–¹æ³•

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã£ã¦ã©ã†ã‚„ã£ã¦ä½œã‚‹ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: 3ç¨®é¡ã®æ–¹æ³•ãŒã‚ã‚‹ã‚ã€‚æ‰€æœ‰æ¨©ã®æ‰±ã„æ–¹ãŒé•ã†ã®ã€‚

```rust
fn main() {
    let v = vec![String::from("a"), String::from("b"), String::from("c")];

    // 1. iter() â€” ä¸å¤‰å‚ç…§ï¼ˆ&Tï¼‰
    for s in v.iter() {
        println!("{}", s);  // sã¯&String
    }
    println!("{:?}", v);  // âœ… vã¯ã¾ã ä½¿ãˆã‚‹

    // 2. iter_mut() â€” å¯å¤‰å‚ç…§ï¼ˆ&mut Tï¼‰
    let mut v = vec![1, 2, 3];
    for x in v.iter_mut() {
        *x *= 2;  // å„è¦ç´ ã‚’2å€ã«
    }
    println!("{:?}", v);  // [2, 4, 6]

    // 3. into_iter() â€” æ‰€æœ‰æ¨©ï¼ˆTï¼‰
    let v = vec![String::from("a"), String::from("b")];
    for s in v.into_iter() {
        println!("{}", s);  // sã¯Stringï¼ˆæ‰€æœ‰æ¨©ã‚’æŒã¤ï¼‰
    }
    // println!("{:?}", v);  // âŒ vã¯ãƒ ãƒ¼ãƒ–ã•ã‚ŒãŸ
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãˆãƒ¼ã£ã¨ã€æ•´ç†ã•ã›ã¦â€¦â€¦ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã“ã†è¦šãˆã‚‹ã¨ã„ã„ã‚ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3ç¨®é¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  .iter()      â†’ &T                                              â”‚
â”‚    èª­ã¿å–ã‚Šå°‚ç”¨ã€å…ƒã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯ä¿æŒã•ã‚Œã‚‹                      â”‚
â”‚                                                                 â”‚
â”‚  .iter_mut()  â†’ &mut T                                          â”‚
â”‚    è¦ç´ ã‚’å¤‰æ›´å¯èƒ½ã€å…ƒã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯ä¿æŒã•ã‚Œã‚‹                    â”‚
â”‚                                                                 â”‚
â”‚  .into_iter() â†’ T                                               â”‚
â”‚    æ‰€æœ‰æ¨©ã‚’å–å¾—ã€å…ƒã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯æ¶ˆè²»ã•ã‚Œã‚‹                      â”‚
â”‚                                                                 â”‚
â”‚  çœç•¥å½¢:                                                         â”‚
â”‚  for x in &v     â‰¡ for x in v.iter()                            â”‚
â”‚  for x in &mut v â‰¡ for x in v.iter_mut()                        â”‚
â”‚  for x in v      â‰¡ for x in v.into_iter()                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãªã‚‹ã»ã©ï¼æ™®é€šã¯`.iter()`ã‚’ä½¿ãˆã°ã„ã„ã‚“ã ã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã„ã†ã“ã¨ã€‚å€¤ã‚’å¤‰æ›´ã—ãŸã„ã¨ãã¯`.iter_mut()`ã€æ‰€æœ‰æ¨©ã‚’å–ã‚ŠãŸã„ã¨ãã¯`.into_iter()`ã­ã€‚

---

### map â€” è¦ç´ ã‚’å¤‰æ›ã™ã‚‹

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã˜ã‚ƒã‚å®Ÿéš›ã«`map()`ã‚’ä½¿ã£ã¦ã¿ãŸã„ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: OKã€‚åŸºæœ¬çš„ãªå¤‰æ›ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];

    let doubled: Vec<i32> = v.iter()
        .map(|x| x * 2)
        .collect();

    println!("{:?}", doubled);  // [2, 4, 6, 8, 10]
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `|x| x * 2`ã£ã¦ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã€‚`|å¼•æ•°| å¼`ã¨ã„ã†å½¢ã®ç„¡åé–¢æ•°ã­ã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: JavaScriptã®ã‚¢ãƒ­ãƒ¼é–¢æ•°ã¿ãŸã„ãªã‚‚ã®ã‹ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã­ã€‚ã“ã‚“ãªæ„Ÿã˜ã§å¯¾å¿œã—ã¦ã‚‹ã‚ã€‚

```javascript
// JavaScript
const doubled = v.map(x => x * 2);
```

```python
# Python
doubled = [x * 2 for x in v]
doubled = list(map(lambda x: x * 2, v))
```

```rust
// Rust
let doubled: Vec<i32> = v.iter()
    .map(|x| x * 2)
    .collect();
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `.collect()`ã£ã¦ä½•ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’**æ¶ˆè²»**ã—ã¦ã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«å¤‰æ›ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚ˆã€‚ã“ã‚Œã‚’å‘¼ã°ãªã„ã¨ã€å®Ÿéš›ã®è¨ˆç®—ã¯è¡Œã‚ã‚Œãªã„ã®ã€‚

```rust
fn main() {
    let v = vec![1, 2, 3];

    // ã“ã‚Œã¯ä½•ã‚‚å®Ÿè¡Œã•ã‚Œãªã„ï¼ˆã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’è¿”ã™ã ã‘ï¼‰
    let iter = v.iter().map(|x| x * 2);

    // collect()ã§åˆã‚ã¦å®Ÿè¡Œã•ã‚Œã‚‹
    let doubled: Vec<i32> = iter.collect();
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `.collect()`ã®å‹æ³¨é‡ˆãŒå¿…è¦ãªã®ã¯ãªã‚“ã§ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `collect()`ã¯ã„ã‚ã‚“ãªå‹ã«å¤‰æ›ã§ãã‚‹ã‹ã‚‰ã€ã©ã®å‹ã«ã™ã‚‹ã‹æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã€‚

```rust
fn main() {
    let v = vec![1, 2, 3];

    // æ–¹æ³•1: å¤‰æ•°ã«å‹æ³¨é‡ˆ
    let doubled: Vec<i32> = v.iter().map(|x| x * 2).collect();

    // æ–¹æ³•2: ã‚¿ãƒ¼ãƒœãƒ•ã‚£ãƒƒã‚·ãƒ¥è¨˜æ³•ï¼ˆ::<>ï¼‰
    let doubled = v.iter().map(|x| x * 2).collect::<Vec<i32>>();

    // æ–¹æ³•3: éƒ¨åˆ†çš„ãªå‹ãƒ’ãƒ³ãƒˆï¼ˆè¦ç´ å‹ã¯æ¨è«–ã—ã¦ã‚‚ã‚‰ã†ï¼‰
    let doubled: Vec<_> = v.iter().map(|x| x * 2).collect();
}
```

---

### filter â€” æ¡ä»¶ã§çµã‚Šè¾¼ã‚€

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã˜ã‚ƒã‚`filter()`ã‚‚ä½¿ã£ã¦ã¿ãŸã„ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã„ã„ã‚ã‚ˆã€‚å¶æ•°ã ã‘å–ã‚Šå‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5, 6];

    let evens: Vec<i32> = v.iter()
        .filter(|x| *x % 2 == 0)
        .copied()
        .collect();

    println!("{:?}", evens);  // [2, 4, 6]
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚ã‚Œã€`*x`ã«ãªã£ã¦ã‚‹ã€‚ãªã‚“ã§ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã„ã„è¦–ç‚¹ã­ã€‚`v.iter()`ã¯`&i32`ã‚’è¿”ã™ã§ã—ã‚‡ï¼Ÿã§ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®å¼•æ•°`x`ã¯ã€ãã®`&i32`ã¸ã®**ã•ã‚‰ã«å‚ç…§**ãªã®ã€‚ã¤ã¾ã‚Š`x`ã¯`&&i32`å‹ãªã®ã‚ˆã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãˆãˆã£ã€äºŒé‡å‚ç…§ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã€‚ã ã‹ã‚‰`*x`ã§ãƒ‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã—ã¦`&i32`ã«ã—ã¦ã‹ã‚‰ã€`% 2`ã§æ¼”ç®—ã™ã‚‹ã®ã€‚

```rust
// xã®å‹ã‚’æ˜ç¤ºã™ã‚‹ã¨ã“ã†ãªã‚‹
.filter(|x: &&i32| *x % 2 == 0)
       //  ^^^^    ^^
       //  äºŒé‡å‚ç…§  ãƒ‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚„ã‚„ã“ã—ã„â€¦â€¦ã€‚ã§ã€`.copied()`ã¯ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã“ã‚ŒãŒãªã„ã¨`Vec<&i32>`ã«ãªã£ã¡ã‚ƒã†ã®ã€‚`.copied()`ã§`&i32`ã‚’`i32`ã«ã‚³ãƒ”ãƒ¼ã—ã¦ã€`Vec<i32>`ã«ã—ã¦ã‚‹ã®ã‚ˆã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5, 6];

    // copied()ãªã— â†’ Vec<&i32>
    let evens: Vec<&i32> = v.iter()
        .filter(|x| *x % 2 == 0)
        .collect();

    // copied()ã‚ã‚Š â†’ Vec<i32>
    let evens: Vec<i32> = v.iter()
        .filter(|x| *x % 2 == 0)
        .copied()
        .collect();
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãªã‚‹ã»ã©ã€‚Copyå‹ã ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã§ãã‚‹ã‚“ã ã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã„ã†ã“ã¨ã€‚Copyå‹ã˜ã‚ƒãªã„å ´åˆã¯`.cloned()`ã‚’ä½¿ã†ã‚ã€‚

---

### ãƒã‚§ãƒ¼ãƒ³ã§çµ„ã¿åˆã‚ã›ã‚‹

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `map()`ã¨`filter()`ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚‚ã¡ã‚ã‚“ã€‚ãã‚ŒãŒã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®çœŸéª¨é ‚ã‚ˆã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5, 6];

    let result: Vec<i32> = v.iter()
        .filter(|x| *x % 2 == 0)  // å¶æ•°ã ã‘
        .map(|x| x * 2)            // 2å€ã«ã™ã‚‹
        .collect();

    println!("{:?}", result);  // [4, 8, 12]
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãŠãŠã€èª­ã¿ã‚„ã™ã„ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: Pythonã®ãƒªã‚¹ãƒˆå†…åŒ…è¡¨è¨˜ã¨æ¯”ã¹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```python
# Python
result = [x * 2 for x in v if x % 2 == 0]
```

```rust
// Rust
let result: Vec<i32> = v.iter()
    .filter(|x| *x % 2 == 0)
    .map(|x| x * 2)
    .collect();
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: Pythonã®æ–¹ãŒçŸ­ã„ã‘ã©ã€Rustã®æ–¹ãŒå‡¦ç†ã®æµã‚ŒãŒæ˜ç¢ºã‹ã‚‚ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã­ã€‚ç‰¹ã«è¤‡é›‘ãªå‡¦ç†ã«ãªã‚‹ã¨ã€ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã®æ–¹ãŒèª­ã¿ã‚„ã™ã„ã‚ã€‚ãã‚Œã«ã€Rustã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯ä¸­é–“ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‰ãªã„ã‹ã‚‰ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã‚‚è‰¯ã„ã®ã€‚

---

### ä»–ã®ä¾¿åˆ©ãªãƒ¡ã‚½ãƒƒãƒ‰

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã«ã¯ä»–ã«ã‚‚ä¾¿åˆ©ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãŸãã•ã‚“ã‚ã‚‹ã‚ã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];

    // take â€” æœ€åˆã®nå€‹
    let first_three: Vec<_> = v.iter().take(3).collect();  // [1, 2, 3]

    // skip â€” æœ€åˆã®nå€‹ã‚’ã‚¹ã‚­ãƒƒãƒ—
    let after_two: Vec<_> = v.iter().skip(2).collect();  // [3, 4, 5]

    // enumerate â€” ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ã
    for (i, x) in v.iter().enumerate() {
        println!("{}: {}", i, x);
    }

    // find â€” æ¡ä»¶ã«åˆã†æœ€åˆã®è¦ç´ 
    let first_even = v.iter().find(|x| *x % 2 == 0);  // Some(&2)

    // any / all â€” æ¡ä»¶åˆ¤å®š
    let has_even = v.iter().any(|x| x % 2 == 0);   // true
    let all_positive = v.iter().all(|x| *x > 0);   // true
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `enumerate()`ä¾¿åˆ©ãã†ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: Pythonã®`enumerate()`ã¨åŒã˜ã­ã€‚ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå¿…è¦ãªã¨ãã«ä½¿ã†ã‚ã€‚

---

### fold â€” ç•³ã¿è¾¼ã¿

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `reduce()`ã¿ãŸã„ãªã®ã‚‚ã‚ã‚‹ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: Rustã§ã¯`fold()`ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚‹ã‚ã€‚JavaScriptã®`reduce()`ã¨åŒã˜ã‚ˆã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];

    // fold: åˆæœŸå€¤ã‚’æŒ‡å®šã—ã¦ç•³ã¿è¾¼ã¿
    let sum = v.iter().fold(0, |acc, x| acc + x);
    println!("Sum: {}", sum);  // 15

    // æ–‡å­—åˆ—ã®é€£çµ
    let words = vec!["Hello", " ", "world", "!"];
    let sentence = words.iter().fold(String::new(), |acc, word| acc + word);
    println!("{}", sentence);  // "Hello world!"
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `fold(0, |acc, x| acc + x)`ã®å‹•ããŒã‚¤ãƒ¡ãƒ¼ã‚¸ã§ããªã„â€¦â€¦ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ä¸€ã¤ãšã¤è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

```
fold(0, |acc, x| acc + x)

ã‚¹ãƒ†ãƒƒãƒ—1: acc = 0, x = &1  â†’ 0 + 1 = 1
ã‚¹ãƒ†ãƒƒãƒ—2: acc = 1, x = &2  â†’ 1 + 2 = 3
ã‚¹ãƒ†ãƒƒãƒ—3: acc = 3, x = &3  â†’ 3 + 3 = 6
ã‚¹ãƒ†ãƒƒãƒ—4: acc = 6, x = &4  â†’ 6 + 4 = 10
ã‚¹ãƒ†ãƒƒãƒ—5: acc = 10, x = &5 â†’ 10 + 5 = 15

çµæœ: 15
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚ã‚ã€`acc`ãŒã€Œã‚¢ã‚­ãƒ¥ãƒ ãƒ¬ãƒ¼ã‚¿ï¼ˆç´¯ç©å€¤ï¼‰ã€ãªã‚“ã ã­ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã®é€šã‚Šã€‚ã¡ãªã¿ã«ã€åˆè¨ˆã‚„ç©ã¯å°‚ç”¨ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ã‚ã‚‹ã‚ã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];

    let sum: i32 = v.iter().sum();      // 15
    let product: i32 = v.iter().product();  // 120
}
```

---

## ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ â€” ç’°å¢ƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹é–¢æ•°

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã•ã£ãã‹ã‚‰`|x| x * 2`ã¿ãŸã„ãªã®ã‚’ä½¿ã£ã¦ã‚‹ã‘ã©ã€ã“ã‚Œã£ã¦ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã ã‚ˆã­ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã€‚ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¯ã€Œç’°å¢ƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã§ãã‚‹ç„¡åé–¢æ•°ã€ã‚ˆã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ç’°å¢ƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: å¤–å´ã®ã‚¹ã‚³ãƒ¼ãƒ—ã®å¤‰æ•°ã‚’ä½¿ãˆã‚‹ã£ã¦ã“ã¨ã­ã€‚

```rust
fn main() {
    let factor = 2;

    let multiply = |x| x * factor;  // factorã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£

    println!("{}", multiply(5));  // 10
    println!("{}", multiply(3));  // 6
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã¸ãƒ¼ã€ä¾¿åˆ©ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: JavaScriptã‚„Pythonã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¨åŒã˜ã­ã€‚

```javascript
// JavaScript
const factor = 2;
const multiply = x => x * factor;
console.log(multiply(5));  // 10
```

```python
# Python
factor = 2
multiply = lambda x: x * factor
print(multiply(5))  # 10
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: è¤‡æ•°è¡Œã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚‚æ›¸ã‘ã‚‹ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚‚ã¡ã‚ã‚“ã€‚`{}`ã§å›²ã‚ã°ã„ã„ã‚ã€‚

```rust
fn main() {
    let complex = |x: i32| {
        let y = x * 2;
        let z = y + 1;
        z  // æœ€å¾Œã®å¼ãŒæˆ»ã‚Šå€¤
    };

    println!("{}", complex(5));  // 11
}
```

---

### ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®å‹æ¨è«–

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã£ã¦å‹æ³¨é‡ˆãŒè¦ã‚‰ãªã„ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: åŸºæœ¬çš„ã«ã¯æ¨è«–ã•ã‚Œã‚‹ã‚ã€‚ã§ã‚‚ã€æ˜ç¤ºçš„ã«æ›¸ãã“ã¨ã‚‚ã§ãã‚‹ã®ã€‚

```rust
fn main() {
    // å‹æ¨è«–
    let add = |x, y| x + y;

    // å‹ã‚’æ˜ç¤º
    let add = |x: i32, y: i32| -> i32 { x + y };

    // ä¸€éƒ¨ã ã‘æ˜ç¤º
    let add = |x: i32, y| x + y;
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: æ™®é€šã¯æ¨è«–ã«ä»»ã›ã‚Œã°ã„ã„ã‚“ã ã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã­ã€‚ãŸã ã—ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®å‹ã¯**æœ€åˆã®ä½¿ç”¨æ™‚ã«ç¢ºå®šã™ã‚‹**ã‹ã‚‰ã€å¾Œã‹ã‚‰é•ã†å‹ã§ä½¿ã†ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚ã€‚

```rust
fn main() {
    let add = |x, y| x + y;

    let result1 = add(1, 2);      // i32ã¨æ¨è«–ã•ã‚Œã‚‹
    // let result2 = add(1.0, 2.0);  // âŒ ã‚¨ãƒ©ãƒ¼ï¼æ—¢ã«i32ã¨ã—ã¦ç¢ºå®šã—ã¦ã‚‹
}
```

---

### ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ â€” 3ã¤ã®ãƒˆãƒ¬ã‚¤ãƒˆ

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒå¤‰æ•°ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹ã¨ãã€æ‰€æœ‰æ¨©ã¯ã©ã†ãªã‚‹ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã„ã„è³ªå•ã­ã€‚ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«ã¯3ç¨®é¡ã®ã‚­ãƒ£ãƒ—ãƒãƒ£æ–¹æ³•ãŒã‚ã‚‹ã®ã€‚

```rust
fn main() {
    // 1. ä¸å¤‰å€Ÿç”¨ï¼ˆFnï¼‰
    let s = String::from("hello");
    let print = || println!("{}", s);  // sã‚’ä¸å¤‰å€Ÿç”¨
    print();
    print();
    println!("{}", s);  // âœ… sã¯ã¾ã ä½¿ãˆã‚‹

    // 2. å¯å¤‰å€Ÿç”¨ï¼ˆFnMutï¼‰
    let mut s = String::from("hello");
    let mut append = || s.push_str(" world");
    append();
    println!("{}", s);  // "hello world"

    // 3. æ‰€æœ‰æ¨©ã®å–å¾—ï¼ˆFnOnceï¼‰
    let s = String::from("hello");
    let consume = move || {
        println!("{}", s);
        drop(s);  // sã‚’æ¶ˆè²»
    };
    consume();
    // consume();  // âŒ 2å›ã¯å‘¼ã¹ãªã„
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: 3ã¤ã®ãƒˆãƒ¬ã‚¤ãƒˆã£ã¦ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `Fn`ã€`FnMut`ã€`FnOnce`ã­ã€‚ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒç’°å¢ƒã‚’ã©ã†æ‰±ã†ã‹ã‚’è¡¨ã—ã¦ã‚‹ã®ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®3ã¤ã®ãƒˆãƒ¬ã‚¤ãƒˆ                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Fn        ä¸å¤‰å€Ÿç”¨ã§ç’°å¢ƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£                             â”‚
â”‚            ä½•åº¦ã§ã‚‚å‘¼ã³å‡ºã›ã‚‹                                     â”‚
â”‚            ç’°å¢ƒã‚’å¤‰æ›´ã—ãªã„                                       â”‚
â”‚                                                                 â”‚
â”‚  FnMut     å¯å¤‰å€Ÿç”¨ã§ç’°å¢ƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£                             â”‚
â”‚            ä½•åº¦ã§ã‚‚å‘¼ã³å‡ºã›ã‚‹                                     â”‚
â”‚            ç’°å¢ƒã‚’å¤‰æ›´ã§ãã‚‹                                       â”‚
â”‚                                                                 â”‚
â”‚  FnOnce    æ‰€æœ‰æ¨©ã‚’å–å¾—ã—ã¦ç’°å¢ƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£                        â”‚
â”‚            1å›ã—ã‹å‘¼ã³å‡ºã›ãªã„                                    â”‚
â”‚            ç’°å¢ƒã‚’æ¶ˆè²»ã§ãã‚‹                                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãªã‚‹ã»ã©ã€‚æ™®é€šã¯`Fn`ã§ã€å¤‰æ›´ãŒå¿…è¦ãªã‚‰`FnMut`ãªã‚“ã ã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã„ã†ã“ã¨ã€‚`FnOnce`ã¯ãƒ‰ãƒ­ãƒƒãƒ—ãŒå¿…è¦ãªã¨ãã¨ã‹ã€ç‰¹æ®Šãªå ´åˆã«ä½¿ã†ã‚ã€‚

---

### moveã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã•ã£ã`move`ã£ã¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒå‡ºã¦ããŸã‘ã©ã€ã‚ã‚Œã£ã¦ä½•ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«æ‰€æœ‰æ¨©ã‚’å¼·åˆ¶çš„ã«æ¸¡ã™ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚ˆã€‚

```rust
fn main() {
    let s = String::from("hello");

    // moveãªã—: å‚ç…§ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£
    let print1 = || println!("{}", s);
    print1();
    println!("{}", s);  // âœ… ã¾ã ä½¿ãˆã‚‹

    // moveã‚ã‚Š: æ‰€æœ‰æ¨©ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£
    let print2 = move || println!("{}", s);
    // println!("{}", s);  // âŒ sã¯print2ã«ãƒ ãƒ¼ãƒ–ã•ã‚ŒãŸ
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã©ã‚“ãªã¨ãã«ä½¿ã†ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ä¸»ã«ã‚¹ãƒ¬ãƒƒãƒ‰ã«æ¸¡ã™ã¨ãã­ã€‚ã‚¹ãƒ¬ãƒƒãƒ‰ã¯åˆ¥ã®å®Ÿè¡Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§å‹•ãã‹ã‚‰ã€å‚ç…§ã ã¨ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®å•é¡ŒãŒèµ·ãã‚‹ã®ã€‚

```rust
use std::thread;

fn main() {
    let s = String::from("hello");

    // moveãŒå¿…è¦
    let handle = thread::spawn(move || {
        println!("{}", s);
    });

    handle.join().unwrap();
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚ã‚ã€ã‚¹ãƒ¬ãƒƒãƒ‰ãŒçµ‚ã‚ã‚‹å‰ã«å…ƒã®å¤‰æ•°ãŒæ¶ˆãˆã¡ã‚ƒã†ã‹ã‚‚ã—ã‚Œãªã„ã‹ã‚‰ã‹ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã®é€šã‚Šã€‚`move`ã§æ‰€æœ‰æ¨©ã‚’æ¸¡ã™ã“ã¨ã§ã€å®‰å…¨ã«ã‚¹ãƒ¬ãƒƒãƒ‰ã§ä½¿ãˆã‚‹ã®ã‚ˆã€‚

---

## å®Ÿè·µãƒ‘ã‚¿ãƒ¼ãƒ³

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã˜ã‚ƒã‚å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã§ã©ã†ä½¿ã†ã‹è¦‹ã›ã¦ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã„ã„ã‚ã‚ˆã€‚ã‚ˆãã‚ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã„ãã¤ã‹ç´¹ä»‹ã™ã‚‹ã‚ã­ã€‚

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ãƒ•ã‚£ãƒ«ã‚¿ + ãƒãƒƒãƒ—

```rust
#[derive(Debug)]
struct User {
    name: String,
    age: u32,
    active: bool,
}

fn get_active_adult_names(users: &[User]) -> Vec<String> {
    users.iter()
        .filter(|u| u.active && u.age >= 18)
        .map(|u| u.name.clone())
        .collect()
}

fn main() {
    let users = vec![
        User { name: "Alice".to_string(), age: 30, active: true },
        User { name: "Bob".to_string(), age: 15, active: true },
        User { name: "Charlie".to_string(), age: 25, active: false },
    ];

    let names = get_active_adult_names(&users);
    println!("{:?}", names);  // ["Alice"]
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã“ã‚ŒPythonã ã¨ã©ã†æ›¸ãã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãƒªã‚¹ãƒˆå†…åŒ…è¡¨è¨˜ã§æ›¸ã‘ã‚‹ã‚ã­ã€‚

```python
# Python
def get_active_adult_names(users):
    return [u.name for u in users if u.active and u.age >= 18]
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: Pythonã®æ–¹ãŒçŸ­ã„ã‘ã©ã€Rustã®æ–¹ãŒå‡¦ç†ã®æµã‚ŒãŒæ˜ç¢ºã ã­ã€‚

---

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: å¹´é½¢ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```rust
use std::collections::HashMap;

fn group_by_age(users: &[User]) -> HashMap<u32, Vec<&User>> {
    let mut groups: HashMap<u32, Vec<&User>> = HashMap::new();

    for user in users {
        groups.entry(user.age).or_default().push(user);
    }

    groups
}

fn main() {
    let users = vec![
        User { name: "Alice".to_string(), age: 30, active: true },
        User { name: "Bob".to_string(), age: 25, active: true },
        User { name: "Charlie".to_string(), age: 30, active: false },
    ];

    let groups = group_by_age(&users);

    for (age, users) in &groups {
        println!("Age {}: {:?}", age, users.iter().map(|u| &u.name).collect::<Vec<_>>());
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `or_default()`ã£ã¦ä½•ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `or_insert(Default::default())`ã®çœç•¥å½¢ã­ã€‚`Vec`ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯ç©ºã®Vecã ã‹ã‚‰ã€ã‚­ãƒ¼ãŒãªã‘ã‚Œã°ç©ºã®Vecã‚’æŒ¿å…¥ã—ã¦ãã‚Œã‚‹ã®ã€‚

---

### ãƒ‘ã‚¿ãƒ¼ãƒ³3: æœ€å¤§å€¤ãƒ»æœ€å°å€¤

```rust
fn main() {
    let numbers = vec![3, 1, 4, 1, 5, 9, 2, 6];

    let max = numbers.iter().max();  // Some(&9)
    let min = numbers.iter().min();  // Some(&1)

    // å¶æ•°ã®æœ€å¤§å€¤
    let max_even = numbers.iter()
        .filter(|x| *x % 2 == 0)
        .max();  // Some(&6)

    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¸­ã§æœ€å¹´é•·
    let users = vec![
        User { name: "Alice".to_string(), age: 30, active: true },
        User { name: "Bob".to_string(), age: 25, active: true },
    ];

    let oldest = users.iter().max_by_key(|u| u.age);
    println!("{:?}", oldest);
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `max_by_key()`ä¾¿åˆ©ï¼

---

### ãƒ‘ã‚¿ãƒ¼ãƒ³4: Result/Optionã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: æ–‡å­—åˆ—ã®é…åˆ—ã‚’æ•°å€¤ã«å¤‰æ›ã—ãŸã„ã‚“ã ã‘ã©ã€å¤±æ•—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‚ˆã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `collect()`ã¯è³¢ãã¦ã€`Result<Vec<T>, E>`ã«ã‚‚åé›†ã§ãã‚‹ã®ã‚ˆã€‚

```rust
fn parse_numbers(strings: Vec<&str>) -> Result<Vec<i32>, std::num::ParseIntError> {
    strings.iter()
        .map(|s| s.parse::<i32>())
        .collect()
}

fn main() {
    let ok = parse_numbers(vec!["1", "2", "3"]);
    println!("{:?}", ok);  // Ok([1, 2, 3])

    let err = parse_numbers(vec!["1", "two", "3"]);
    println!("{:?}", err);  // Err(ParseIntError { ... })
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãŠãŠã€1ã¤ã§ã‚‚å¤±æ•—ã—ãŸã‚‰å…¨ä½“ãŒErrã«ãªã‚‹ã‚“ã ã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã€‚å¤±æ•—ã—ãŸã‚‚ã®ã ã‘ã‚¹ã‚­ãƒƒãƒ—ã—ãŸã„å ´åˆã¯`filter_map()`ã‚’ä½¿ã†ã‚ã€‚

```rust
fn main() {
    let strings = vec!["1", "two", "3", "four", "5"];

    let numbers: Vec<i32> = strings.iter()
        .filter_map(|s| s.parse().ok())  // ãƒ‘ãƒ¼ã‚¹æˆåŠŸã—ãŸã‚‚ã®ã ã‘
        .collect();

    println!("{:?}", numbers);  // [1, 3, 5]
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `parse().ok()`ã£ã¦ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `parse()`ã¯`Result<i32, ParseIntError>`ã‚’è¿”ã™ã§ã—ã‚‡ï¼Ÿ`.ok()`ã§ãã‚Œã‚’`Option<i32>`ã«å¤‰æ›ã™ã‚‹ã®ã€‚æˆåŠŸãªã‚‰`Some`ã€å¤±æ•—ãªã‚‰`None`ã«ãªã‚‹ã‚ã€‚

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è©±

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã¨ã“ã‚ã§ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã£ã¦forãƒ«ãƒ¼ãƒ—ã‚ˆã‚Šé…ããªã„ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚€ã—ã‚**åŒã˜é€Ÿåº¦**ã‚ˆã€‚Rustã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯ã€Œã‚¼ãƒ­ã‚³ã‚¹ãƒˆæŠ½è±¡åŒ–ã€ãªã®ã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚¼ãƒ­ã‚³ã‚¹ãƒˆï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æœ€é©åŒ–ã•ã‚Œã¦ã€æ‰‹æ›¸ãã®forãƒ«ãƒ¼ãƒ—ã¨åŒã˜ãƒã‚·ãƒ³ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã£ã¦ã“ã¨ã­ã€‚

```rust
// ã“ã®2ã¤ã¯åŒã˜é€Ÿåº¦
fn sum_iterator(v: &[i32]) -> i32 {
    v.iter().sum()
}

fn sum_loop(v: &[i32]) -> i32 {
    let mut sum = 0;
    for x in v {
        sum += x;
    }
    sum
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã¸ãƒ¼ã€ã™ã”ã„ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã—ã‹ã‚‚ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒã‚§ãƒ¼ãƒ³ã¯ä¸­é–“ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‰ãªã„ã‹ã‚‰ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã‚‚è‰¯ã„ã®ã€‚

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];

    // ã“ã‚Œã¯ä¸­é–“é…åˆ—ã‚’ä½œã‚‰ãªã„
    let result: Vec<i32> = v.iter()
        .filter(|x| *x % 2 == 0)
        .map(|x| x * 2)
        .collect();

    // JavaScriptã ã¨ã“ã†ãªã‚‹ï¼ˆä¸­é–“é…åˆ—ãŒä½œã‚‰ã‚Œã‚‹ï¼‰
    // const result = v.filter(x => x % 2 === 0).map(x => x * 2);
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãªã‚‹ã»ã©ã€‚ã ã‹ã‚‰Rustã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯é…å»¶è©•ä¾¡ãªã‚“ã ã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã®é€šã‚Šã€‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨è¡¨ç¾åŠ›ã‚’ä¸¡ç«‹ã—ã¦ã‚‹ã®ã€‚

---

### å®¹é‡ã®äº‹å‰ç¢ºä¿

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚‚ã†ä¸€ã¤ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’æ•™ãˆã‚‹ã‚ã€‚

```rust
fn main() {
    let source = vec![1, 2, 3, 4, 5];

    // å®¹é‡ã‚’äº‹å‰ç¢ºä¿
    let mut result = Vec::with_capacity(source.len());
    for x in &source {
        result.push(x * 2);
    }
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã“ã‚Œã£ã¦ä½•ãŒã„ã„ã®ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: Vecã¯è¦ç´ ã‚’è¿½åŠ ã™ã‚‹ã¨ãã«å®¹é‡ãŒè¶³ã‚Šãªã„ã¨ã€ãƒ¡ãƒ¢ãƒªã‚’å†ç¢ºä¿ã—ã¦ã‚³ãƒ”ãƒ¼ã™ã‚‹ã®ã‚ˆã€‚äº‹å‰ã«å®¹é‡ã‚’ç¢ºä¿ã—ã¦ãŠã‘ã°ã€ãã®ç„¡é§„ãªå‡¦ç†ã‚’é¿ã‘ã‚‰ã‚Œã‚‹ã®ã€‚

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ãªã‚‹ã»ã©ã€‚ã˜ã‚ƒã‚ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã†ã¨ãã‚‚ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: `collect()`ã¯è³¢ãã¦ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®`size_hint()`ã‚’è¦‹ã¦è‡ªå‹•ã§å®¹é‡ã‚’ç¢ºä¿ã—ã¦ãã‚Œã‚‹ã‚ã€‚ã ã‹ã‚‰æ™®é€šã¯æ°—ã«ã—ãªãã¦ã„ã„ã®ã€‚

---

## TypeScript/Pythonã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãŸã‚ã®ç§»è¡Œã‚¬ã‚¤ãƒ‰

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: æœ€å¾Œã«ã€ä»–ã®è¨€èªã¨ã®é•ã„ã‚’ã¾ã¨ã‚ã¦æ•™ãˆã¦ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: OKã€‚æ¯”è¼ƒè¡¨ã‚’ä½œã£ãŸã‚ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã®è¨€èªæ¯”è¼ƒ                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Python          JavaScript        Rust                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  list            Array             Vec<T>                       â”‚
â”‚  dict            Map/Object        HashMap<K, V>                â”‚
â”‚  set             Set               HashSet<T>                   â”‚
â”‚                                                                 â”‚
â”‚  [x*2 for...]    .map(x => x*2)    .map(|x| x*2)                â”‚
â”‚  [...if x>0]     .filter(x => x>0) .filter(|x| *x > 0)          â”‚
â”‚  reduce(...)     .reduce(...)      .fold(...)                   â”‚
â”‚  enumerate(...)  .map((x,i) => ...)  .enumerate()               â”‚
â”‚                                                                 â”‚
â”‚  lambda x: x+1   x => x + 1        |x| x + 1                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨è§£æ±ºæ³•

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: æœ€å¾Œã«ã€åˆå¿ƒè€…ãŒã‚ˆããƒãƒã‚‹ã‚¨ãƒ©ãƒ¼ã‚’ç´¹ä»‹ã™ã‚‹ã‚ã­ã€‚

**ã‚¨ãƒ©ãƒ¼1: ãƒ‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹å¿˜ã‚Œ**

```rust
// âŒ ã‚¨ãƒ©ãƒ¼
v.iter().filter(|x| x % 2 == 0)

// âœ… ä¿®æ­£
v.iter().filter(|x| *x % 2 == 0)
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: `x`ãŒ`&&i32`ã ã‹ã‚‰ã ã‚ˆã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã†ã€‚æ…£ã‚Œã‚Œã°è‡ªç„¶ã«æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ã€‚

**ã‚¨ãƒ©ãƒ¼2: collect()å¿˜ã‚Œ**

```rust
// âŒ ã“ã‚Œã¯ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ï¼ˆé…å»¶è©•ä¾¡ï¼‰
let result = v.iter().map(|x| x * 2);

// âœ… collectã§å®Ÿè¡Œ
let result: Vec<_> = v.iter().map(|x| x * 2).collect();
```

**ã‚¨ãƒ©ãƒ¼3: å€Ÿç”¨ä¸­ã®å¤‰æ›´**

```rust
// âŒ ã‚¨ãƒ©ãƒ¼
for x in &v {
    v.push(x * 2);  // å€Ÿç”¨ä¸­ã«å¤‰æ›´ã§ããªã„
}

// âœ… ä¿®æ­£1: åˆ¥ã®Vecã«è¿½åŠ 
let mut result = Vec::new();
for x in &v {
    result.push(x * 2);
}

// âœ… ä¿®æ­£2: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã†
let result: Vec<_> = v.iter().map(|x| x * 2).collect();
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: æ‰€æœ‰æ¨©ã®ãƒ«ãƒ¼ãƒ«ã¯å³ã—ã„ã‘ã©ã€å®‰å…¨æ€§ã®ãŸã‚ãªã‚“ã ã‚ˆã­ã€‚

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ãã®é€šã‚Šã€‚æ…£ã‚Œã‚Œã°ã‚€ã—ã‚å¿«é©ã«ãªã‚‹ã‚ã‚ˆã€‚

---

## ã¾ã¨ã‚ â€” ä»Šæ—¥ã‚ã‹ã£ãŸã“ã¨

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã˜ã‚ƒã‚ã€ä»Šæ—¥å­¦ã‚“ã ã“ã¨ã‚’æŒ¯ã‚Šè¿”ã£ã¦ã¿ã¦ã€‚ã€

ï¼ˆãƒ¦ã‚¤ãŒèˆˆå¥®æ°—å‘³ã«ï¼‰

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæœ€åˆã®forãƒ«ãƒ¼ãƒ—ã®ã‚¨ãƒ©ãƒ¼ã€ä»Šãªã‚‰åˆ†ã‹ã‚Šã¾ã™ï¼`for n in numbers`ã£ã¦æ›¸ãã¨`.into_iter()`ãŒå‘¼ã°ã‚Œã¦**æ‰€æœ‰æ¨©ãŒå¥ªã‚ã‚Œã‚‹**ã‚“ã§ã™ã‚ˆã­ã€‚ã ã‹ã‚‰ãƒ«ãƒ¼ãƒ—ä¸­ã«`numbers`ã‚’ä½¿ãŠã†ã¨ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå®Œç’§ã€‚è§£æ±ºç­–ã¯ï¼Ÿã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`for n in &numbers`ã£ã¦æ›¸ã„ã¦**å€Ÿç”¨ã™ã‚‹**ã‹ã€`.iter()`ã‚’ä½¿ã†ï¼ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œç´ æ™´ã‚‰ã—ã„ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œã‚ã¨ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®**é…å»¶è©•ä¾¡**ãŒã™ã”ãæ–°é®®ã§ã—ãŸã€‚`map().filter().map()`ã£ã¦æ›¸ã„ã¦ã‚‚ã€**`collect()`ã™ã‚‹ã¾ã§ä½•ã‚‚å®Ÿè¡Œã•ã‚Œãªã„**ã‚“ã§ã™ã‚ˆã­ã€‚ä¸­é–“ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‰ãªã„ã‹ã‚‰é«˜é€Ÿï¼ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã‚¼ãƒ­ã‚³ã‚¹ãƒˆæŠ½è±¡åŒ–ã®ãŠã‹ã’ã­ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒPythonã ã¨ãƒªã‚¹ãƒˆå†…åŒ…è¡¨è¨˜ã§ä¼¼ãŸã“ã¨æ›¸ã‘ã‚‹ã‘ã©ã€Rustã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯**å‹å®‰å…¨**ã§**é«˜é€Ÿ**ã€‚ã—ã‹ã‚‚ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã§èª­ã¿ã‚„ã™ã„ï¼ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œã©ã£ã¡ã‚‚è‰¯ã•ãŒã‚ã‚‹ã‘ã©ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é‡è¦–ãªã‚‰Rustã­ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€ŒHashMapã®`entry().or_insert()`ã‚‚ä¾¿åˆ©ã§ã—ãŸï¼Pythonã®`setdefault()`ã¿ãŸã„ã ã‘ã©ã€**å¯å¤‰å‚ç…§ã‚’è¿”ã™**ã‹ã‚‰ãã®å ´ã§æ›´æ–°ã§ãã‚‹ã€‚ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œå˜èªã‚«ã‚¦ãƒ³ãƒˆã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã€è¦šãˆãŸï¼Ÿã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œ`*map.entry(key).or_insert(0) += 1`ï¼æœ€åˆã¯`*`ãŒè¬ã ã£ãŸã‘ã©ã€**å¯å¤‰å‚ç…§ã‚’ä½¿ã£ã¦å€¤ã‚’æ›´æ–°**ã—ã¦ã‚‹ã‚“ã§ã™ã‚ˆã­ã€‚ã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œï¼ˆå¬‰ã—ãã†ã«ï¼‰å®Œç’§ï¼ã€

```
ğŸ¯ ã“ã®ç« ã®ãƒã‚¤ãƒ³ãƒˆ

1. Vec<T>
   - vec! ãƒã‚¯ãƒ­ã§ä½œæˆ
   - push/pop ã§è¿½åŠ ãƒ»å‰Šé™¤
   - get() ã§å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹
   - ã‚¹ãƒ©ã‚¤ã‚¹ (&v[..]) ã§éƒ¨åˆ†å‚ç…§

2. HashMap<K, V>
   - Entry API ã§æ¡ä»¶ä»˜ãæŒ¿å…¥
   - entry().or_insert() ãŒå¼·åŠ›
   - æ‰€æœ‰æ¨©ã«æ³¨æ„

3. ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿
   - é…å»¶è©•ä¾¡ï¼ˆcollectã§æ¶ˆè²»ï¼‰
   - 3ç¨®é¡: iter(), iter_mut(), into_iter()
   - ã‚¼ãƒ­ã‚³ã‚¹ãƒˆæŠ½è±¡åŒ–

4. ã‚ˆãä½¿ã†ãƒ¡ã‚½ãƒƒãƒ‰
   - map()      è¦ç´ å¤‰æ›
   - filter()   çµã‚Šè¾¼ã¿
   - fold()     ç•³ã¿è¾¼ã¿
   - collect()  ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³åŒ–

5. ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£
   - |x| x + 1  ã®å½¢
   - ç’°å¢ƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£
   - move ã§æ‰€æœ‰æ¨©ã‚’å–å¾—
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ¬¡ã¯ä½•ã‚’å­¦ã¶ã®ï¼Ÿã€
>
> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã€Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã­ã€‚ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã—ã¦ã€å¤§ããªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’å­¦ã¶ã‚ã€‚ã€
>
> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã€Œæ¥½ã—ã¿ï¼ã€

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

**[Chapter 07: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«](07-modules.md)** ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã™ã‚‹ãŸã‚ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’å­¦ã³ã¾ã™ã€‚`mod`ã€`use`ã€`pub`ã€ã‚¯ãƒ¬ãƒ¼ãƒˆã®æ§‹é€ ã‚’è§£èª¬ã—ã¾ã™ã€‚

---

## ç·´ç¿’å•é¡Œ

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ç·´ç¿’å•é¡Œã‚‚ã‚ã‚‹ï¼Ÿ

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: ã‚‚ã¡ã‚ã‚“ã€‚è‡ªåˆ†ã§è€ƒãˆã¦ã¿ã¦ã€‚

### å•é¡Œ1: å˜èªã®é »åº¦ã‚«ã‚¦ãƒ³ãƒˆï¼ˆé›£æ˜“åº¦: â˜…â˜†â˜†ï¼‰

æ–‡å­—åˆ—ã‹ã‚‰å˜èªã‚’æŠ½å‡ºã—ã€å‡ºç¾å›æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚

```rust
use std::collections::HashMap;

fn word_frequency(text: &str) -> HashMap<&str, usize> {
    // ã“ã“ã‚’å®Ÿè£…
    todo!()
}

fn main() {
    let text = "hello world hello rust world";
    let freq = word_frequency(text);
    println!("{:?}", freq);
    // {"hello": 2, "world": 2, "rust": 1}
}
```

### å•é¡Œ2: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¹´é½¢å¹³å‡ï¼ˆé›£æ˜“åº¦: â˜…â˜…â˜†ï¼‰

ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¹´é½¢ã®å¹³å‡ã‚’è¨ˆç®—ã—ã¦ãã ã•ã„ã€‚

```rust
#[derive(Debug)]
struct User {
    name: String,
    age: u32,
    active: bool,
}

fn average_age_of_active_users(users: &[User]) -> Option<f64> {
    // ã“ã“ã‚’å®Ÿè£…
    todo!()
}

fn main() {
    let users = vec![
        User { name: "Alice".to_string(), age: 30, active: true },
        User { name: "Bob".to_string(), age: 25, active: false },
        User { name: "Charlie".to_string(), age: 35, active: true },
    ];

    if let Some(avg) = average_age_of_active_users(&users) {
        println!("Average age: {}", avg);  // 32.5
    }
}
```

### å•é¡Œ3: é‡è¤‡ã®é™¤å»ï¼ˆé›£æ˜“åº¦: â˜…â˜…â˜…ï¼‰

Vecã‹ã‚‰é‡è¤‡ã‚’é™¤å»ã—ã¦ã€é †åºã‚’ä¿ã£ãŸã¾ã¾æ–°ã—ã„Vecã‚’ä½œã£ã¦ãã ã•ã„ã€‚
ï¼ˆãƒ’ãƒ³ãƒˆ: HashSetã‚’ä½¿ã†ï¼‰

```rust
fn dedup_preserve_order<T: Eq + std::hash::Hash + Clone>(v: Vec<T>) -> Vec<T> {
    // ã“ã“ã‚’å®Ÿè£…
    todo!()
}

fn main() {
    let v = vec![1, 2, 3, 2, 4, 3, 5];
    let result = dedup_preserve_order(v);
    println!("{:?}", result);  // [1, 2, 3, 4, 5]
}
```

> ğŸ‘©â€ğŸ’» **ãƒ¦ã‚¤**: ã‚„ã£ã¦ã¿ã‚‹ï¼

> ğŸ‘©â€ğŸ« **ãƒ¬ã‚¤**: é ‘å¼µã£ã¦ã€‚å›°ã£ãŸã‚‰è§£ç­”ä¾‹ã‚‚ç”¨æ„ã—ã¦ã‚ã‚‹ã‹ã‚‰å®‰å¿ƒã—ã¦ã€‚

---

<details>
<summary>è§£ç­”ä¾‹</summary>

### å•é¡Œ1: è§£ç­”

```rust
use std::collections::HashMap;

fn word_frequency(text: &str) -> HashMap<&str, usize> {
    let mut freq = HashMap::new();

    for word in text.split_whitespace() {
        *freq.entry(word).or_insert(0) += 1;
    }

    freq
}
```

### å•é¡Œ2: è§£ç­”

```rust
fn average_age_of_active_users(users: &[User]) -> Option<f64> {
    let active_users: Vec<_> = users.iter()
        .filter(|u| u.active)
        .collect();

    if active_users.is_empty() {
        return None;
    }

    let sum: u32 = active_users.iter().map(|u| u.age).sum();
    Some(sum as f64 / active_users.len() as f64)
}
```

### å•é¡Œ3: è§£ç­”

```rust
use std::collections::HashSet;

fn dedup_preserve_order<T: Eq + std::hash::Hash + Clone>(v: Vec<T>) -> Vec<T> {
    let mut seen = HashSet::new();
    let mut result = Vec::new();

    for item in v {
        if seen.insert(item.clone()) {
            result.push(item);
        }
    }

    result
}
```

</details>
